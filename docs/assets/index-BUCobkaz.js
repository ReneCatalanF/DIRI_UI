var Ay=Object.defineProperty;var My=(r,t,i)=>t in r?Ay(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var Ju=(r,t,i)=>My(r,typeof t!="symbol"?t+"":t,i);function Ly(r,t){for(var i=0;i<t.length;i++){const o=t[i];if(typeof o!="string"&&!Array.isArray(o)){for(const u in o)if(u!=="default"&&!(u in r)){const c=Object.getOwnPropertyDescriptor(o,u);c&&Object.defineProperty(r,u,c.get?c:{enumerable:!0,get:()=>o[u]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=i(u);fetch(u.href,c)}})();function Fy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zu={exports:{}},$i={},ea={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh;function by(){if(yh)return ie;yh=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,z={};function F(S,R,K){this.props=S,this.context=R,this.refs=z,this.updater=K||x}F.prototype.isReactComponent={},F.prototype.setState=function(S,R){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,R,"setState")},F.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Y(){}Y.prototype=F.prototype;function J(S,R,K){this.props=S,this.context=R,this.refs=z,this.updater=K||x}var ee=J.prototype=new Y;ee.constructor=J,P(ee,F.prototype),ee.isPureReactComponent=!0;var te=Array.isArray,De=Object.prototype.hasOwnProperty,Ee={current:null},ye={key:!0,ref:!0,__self:!0,__source:!0};function Qe(S,R,K){var ne,re={},le=null,fe=null;if(R!=null)for(ne in R.ref!==void 0&&(fe=R.ref),R.key!==void 0&&(le=""+R.key),R)De.call(R,ne)&&!ye.hasOwnProperty(ne)&&(re[ne]=R[ne]);var ue=arguments.length-2;if(ue===1)re.children=K;else if(1<ue){for(var he=Array(ue),Et=0;Et<ue;Et++)he[Et]=arguments[Et+2];re.children=he}if(S&&S.defaultProps)for(ne in ue=S.defaultProps,ue)re[ne]===void 0&&(re[ne]=ue[ne]);return{$$typeof:r,type:S,key:le,ref:fe,props:re,_owner:Ee.current}}function wt(S,R){return{$$typeof:r,type:S.type,key:R,ref:S.ref,props:S.props,_owner:S._owner}}function Oe(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function lt(S){var R={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(K){return R[K]})}var Ze=/\/+/g;function Fe(S,R){return typeof S=="object"&&S!==null&&S.key!=null?lt(""+S.key):R.toString(36)}function He(S,R,K,ne,re){var le=typeof S;(le==="undefined"||le==="boolean")&&(S=null);var fe=!1;if(S===null)fe=!0;else switch(le){case"string":case"number":fe=!0;break;case"object":switch(S.$$typeof){case r:case t:fe=!0}}if(fe)return fe=S,re=re(fe),S=ne===""?"."+Fe(fe,0):ne,te(re)?(K="",S!=null&&(K=S.replace(Ze,"$&/")+"/"),He(re,R,K,"",function(Et){return Et})):re!=null&&(Oe(re)&&(re=wt(re,K+(!re.key||fe&&fe.key===re.key?"":(""+re.key).replace(Ze,"$&/")+"/")+S)),R.push(re)),1;if(fe=0,ne=ne===""?".":ne+":",te(S))for(var ue=0;ue<S.length;ue++){le=S[ue];var he=ne+Fe(le,ue);fe+=He(le,R,K,he,re)}else if(he=T(S),typeof he=="function")for(S=he.call(S),ue=0;!(le=S.next()).done;)le=le.value,he=ne+Fe(le,ue++),fe+=He(le,R,K,he,re);else if(le==="object")throw R=String(S),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return fe}function et(S,R,K){if(S==null)return S;var ne=[],re=0;return He(S,ne,"","",function(le){return R.call(K,le,re++)}),ne}function ze(S){if(S._status===-1){var R=S._result;R=R(),R.then(function(K){(S._status===0||S._status===-1)&&(S._status=1,S._result=K)},function(K){(S._status===0||S._status===-1)&&(S._status=2,S._result=K)}),S._status===-1&&(S._status=0,S._result=R)}if(S._status===1)return S._result.default;throw S._result}var _e={current:null},L={transition:null},V={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:L,ReactCurrentOwner:Ee};function $(){throw Error("act(...) is not supported in production builds of React.")}return ie.Children={map:et,forEach:function(S,R,K){et(S,function(){R.apply(this,arguments)},K)},count:function(S){var R=0;return et(S,function(){R++}),R},toArray:function(S){return et(S,function(R){return R})||[]},only:function(S){if(!Oe(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ie.Component=F,ie.Fragment=i,ie.Profiler=u,ie.PureComponent=J,ie.StrictMode=o,ie.Suspense=p,ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,ie.act=$,ie.cloneElement=function(S,R,K){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ne=P({},S.props),re=S.key,le=S.ref,fe=S._owner;if(R!=null){if(R.ref!==void 0&&(le=R.ref,fe=Ee.current),R.key!==void 0&&(re=""+R.key),S.type&&S.type.defaultProps)var ue=S.type.defaultProps;for(he in R)De.call(R,he)&&!ye.hasOwnProperty(he)&&(ne[he]=R[he]===void 0&&ue!==void 0?ue[he]:R[he])}var he=arguments.length-2;if(he===1)ne.children=K;else if(1<he){ue=Array(he);for(var Et=0;Et<he;Et++)ue[Et]=arguments[Et+2];ne.children=ue}return{$$typeof:r,type:S.type,key:re,ref:le,props:ne,_owner:fe}},ie.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:c,_context:S},S.Consumer=S},ie.createElement=Qe,ie.createFactory=function(S){var R=Qe.bind(null,S);return R.type=S,R},ie.createRef=function(){return{current:null}},ie.forwardRef=function(S){return{$$typeof:h,render:S}},ie.isValidElement=Oe,ie.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:ze}},ie.memo=function(S,R){return{$$typeof:g,type:S,compare:R===void 0?null:R}},ie.startTransition=function(S){var R=L.transition;L.transition={};try{S()}finally{L.transition=R}},ie.unstable_act=$,ie.useCallback=function(S,R){return _e.current.useCallback(S,R)},ie.useContext=function(S){return _e.current.useContext(S)},ie.useDebugValue=function(){},ie.useDeferredValue=function(S){return _e.current.useDeferredValue(S)},ie.useEffect=function(S,R){return _e.current.useEffect(S,R)},ie.useId=function(){return _e.current.useId()},ie.useImperativeHandle=function(S,R,K){return _e.current.useImperativeHandle(S,R,K)},ie.useInsertionEffect=function(S,R){return _e.current.useInsertionEffect(S,R)},ie.useLayoutEffect=function(S,R){return _e.current.useLayoutEffect(S,R)},ie.useMemo=function(S,R){return _e.current.useMemo(S,R)},ie.useReducer=function(S,R,K){return _e.current.useReducer(S,R,K)},ie.useRef=function(S){return _e.current.useRef(S)},ie.useState=function(S){return _e.current.useState(S)},ie.useSyncExternalStore=function(S,R,K){return _e.current.useSyncExternalStore(S,R,K)},ie.useTransition=function(){return _e.current.useTransition()},ie.version="18.3.1",ie}var vh;function Ba(){return vh||(vh=1,ea.exports=by()),ea.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh;function zy(){if(wh)return $i;wh=1;var r=Ba(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(h,p,g){var y,v={},T=null,x=null;g!==void 0&&(T=""+g),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(x=p.ref);for(y in p)o.call(p,y)&&!c.hasOwnProperty(y)&&(v[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:t,type:h,key:T,ref:x,props:v,_owner:u.current}}return $i.Fragment=i,$i.jsx=f,$i.jsxs=f,$i}var Eh;function jy(){return Eh||(Eh=1,Zu.exports=zy()),Zu.exports}var j=jy(),N=Ba();const Z=Fy(N),Sh=Ly({__proto__:null,default:Z},[N]);var Co={},ta={exports:{}},gt={},na={exports:{}},ra={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function $y(){return Ch||(Ch=1,function(r){function t(L,V){var $=L.length;L.push(V);e:for(;0<$;){var S=$-1>>>1,R=L[S];if(0<u(R,V))L[S]=V,L[$]=R,$=S;else break e}}function i(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var V=L[0],$=L.pop();if($!==V){L[0]=$;e:for(var S=0,R=L.length,K=R>>>1;S<K;){var ne=2*(S+1)-1,re=L[ne],le=ne+1,fe=L[le];if(0>u(re,$))le<R&&0>u(fe,re)?(L[S]=fe,L[le]=$,S=le):(L[S]=re,L[ne]=$,S=ne);else if(le<R&&0>u(fe,$))L[S]=fe,L[le]=$,S=le;else break e}}return V}function u(L,V){var $=L.sortIndex-V.sortIndex;return $!==0?$:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();r.unstable_now=function(){return f.now()-h}}var p=[],g=[],y=1,v=null,T=3,x=!1,P=!1,z=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(L){for(var V=i(g);V!==null;){if(V.callback===null)o(g);else if(V.startTime<=L)o(g),V.sortIndex=V.expirationTime,t(p,V);else break;V=i(g)}}function te(L){if(z=!1,ee(L),!P)if(i(p)!==null)P=!0,ze(De);else{var V=i(g);V!==null&&_e(te,V.startTime-L)}}function De(L,V){P=!1,z&&(z=!1,Y(Qe),Qe=-1),x=!0;var $=T;try{for(ee(V),v=i(p);v!==null&&(!(v.expirationTime>V)||L&&!lt());){var S=v.callback;if(typeof S=="function"){v.callback=null,T=v.priorityLevel;var R=S(v.expirationTime<=V);V=r.unstable_now(),typeof R=="function"?v.callback=R:v===i(p)&&o(p),ee(V)}else o(p);v=i(p)}if(v!==null)var K=!0;else{var ne=i(g);ne!==null&&_e(te,ne.startTime-V),K=!1}return K}finally{v=null,T=$,x=!1}}var Ee=!1,ye=null,Qe=-1,wt=5,Oe=-1;function lt(){return!(r.unstable_now()-Oe<wt)}function Ze(){if(ye!==null){var L=r.unstable_now();Oe=L;var V=!0;try{V=ye(!0,L)}finally{V?Fe():(Ee=!1,ye=null)}}else Ee=!1}var Fe;if(typeof J=="function")Fe=function(){J(Ze)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,et=He.port2;He.port1.onmessage=Ze,Fe=function(){et.postMessage(null)}}else Fe=function(){F(Ze,0)};function ze(L){ye=L,Ee||(Ee=!0,Fe())}function _e(L,V){Qe=F(function(){L(r.unstable_now())},V)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_continueExecution=function(){P||x||(P=!0,ze(De))},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(L){switch(T){case 1:case 2:case 3:var V=3;break;default:V=T}var $=T;T=V;try{return L()}finally{T=$}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=T;T=L;try{return V()}finally{T=$}},r.unstable_scheduleCallback=function(L,V,$){var S=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?S+$:S):$=S,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=$+R,L={id:y++,callback:V,priorityLevel:L,startTime:$,expirationTime:R,sortIndex:-1},$>S?(L.sortIndex=$,t(g,L),i(p)===null&&L===i(g)&&(z?(Y(Qe),Qe=-1):z=!0,_e(te,$-S))):(L.sortIndex=R,t(p,L),P||x||(P=!0,ze(De))),L},r.unstable_shouldYield=lt,r.unstable_wrapCallback=function(L){var V=T;return function(){var $=T;T=V;try{return L.apply(this,arguments)}finally{T=$}}}}(ra)),ra}var kh;function Uy(){return kh||(kh=1,na.exports=$y()),na.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function Hy(){if(Th)return gt;Th=1;var r=Ba(),t=Uy();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(u[e]=n,e=0;e<n.length;e++)o.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function T(e){return p.call(v,e)?!0:p.call(y,e)?!1:g.test(e)?v[e]=!0:(y[e]=!0,!1)}function x(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,n,s,l){if(n===null||typeof n>"u"||x(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function z(e,n,s,l,a,d,m){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=m}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){F[e]=new z(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];F[n]=new z(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){F[e]=new z(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){F[e]=new z(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){F[e]=new z(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){F[e]=new z(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){F[e]=new z(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){F[e]=new z(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){F[e]=new z(e,5,!1,e.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Y,J);F[n]=new z(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Y,J);F[n]=new z(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Y,J);F[n]=new z(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){F[e]=new z(e,1,!1,e.toLowerCase(),null,!1,!1)}),F.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){F[e]=new z(e,1,!1,e.toLowerCase(),null,!0,!0)});function ee(e,n,s,l){var a=F.hasOwnProperty(n)?F[n]:null;(a!==null?a.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(P(n,s,a,l)&&(s=null),l||a===null?T(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,l=a.attributeNamespace,s===null?e.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var te=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,De=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),ye=Symbol.for("react.fragment"),Qe=Symbol.for("react.strict_mode"),wt=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),lt=Symbol.for("react.context"),Ze=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),L=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,S;function R(e){if(S===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);S=n&&n[1]||""}return`
`+S+e}var K=!1;function ne(e,n){if(!e||K)return"";K=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var l=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){l=I}e.call(n.prototype)}else{try{throw Error()}catch(I){l=I}e()}}catch(I){if(I&&l&&typeof I.stack=="string"){for(var a=I.stack.split(`
`),d=l.stack.split(`
`),m=a.length-1,_=d.length-1;1<=m&&0<=_&&a[m]!==d[_];)_--;for(;1<=m&&0<=_;m--,_--)if(a[m]!==d[_]){if(m!==1||_!==1)do if(m--,_--,0>_||a[m]!==d[_]){var w=`
`+a[m].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=m&&0<=_);break}}}finally{K=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function re(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function le(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ye:return"Fragment";case Ee:return"Portal";case wt:return"Profiler";case Qe:return"StrictMode";case Fe:return"Suspense";case He:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lt:return(e.displayName||"Context")+".Consumer";case Oe:return(e._context.displayName||"Context")+".Provider";case Ze:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case et:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case ze:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}function fe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(n);case 8:return n===Qe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ue(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function he(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Et(e){var n=he(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(m){l=""+m,d.call(this,m)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function fs(e){e._valueTracker||(e._valueTracker=Et(e))}function Cc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=he(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sl(e,n){var s=n.checked;return $({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function kc(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=ue(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Tc(e,n){n=n.checked,n!=null&&ee(e,"checked",n,!1)}function ol(e,n){Tc(e,n);var s=ue(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ll(e,n.type,s):n.hasOwnProperty("defaultValue")&&ll(e,n.type,ue(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ic(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function ll(e,n,s){(n!=="number"||hs(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ti=Array.isArray;function _r(e,n,s,l){if(e=e.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=n.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ue(s),n=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}n!==null||e[a].disabled||(n=e[a])}n!==null&&(n.selected=!0)}}function ul(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return $({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(i(92));if(ti(s)){if(1<s.length)throw Error(i(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:ue(s)}}function xc(e,n){var s=ue(n.value),l=ue(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function Rc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Pc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function al(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Pc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,Dc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,a){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,a)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ni(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zg=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(e){zg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ri[n]=ri[e]})});function Oc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ri.hasOwnProperty(e)&&ri[e]?(""+n).trim():n+"px"}function Ac(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,a=Oc(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,a):e[s]=a}}var jg=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(e,n){if(n){if(jg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function dl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fl=null;function hl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pl=null,yr=null,vr=null;function Mc(e){if(e=Ti(e)){if(typeof pl!="function")throw Error(i(280));var n=e.stateNode;n&&(n=bs(n),pl(e.stateNode,e.type,n))}}function Lc(e){yr?vr?vr.push(e):vr=[e]:yr=e}function Fc(){if(yr){var e=yr,n=vr;if(vr=yr=null,Mc(e),n)for(e=0;e<n.length;e++)Mc(n[e])}}function bc(e,n){return e(n)}function zc(){}var ml=!1;function jc(e,n,s){if(ml)return e(n,s);ml=!0;try{return bc(e,n,s)}finally{ml=!1,(yr!==null||vr!==null)&&(zc(),Fc())}}function ii(e,n){var s=e.stateNode;if(s===null)return null;var l=bs(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var gl=!1;if(h)try{var si={};Object.defineProperty(si,"passive",{get:function(){gl=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{gl=!1}function $g(e,n,s,l,a,d,m,_,w){var I=Array.prototype.slice.call(arguments,3);try{n.apply(s,I)}catch(O){this.onError(O)}}var oi=!1,ms=null,gs=!1,_l=null,Ug={onError:function(e){oi=!0,ms=e}};function Hg(e,n,s,l,a,d,m,_,w){oi=!1,ms=null,$g.apply(Ug,arguments)}function Bg(e,n,s,l,a,d,m,_,w){if(Hg.apply(this,arguments),oi){if(oi){var I=ms;oi=!1,ms=null}else throw Error(i(198));gs||(gs=!0,_l=I)}}function Bn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function $c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Uc(e){if(Bn(e)!==e)throw Error(i(188))}function Wg(e){var n=e.alternate;if(!n){if(n=Bn(e),n===null)throw Error(i(188));return n!==e?null:e}for(var s=e,l=n;;){var a=s.return;if(a===null)break;var d=a.alternate;if(d===null){if(l=a.return,l!==null){s=l;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===s)return Uc(a),e;if(d===l)return Uc(a),n;d=d.sibling}throw Error(i(188))}if(s.return!==l.return)s=a,l=d;else{for(var m=!1,_=a.child;_;){if(_===s){m=!0,s=a,l=d;break}if(_===l){m=!0,l=a,s=d;break}_=_.sibling}if(!m){for(_=d.child;_;){if(_===s){m=!0,s=d,l=a;break}if(_===l){m=!0,l=d,s=a;break}_=_.sibling}if(!m)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:n}function Hc(e){return e=Wg(e),e!==null?Bc(e):null}function Bc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Bc(e);if(n!==null)return n;e=e.sibling}return null}var Wc=t.unstable_scheduleCallback,Vc=t.unstable_cancelCallback,Vg=t.unstable_shouldYield,Gg=t.unstable_requestPaint,Me=t.unstable_now,Kg=t.unstable_getCurrentPriorityLevel,yl=t.unstable_ImmediatePriority,Gc=t.unstable_UserBlockingPriority,_s=t.unstable_NormalPriority,Qg=t.unstable_LowPriority,Kc=t.unstable_IdlePriority,ys=null,Vt=null;function qg(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(ys,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:Jg,Yg=Math.log,Xg=Math.LN2;function Jg(e){return e>>>=0,e===0?32:31-(Yg(e)/Xg|0)|0}var vs=64,ws=4194304;function li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Es(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,a=e.suspendedLanes,d=e.pingedLanes,m=s&268435455;if(m!==0){var _=m&~a;_!==0?l=li(_):(d&=m,d!==0&&(l=li(d)))}else m=s&~a,m!==0?l=li(m):d!==0&&(l=li(d));if(l===0)return 0;if(n!==0&&n!==l&&!(n&a)&&(a=l&-l,d=n&-n,a>=d||a===16&&(d&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-Lt(n),a=1<<s,l|=e[s],n&=~a;return l}function Zg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e_(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,d=e.pendingLanes;0<d;){var m=31-Lt(d),_=1<<m,w=a[m];w===-1?(!(_&s)||_&l)&&(a[m]=Zg(_,n)):w<=n&&(e.expiredLanes|=_),d&=~_}}function vl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qc(){var e=vs;return vs<<=1,!(vs&4194240)&&(vs=64),e}function wl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ui(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Lt(n),e[n]=s}function t_(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Lt(s),d=1<<a;n[a]=0,l[a]=-1,e[a]=-1,s&=~d}}function El(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Lt(s),a=1<<l;a&n|e[l]&n&&(e[l]|=n),s&=~a}}var me=0;function qc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yc,Sl,Xc,Jc,Zc,Cl=!1,Ss=[],gn=null,_n=null,yn=null,ai=new Map,ci=new Map,vn=[],n_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ed(e,n){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":ai.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(n.pointerId)}}function di(e,n,s,l,a,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[a]},n!==null&&(n=Ti(n),n!==null&&Sl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),e)}function r_(e,n,s,l,a){switch(n){case"focusin":return gn=di(gn,e,n,s,l,a),!0;case"dragenter":return _n=di(_n,e,n,s,l,a),!0;case"mouseover":return yn=di(yn,e,n,s,l,a),!0;case"pointerover":var d=a.pointerId;return ai.set(d,di(ai.get(d)||null,e,n,s,l,a)),!0;case"gotpointercapture":return d=a.pointerId,ci.set(d,di(ci.get(d)||null,e,n,s,l,a)),!0}return!1}function td(e){var n=Wn(e.target);if(n!==null){var s=Bn(n);if(s!==null){if(n=s.tag,n===13){if(n=$c(s),n!==null){e.blockedOn=n,Zc(e.priority,function(){Xc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Tl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);fl=l,s.target.dispatchEvent(l),fl=null}else return n=Ti(s),n!==null&&Sl(n),e.blockedOn=s,!1;n.shift()}return!0}function nd(e,n,s){Cs(e)&&s.delete(n)}function i_(){Cl=!1,gn!==null&&Cs(gn)&&(gn=null),_n!==null&&Cs(_n)&&(_n=null),yn!==null&&Cs(yn)&&(yn=null),ai.forEach(nd),ci.forEach(nd)}function fi(e,n){e.blockedOn===n&&(e.blockedOn=null,Cl||(Cl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,i_)))}function hi(e){function n(a){return fi(a,e)}if(0<Ss.length){fi(Ss[0],e);for(var s=1;s<Ss.length;s++){var l=Ss[s];l.blockedOn===e&&(l.blockedOn=null)}}for(gn!==null&&fi(gn,e),_n!==null&&fi(_n,e),yn!==null&&fi(yn,e),ai.forEach(n),ci.forEach(n),s=0;s<vn.length;s++)l=vn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<vn.length&&(s=vn[0],s.blockedOn===null);)td(s),s.blockedOn===null&&vn.shift()}var wr=te.ReactCurrentBatchConfig,ks=!0;function s_(e,n,s,l){var a=me,d=wr.transition;wr.transition=null;try{me=1,kl(e,n,s,l)}finally{me=a,wr.transition=d}}function o_(e,n,s,l){var a=me,d=wr.transition;wr.transition=null;try{me=4,kl(e,n,s,l)}finally{me=a,wr.transition=d}}function kl(e,n,s,l){if(ks){var a=Tl(e,n,s,l);if(a===null)Hl(e,n,l,Ts,s),ed(e,l);else if(r_(a,e,n,s,l))l.stopPropagation();else if(ed(e,l),n&4&&-1<n_.indexOf(e)){for(;a!==null;){var d=Ti(a);if(d!==null&&Yc(d),d=Tl(e,n,s,l),d===null&&Hl(e,n,l,Ts,s),d===a)break;a=d}a!==null&&l.stopPropagation()}else Hl(e,n,l,null,s)}}var Ts=null;function Tl(e,n,s,l){if(Ts=null,e=hl(l),e=Wn(e),e!==null)if(n=Bn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=$c(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Ts=e,null}function rd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kg()){case yl:return 1;case Gc:return 4;case _s:case Qg:return 16;case Kc:return 536870912;default:return 16}default:return 16}}var wn=null,Il=null,Is=null;function id(){if(Is)return Is;var e,n=Il,s=n.length,l,a="value"in wn?wn.value:wn.textContent,d=a.length;for(e=0;e<s&&n[e]===a[e];e++);var m=s-e;for(l=1;l<=m&&n[s-l]===a[d-l];l++);return Is=a.slice(e,1<l?1-l:void 0)}function Ns(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function sd(){return!1}function St(e){function n(s,l,a,d,m){this._reactName=s,this._targetInst=a,this.type=l,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xs:sd,this.isPropagationStopped=sd,this}return $(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),n}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=St(Er),pi=$({},Er,{view:0,detail:0}),l_=St(pi),xl,Rl,mi,Rs=$({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(xl=e.screenX-mi.screenX,Rl=e.screenY-mi.screenY):Rl=xl=0,mi=e),xl)},movementY:function(e){return"movementY"in e?e.movementY:Rl}}),od=St(Rs),u_=$({},Rs,{dataTransfer:0}),a_=St(u_),c_=$({},pi,{relatedTarget:0}),Pl=St(c_),d_=$({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),f_=St(d_),h_=$({},Er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p_=St(h_),m_=$({},Er,{data:0}),ld=St(m_),g_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},__={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=y_[e])?!!n[e]:!1}function Dl(){return v_}var w_=$({},pi,{key:function(e){if(e.key){var n=g_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?__[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E_=St(w_),S_=$({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=St(S_),C_=$({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),k_=St(C_),T_=$({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),I_=St(T_),N_=$({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x_=St(N_),R_=[9,13,27,32],Ol=h&&"CompositionEvent"in window,gi=null;h&&"documentMode"in document&&(gi=document.documentMode);var P_=h&&"TextEvent"in window&&!gi,ad=h&&(!Ol||gi&&8<gi&&11>=gi),cd=" ",dd=!1;function fd(e,n){switch(e){case"keyup":return R_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sr=!1;function D_(e,n){switch(e){case"compositionend":return hd(n);case"keypress":return n.which!==32?null:(dd=!0,cd);case"textInput":return e=n.data,e===cd&&dd?null:e;default:return null}}function O_(e,n){if(Sr)return e==="compositionend"||!Ol&&fd(e,n)?(e=id(),Is=Il=wn=null,Sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ad&&n.locale!=="ko"?null:n.data;default:return null}}var A_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!A_[e.type]:n==="textarea"}function md(e,n,s,l){Lc(l),n=Ms(n,"onChange"),0<n.length&&(s=new Nl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var _i=null,yi=null;function M_(e){Ad(e,0)}function Ps(e){var n=Nr(e);if(Cc(n))return e}function L_(e,n){if(e==="change")return n}var gd=!1;if(h){var Al;if(h){var Ml="oninput"in document;if(!Ml){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),Ml=typeof _d.oninput=="function"}Al=Ml}else Al=!1;gd=Al&&(!document.documentMode||9<document.documentMode)}function yd(){_i&&(_i.detachEvent("onpropertychange",vd),yi=_i=null)}function vd(e){if(e.propertyName==="value"&&Ps(yi)){var n=[];md(n,yi,e,hl(e)),jc(M_,n)}}function F_(e,n,s){e==="focusin"?(yd(),_i=n,yi=s,_i.attachEvent("onpropertychange",vd)):e==="focusout"&&yd()}function b_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ps(yi)}function z_(e,n){if(e==="click")return Ps(n)}function j_(e,n){if(e==="input"||e==="change")return Ps(n)}function $_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ft=typeof Object.is=="function"?Object.is:$_;function vi(e,n){if(Ft(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var a=s[l];if(!p.call(n,a)||!Ft(e[a],n[a]))return!1}return!0}function wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ed(e,n){var s=wd(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=wd(s)}}function Sd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cd(){for(var e=window,n=hs();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=hs(e.document)}return n}function Ll(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function U_(e){var n=Cd(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Sd(s.ownerDocument.documentElement,s)){if(l!==null&&Ll(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,d=Math.min(l.start,a);l=l.end===void 0?d:Math.min(l.end,a),!e.extend&&d>l&&(a=l,l=d,d=a),a=Ed(s,d);var m=Ed(s,l);a&&m&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(m.node,m.offset)):(n.setEnd(m.node,m.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var H_=h&&"documentMode"in document&&11>=document.documentMode,Cr=null,Fl=null,wi=null,bl=!1;function kd(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bl||Cr==null||Cr!==hs(l)||(l=Cr,"selectionStart"in l&&Ll(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wi&&vi(wi,l)||(wi=l,l=Ms(Fl,"onSelect"),0<l.length&&(n=new Nl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Cr)))}function Ds(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var kr={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},zl={},Td={};h&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function Os(e){if(zl[e])return zl[e];if(!kr[e])return e;var n=kr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Td)return zl[e]=n[s];return e}var Id=Os("animationend"),Nd=Os("animationiteration"),xd=Os("animationstart"),Rd=Os("transitionend"),Pd=new Map,Dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,n){Pd.set(e,n),c(n,[e])}for(var jl=0;jl<Dd.length;jl++){var $l=Dd[jl],B_=$l.toLowerCase(),W_=$l[0].toUpperCase()+$l.slice(1);En(B_,"on"+W_)}En(Id,"onAnimationEnd"),En(Nd,"onAnimationIteration"),En(xd,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Rd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function Od(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Bg(l,n,void 0,e),e.currentTarget=null}function Ad(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],a=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var m=l.length-1;0<=m;m--){var _=l[m],w=_.instance,I=_.currentTarget;if(_=_.listener,w!==d&&a.isPropagationStopped())break e;Od(a,_,I),d=w}else for(m=0;m<l.length;m++){if(_=l[m],w=_.instance,I=_.currentTarget,_=_.listener,w!==d&&a.isPropagationStopped())break e;Od(a,_,I),d=w}}}if(gs)throw e=_l,gs=!1,_l=null,e}function Se(e,n){var s=n[Ql];s===void 0&&(s=n[Ql]=new Set);var l=e+"__bubble";s.has(l)||(Md(n,e,2,!1),s.add(l))}function Ul(e,n,s){var l=0;n&&(l|=4),Md(s,e,l,n)}var As="_reactListening"+Math.random().toString(36).slice(2);function Si(e){if(!e[As]){e[As]=!0,o.forEach(function(s){s!=="selectionchange"&&(V_.has(s)||Ul(s,!1,e),Ul(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[As]||(n[As]=!0,Ul("selectionchange",!1,n))}}function Md(e,n,s,l){switch(rd(n)){case 1:var a=s_;break;case 4:a=o_;break;default:a=kl}s=a.bind(null,n,s,e),a=void 0,!gl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(n,s,{capture:!0,passive:a}):e.addEventListener(n,s,!0):a!==void 0?e.addEventListener(n,s,{passive:a}):e.addEventListener(n,s,!1)}function Hl(e,n,s,l,a){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var _=l.stateNode.containerInfo;if(_===a||_.nodeType===8&&_.parentNode===a)break;if(m===4)for(m=l.return;m!==null;){var w=m.tag;if((w===3||w===4)&&(w=m.stateNode.containerInfo,w===a||w.nodeType===8&&w.parentNode===a))return;m=m.return}for(;_!==null;){if(m=Wn(_),m===null)return;if(w=m.tag,w===5||w===6){l=d=m;continue e}_=_.parentNode}}l=l.return}jc(function(){var I=d,O=hl(s),A=[];e:{var D=Pd.get(e);if(D!==void 0){var U=Nl,B=e;switch(e){case"keypress":if(Ns(s)===0)break e;case"keydown":case"keyup":U=E_;break;case"focusin":B="focus",U=Pl;break;case"focusout":B="blur",U=Pl;break;case"beforeblur":case"afterblur":U=Pl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=a_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=k_;break;case Id:case Nd:case xd:U=f_;break;case Rd:U=I_;break;case"scroll":U=l_;break;case"wheel":U=x_;break;case"copy":case"cut":case"paste":U=p_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=ud}var W=(n&4)!==0,Le=!W&&e==="scroll",C=W?D!==null?D+"Capture":null:D;W=[];for(var E=I,k;E!==null;){k=E;var M=k.stateNode;if(k.tag===5&&M!==null&&(k=M,C!==null&&(M=ii(E,C),M!=null&&W.push(Ci(E,M,k)))),Le)break;E=E.return}0<W.length&&(D=new U(D,B,null,s,O),A.push({event:D,listeners:W}))}}if(!(n&7)){e:{if(D=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",D&&s!==fl&&(B=s.relatedTarget||s.fromElement)&&(Wn(B)||B[Zt]))break e;if((U||D)&&(D=O.window===O?O:(D=O.ownerDocument)?D.defaultView||D.parentWindow:window,U?(B=s.relatedTarget||s.toElement,U=I,B=B?Wn(B):null,B!==null&&(Le=Bn(B),B!==Le||B.tag!==5&&B.tag!==6)&&(B=null)):(U=null,B=I),U!==B)){if(W=od,M="onMouseLeave",C="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(W=ud,M="onPointerLeave",C="onPointerEnter",E="pointer"),Le=U==null?D:Nr(U),k=B==null?D:Nr(B),D=new W(M,E+"leave",U,s,O),D.target=Le,D.relatedTarget=k,M=null,Wn(O)===I&&(W=new W(C,E+"enter",B,s,O),W.target=k,W.relatedTarget=Le,M=W),Le=M,U&&B)t:{for(W=U,C=B,E=0,k=W;k;k=Tr(k))E++;for(k=0,M=C;M;M=Tr(M))k++;for(;0<E-k;)W=Tr(W),E--;for(;0<k-E;)C=Tr(C),k--;for(;E--;){if(W===C||C!==null&&W===C.alternate)break t;W=Tr(W),C=Tr(C)}W=null}else W=null;U!==null&&Ld(A,D,U,W,!1),B!==null&&Le!==null&&Ld(A,Le,B,W,!0)}}e:{if(D=I?Nr(I):window,U=D.nodeName&&D.nodeName.toLowerCase(),U==="select"||U==="input"&&D.type==="file")var G=L_;else if(pd(D))if(gd)G=j_;else{G=b_;var Q=F_}else(U=D.nodeName)&&U.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(G=z_);if(G&&(G=G(e,I))){md(A,G,s,O);break e}Q&&Q(e,D,I),e==="focusout"&&(Q=D._wrapperState)&&Q.controlled&&D.type==="number"&&ll(D,"number",D.value)}switch(Q=I?Nr(I):window,e){case"focusin":(pd(Q)||Q.contentEditable==="true")&&(Cr=Q,Fl=I,wi=null);break;case"focusout":wi=Fl=Cr=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":bl=!1,kd(A,s,O);break;case"selectionchange":if(H_)break;case"keydown":case"keyup":kd(A,s,O)}var q;if(Ol)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else Sr?fd(e,s)&&(X="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(X="onCompositionStart");X&&(ad&&s.locale!=="ko"&&(Sr||X!=="onCompositionStart"?X==="onCompositionEnd"&&Sr&&(q=id()):(wn=O,Il="value"in wn?wn.value:wn.textContent,Sr=!0)),Q=Ms(I,X),0<Q.length&&(X=new ld(X,e,null,s,O),A.push({event:X,listeners:Q}),q?X.data=q:(q=hd(s),q!==null&&(X.data=q)))),(q=P_?D_(e,s):O_(e,s))&&(I=Ms(I,"onBeforeInput"),0<I.length&&(O=new ld("onBeforeInput","beforeinput",null,s,O),A.push({event:O,listeners:I}),O.data=q))}Ad(A,n)})}function Ci(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ms(e,n){for(var s=n+"Capture",l=[];e!==null;){var a=e,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=ii(e,s),d!=null&&l.unshift(Ci(e,d,a)),d=ii(e,n),d!=null&&l.push(Ci(e,d,a))),e=e.return}return l}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ld(e,n,s,l,a){for(var d=n._reactName,m=[];s!==null&&s!==l;){var _=s,w=_.alternate,I=_.stateNode;if(w!==null&&w===l)break;_.tag===5&&I!==null&&(_=I,a?(w=ii(s,d),w!=null&&m.unshift(Ci(s,w,_))):a||(w=ii(s,d),w!=null&&m.push(Ci(s,w,_)))),s=s.return}m.length!==0&&e.push({event:n,listeners:m})}var G_=/\r\n?/g,K_=/\u0000|\uFFFD/g;function Fd(e){return(typeof e=="string"?e:""+e).replace(G_,`
`).replace(K_,"")}function Ls(e,n,s){if(n=Fd(n),Fd(e)!==n&&s)throw Error(i(425))}function Fs(){}var Bl=null,Wl=null;function Vl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,Q_=typeof clearTimeout=="function"?clearTimeout:void 0,bd=typeof Promise=="function"?Promise:void 0,q_=typeof queueMicrotask=="function"?queueMicrotask:typeof bd<"u"?function(e){return bd.resolve(null).then(e).catch(Y_)}:Gl;function Y_(e){setTimeout(function(){throw e})}function Kl(e,n){var s=n,l=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(l===0){e.removeChild(a),hi(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=a}while(s);hi(n)}function Sn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function zd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Ir,ki="__reactProps$"+Ir,Zt="__reactContainer$"+Ir,Ql="__reactEvents$"+Ir,X_="__reactListeners$"+Ir,J_="__reactHandles$"+Ir;function Wn(e){var n=e[Gt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Zt]||s[Gt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=zd(e);e!==null;){if(s=e[Gt])return s;e=zd(e)}return n}e=s,s=e.parentNode}return null}function Ti(e){return e=e[Gt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function bs(e){return e[ki]||null}var ql=[],xr=-1;function Cn(e){return{current:e}}function Ce(e){0>xr||(e.current=ql[xr],ql[xr]=null,xr--)}function ve(e,n){xr++,ql[xr]=e.current,e.current=n}var kn={},tt=Cn(kn),dt=Cn(!1),Vn=kn;function Rr(e,n){var s=e.type.contextTypes;if(!s)return kn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in s)a[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function ft(e){return e=e.childContextTypes,e!=null}function zs(){Ce(dt),Ce(tt)}function jd(e,n,s){if(tt.current!==kn)throw Error(i(168));ve(tt,n),ve(dt,s)}function $d(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var a in l)if(!(a in n))throw Error(i(108,fe(e)||"Unknown",a));return $({},s,l)}function js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Vn=tt.current,ve(tt,e),ve(dt,dt.current),!0}function Ud(e,n,s){var l=e.stateNode;if(!l)throw Error(i(169));s?(e=$d(e,n,Vn),l.__reactInternalMemoizedMergedChildContext=e,Ce(dt),Ce(tt),ve(tt,e)):Ce(dt),ve(dt,s)}var en=null,$s=!1,Yl=!1;function Hd(e){en===null?en=[e]:en.push(e)}function Z_(e){$s=!0,Hd(e)}function Tn(){if(!Yl&&en!==null){Yl=!0;var e=0,n=me;try{var s=en;for(me=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}en=null,$s=!1}catch(a){throw en!==null&&(en=en.slice(e+1)),Wc(yl,Tn),a}finally{me=n,Yl=!1}}return null}var Pr=[],Dr=0,Us=null,Hs=0,It=[],Nt=0,Gn=null,tn=1,nn="";function Kn(e,n){Pr[Dr++]=Hs,Pr[Dr++]=Us,Us=e,Hs=n}function Bd(e,n,s){It[Nt++]=tn,It[Nt++]=nn,It[Nt++]=Gn,Gn=e;var l=tn;e=nn;var a=32-Lt(l)-1;l&=~(1<<a),s+=1;var d=32-Lt(n)+a;if(30<d){var m=a-a%5;d=(l&(1<<m)-1).toString(32),l>>=m,a-=m,tn=1<<32-Lt(n)+a|s<<a|l,nn=d+e}else tn=1<<d|s<<a|l,nn=e}function Xl(e){e.return!==null&&(Kn(e,1),Bd(e,1,0))}function Jl(e){for(;e===Us;)Us=Pr[--Dr],Pr[Dr]=null,Hs=Pr[--Dr],Pr[Dr]=null;for(;e===Gn;)Gn=It[--Nt],It[Nt]=null,nn=It[--Nt],It[Nt]=null,tn=It[--Nt],It[Nt]=null}var Ct=null,kt=null,Ne=!1,bt=null;function Wd(e,n){var s=Dt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Vd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ct=e,kt=Sn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ct=e,kt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Gn!==null?{id:tn,overflow:nn}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Dt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,Ct=e,kt=null,!0):!1;default:return!1}}function Zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eu(e){if(Ne){var n=kt;if(n){var s=n;if(!Vd(e,n)){if(Zl(e))throw Error(i(418));n=Sn(s.nextSibling);var l=Ct;n&&Vd(e,n)?Wd(l,s):(e.flags=e.flags&-4097|2,Ne=!1,Ct=e)}}else{if(Zl(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ne=!1,Ct=e}}}function Gd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Bs(e){if(e!==Ct)return!1;if(!Ne)return Gd(e),Ne=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Vl(e.type,e.memoizedProps)),n&&(n=kt)){if(Zl(e))throw Kd(),Error(i(418));for(;n;)Wd(e,n),n=Sn(n.nextSibling)}if(Gd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){kt=Sn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}kt=null}}else kt=Ct?Sn(e.stateNode.nextSibling):null;return!0}function Kd(){for(var e=kt;e;)e=Sn(e.nextSibling)}function Or(){kt=Ct=null,Ne=!1}function tu(e){bt===null?bt=[e]:bt.push(e)}var ey=te.ReactCurrentBatchConfig;function Ii(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(i(309));var l=s.stateNode}if(!l)throw Error(i(147,e));var a=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(m){var _=a.refs;m===null?delete _[d]:_[d]=m},n._stringRef=d,n)}if(typeof e!="string")throw Error(i(284));if(!s._owner)throw Error(i(290,e))}return e}function Ws(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Qd(e){var n=e._init;return n(e._payload)}function qd(e){function n(C,E){if(e){var k=C.deletions;k===null?(C.deletions=[E],C.flags|=16):k.push(E)}}function s(C,E){if(!e)return null;for(;E!==null;)n(C,E),E=E.sibling;return null}function l(C,E){for(C=new Map;E!==null;)E.key!==null?C.set(E.key,E):C.set(E.index,E),E=E.sibling;return C}function a(C,E){return C=An(C,E),C.index=0,C.sibling=null,C}function d(C,E,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<E?(C.flags|=2,E):k):(C.flags|=2,E)):(C.flags|=1048576,E)}function m(C){return e&&C.alternate===null&&(C.flags|=2),C}function _(C,E,k,M){return E===null||E.tag!==6?(E=Gu(k,C.mode,M),E.return=C,E):(E=a(E,k),E.return=C,E)}function w(C,E,k,M){var G=k.type;return G===ye?O(C,E,k.props.children,M,k.key):E!==null&&(E.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===ze&&Qd(G)===E.type)?(M=a(E,k.props),M.ref=Ii(C,E,k),M.return=C,M):(M=mo(k.type,k.key,k.props,null,C.mode,M),M.ref=Ii(C,E,k),M.return=C,M)}function I(C,E,k,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==k.containerInfo||E.stateNode.implementation!==k.implementation?(E=Ku(k,C.mode,M),E.return=C,E):(E=a(E,k.children||[]),E.return=C,E)}function O(C,E,k,M,G){return E===null||E.tag!==7?(E=tr(k,C.mode,M,G),E.return=C,E):(E=a(E,k),E.return=C,E)}function A(C,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Gu(""+E,C.mode,k),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case De:return k=mo(E.type,E.key,E.props,null,C.mode,k),k.ref=Ii(C,null,E),k.return=C,k;case Ee:return E=Ku(E,C.mode,k),E.return=C,E;case ze:var M=E._init;return A(C,M(E._payload),k)}if(ti(E)||V(E))return E=tr(E,C.mode,k,null),E.return=C,E;Ws(C,E)}return null}function D(C,E,k,M){var G=E!==null?E.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return G!==null?null:_(C,E,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case De:return k.key===G?w(C,E,k,M):null;case Ee:return k.key===G?I(C,E,k,M):null;case ze:return G=k._init,D(C,E,G(k._payload),M)}if(ti(k)||V(k))return G!==null?null:O(C,E,k,M,null);Ws(C,k)}return null}function U(C,E,k,M,G){if(typeof M=="string"&&M!==""||typeof M=="number")return C=C.get(k)||null,_(E,C,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case De:return C=C.get(M.key===null?k:M.key)||null,w(E,C,M,G);case Ee:return C=C.get(M.key===null?k:M.key)||null,I(E,C,M,G);case ze:var Q=M._init;return U(C,E,k,Q(M._payload),G)}if(ti(M)||V(M))return C=C.get(k)||null,O(E,C,M,G,null);Ws(E,M)}return null}function B(C,E,k,M){for(var G=null,Q=null,q=E,X=E=0,Ve=null;q!==null&&X<k.length;X++){q.index>X?(Ve=q,q=null):Ve=q.sibling;var de=D(C,q,k[X],M);if(de===null){q===null&&(q=Ve);break}e&&q&&de.alternate===null&&n(C,q),E=d(de,E,X),Q===null?G=de:Q.sibling=de,Q=de,q=Ve}if(X===k.length)return s(C,q),Ne&&Kn(C,X),G;if(q===null){for(;X<k.length;X++)q=A(C,k[X],M),q!==null&&(E=d(q,E,X),Q===null?G=q:Q.sibling=q,Q=q);return Ne&&Kn(C,X),G}for(q=l(C,q);X<k.length;X++)Ve=U(q,C,X,k[X],M),Ve!==null&&(e&&Ve.alternate!==null&&q.delete(Ve.key===null?X:Ve.key),E=d(Ve,E,X),Q===null?G=Ve:Q.sibling=Ve,Q=Ve);return e&&q.forEach(function(Mn){return n(C,Mn)}),Ne&&Kn(C,X),G}function W(C,E,k,M){var G=V(k);if(typeof G!="function")throw Error(i(150));if(k=G.call(k),k==null)throw Error(i(151));for(var Q=G=null,q=E,X=E=0,Ve=null,de=k.next();q!==null&&!de.done;X++,de=k.next()){q.index>X?(Ve=q,q=null):Ve=q.sibling;var Mn=D(C,q,de.value,M);if(Mn===null){q===null&&(q=Ve);break}e&&q&&Mn.alternate===null&&n(C,q),E=d(Mn,E,X),Q===null?G=Mn:Q.sibling=Mn,Q=Mn,q=Ve}if(de.done)return s(C,q),Ne&&Kn(C,X),G;if(q===null){for(;!de.done;X++,de=k.next())de=A(C,de.value,M),de!==null&&(E=d(de,E,X),Q===null?G=de:Q.sibling=de,Q=de);return Ne&&Kn(C,X),G}for(q=l(C,q);!de.done;X++,de=k.next())de=U(q,C,X,de.value,M),de!==null&&(e&&de.alternate!==null&&q.delete(de.key===null?X:de.key),E=d(de,E,X),Q===null?G=de:Q.sibling=de,Q=de);return e&&q.forEach(function(Oy){return n(C,Oy)}),Ne&&Kn(C,X),G}function Le(C,E,k,M){if(typeof k=="object"&&k!==null&&k.type===ye&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case De:e:{for(var G=k.key,Q=E;Q!==null;){if(Q.key===G){if(G=k.type,G===ye){if(Q.tag===7){s(C,Q.sibling),E=a(Q,k.props.children),E.return=C,C=E;break e}}else if(Q.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===ze&&Qd(G)===Q.type){s(C,Q.sibling),E=a(Q,k.props),E.ref=Ii(C,Q,k),E.return=C,C=E;break e}s(C,Q);break}else n(C,Q);Q=Q.sibling}k.type===ye?(E=tr(k.props.children,C.mode,M,k.key),E.return=C,C=E):(M=mo(k.type,k.key,k.props,null,C.mode,M),M.ref=Ii(C,E,k),M.return=C,C=M)}return m(C);case Ee:e:{for(Q=k.key;E!==null;){if(E.key===Q)if(E.tag===4&&E.stateNode.containerInfo===k.containerInfo&&E.stateNode.implementation===k.implementation){s(C,E.sibling),E=a(E,k.children||[]),E.return=C,C=E;break e}else{s(C,E);break}else n(C,E);E=E.sibling}E=Ku(k,C.mode,M),E.return=C,C=E}return m(C);case ze:return Q=k._init,Le(C,E,Q(k._payload),M)}if(ti(k))return B(C,E,k,M);if(V(k))return W(C,E,k,M);Ws(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,E!==null&&E.tag===6?(s(C,E.sibling),E=a(E,k),E.return=C,C=E):(s(C,E),E=Gu(k,C.mode,M),E.return=C,C=E),m(C)):s(C,E)}return Le}var Ar=qd(!0),Yd=qd(!1),Vs=Cn(null),Gs=null,Mr=null,nu=null;function ru(){nu=Mr=Gs=null}function iu(e){var n=Vs.current;Ce(Vs),e._currentValue=n}function su(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Lr(e,n){Gs=e,nu=Mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ht=!0),e.firstContext=null)}function xt(e){var n=e._currentValue;if(nu!==e)if(e={context:e,memoizedValue:n,next:null},Mr===null){if(Gs===null)throw Error(i(308));Mr=e,Gs.dependencies={lanes:0,firstContext:e}}else Mr=Mr.next=e;return n}var Qn=null;function ou(e){Qn===null?Qn=[e]:Qn.push(e)}function Xd(e,n,s,l){var a=n.interleaved;return a===null?(s.next=s,ou(n)):(s.next=a.next,a.next=s),n.interleaved=s,rn(e,l)}function rn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var In=!1;function lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Nn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ce&2){var a=l.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),l.pending=n,rn(e,s)}return a=l.interleaved,a===null?(n.next=n,ou(l)):(n.next=a.next,a.next=n),l.interleaved=n,rn(e,s)}function Ks(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,El(e,s)}}function Zd(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var a=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?a=d=m:d=d.next=m,s=s.next}while(s!==null);d===null?a=d=n:d=d.next=n}else a=d=n;s={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Qs(e,n,s,l){var a=e.updateQueue;In=!1;var d=a.firstBaseUpdate,m=a.lastBaseUpdate,_=a.shared.pending;if(_!==null){a.shared.pending=null;var w=_,I=w.next;w.next=null,m===null?d=I:m.next=I,m=w;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==m&&(_===null?O.firstBaseUpdate=I:_.next=I,O.lastBaseUpdate=w))}if(d!==null){var A=a.baseState;m=0,O=I=w=null,_=d;do{var D=_.lane,U=_.eventTime;if((l&D)===D){O!==null&&(O=O.next={eventTime:U,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var B=e,W=_;switch(D=n,U=s,W.tag){case 1:if(B=W.payload,typeof B=="function"){A=B.call(U,A,D);break e}A=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,D=typeof B=="function"?B.call(U,A,D):B,D==null)break e;A=$({},A,D);break e;case 2:In=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,D=a.effects,D===null?a.effects=[_]:D.push(_))}else U={eventTime:U,lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(I=O=U,w=A):O=O.next=U,m|=D;if(_=_.next,_===null){if(_=a.shared.pending,_===null)break;D=_,_=D.next,D.next=null,a.lastBaseUpdate=D,a.shared.pending=null}}while(!0);if(O===null&&(w=A),a.baseState=w,a.firstBaseUpdate=I,a.lastBaseUpdate=O,n=a.shared.interleaved,n!==null){a=n;do m|=a.lane,a=a.next;while(a!==n)}else d===null&&(a.shared.lanes=0);Xn|=m,e.lanes=m,e.memoizedState=A}}function ef(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],a=l.callback;if(a!==null){if(l.callback=null,l=s,typeof a!="function")throw Error(i(191,a));a.call(l)}}}var Ni={},Kt=Cn(Ni),xi=Cn(Ni),Ri=Cn(Ni);function qn(e){if(e===Ni)throw Error(i(174));return e}function uu(e,n){switch(ve(Ri,n),ve(xi,e),ve(Kt,Ni),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:al(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=al(n,e)}Ce(Kt),ve(Kt,n)}function Fr(){Ce(Kt),Ce(xi),Ce(Ri)}function tf(e){qn(Ri.current);var n=qn(Kt.current),s=al(n,e.type);n!==s&&(ve(xi,e),ve(Kt,s))}function au(e){xi.current===e&&(Ce(Kt),Ce(xi))}var xe=Cn(0);function qs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cu=[];function du(){for(var e=0;e<cu.length;e++)cu[e]._workInProgressVersionPrimary=null;cu.length=0}var Ys=te.ReactCurrentDispatcher,fu=te.ReactCurrentBatchConfig,Yn=0,Re=null,je=null,Be=null,Xs=!1,Pi=!1,Di=0,ty=0;function nt(){throw Error(i(321))}function hu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Ft(e[s],n[s]))return!1;return!0}function pu(e,n,s,l,a,d){if(Yn=d,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ys.current=e===null||e.memoizedState===null?sy:oy,e=s(l,a),Pi){d=0;do{if(Pi=!1,Di=0,25<=d)throw Error(i(301));d+=1,Be=je=null,n.updateQueue=null,Ys.current=ly,e=s(l,a)}while(Pi)}if(Ys.current=eo,n=je!==null&&je.next!==null,Yn=0,Be=je=Re=null,Xs=!1,n)throw Error(i(300));return e}function mu(){var e=Di!==0;return Di=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Re.memoizedState=Be=e:Be=Be.next=e,Be}function Rt(){if(je===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var n=Be===null?Re.memoizedState:Be.next;if(n!==null)Be=n,je=e;else{if(e===null)throw Error(i(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Be===null?Re.memoizedState=Be=e:Be=Be.next=e}return Be}function Oi(e,n){return typeof n=="function"?n(e):n}function gu(e){var n=Rt(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=je,a=l.baseQueue,d=s.pending;if(d!==null){if(a!==null){var m=a.next;a.next=d.next,d.next=m}l.baseQueue=a=d,s.pending=null}if(a!==null){d=a.next,l=l.baseState;var _=m=null,w=null,I=d;do{var O=I.lane;if((Yn&O)===O)w!==null&&(w=w.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),l=I.hasEagerState?I.eagerState:e(l,I.action);else{var A={lane:O,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};w===null?(_=w=A,m=l):w=w.next=A,Re.lanes|=O,Xn|=O}I=I.next}while(I!==null&&I!==d);w===null?m=l:w.next=_,Ft(l,n.memoizedState)||(ht=!0),n.memoizedState=l,n.baseState=m,n.baseQueue=w,s.lastRenderedState=l}if(e=s.interleaved,e!==null){a=e;do d=a.lane,Re.lanes|=d,Xn|=d,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function _u(e){var n=Rt(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=s.dispatch,a=s.pending,d=n.memoizedState;if(a!==null){s.pending=null;var m=a=a.next;do d=e(d,m.action),m=m.next;while(m!==a);Ft(d,n.memoizedState)||(ht=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function nf(){}function rf(e,n){var s=Re,l=Rt(),a=n(),d=!Ft(l.memoizedState,a);if(d&&(l.memoizedState=a,ht=!0),l=l.queue,yu(lf.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||Be!==null&&Be.memoizedState.tag&1){if(s.flags|=2048,Ai(9,of.bind(null,s,l,a,n),void 0,null),We===null)throw Error(i(349));Yn&30||sf(s,n,a)}return a}function sf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Re.updateQueue,n===null?(n={lastEffect:null,stores:null},Re.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function of(e,n,s,l){n.value=s,n.getSnapshot=l,uf(n)&&af(e)}function lf(e,n,s){return s(function(){uf(n)&&af(e)})}function uf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Ft(e,s)}catch{return!0}}function af(e){var n=rn(e,1);n!==null&&Ut(n,e,1,-1)}function cf(e){var n=Qt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},n.queue=e,e=e.dispatch=iy.bind(null,Re,e),[n.memoizedState,e]}function Ai(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=Re.updateQueue,n===null?(n={lastEffect:null,stores:null},Re.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function df(){return Rt().memoizedState}function Js(e,n,s,l){var a=Qt();Re.flags|=e,a.memoizedState=Ai(1|n,s,void 0,l===void 0?null:l)}function Zs(e,n,s,l){var a=Rt();l=l===void 0?null:l;var d=void 0;if(je!==null){var m=je.memoizedState;if(d=m.destroy,l!==null&&hu(l,m.deps)){a.memoizedState=Ai(n,s,d,l);return}}Re.flags|=e,a.memoizedState=Ai(1|n,s,d,l)}function ff(e,n){return Js(8390656,8,e,n)}function yu(e,n){return Zs(2048,8,e,n)}function hf(e,n){return Zs(4,2,e,n)}function pf(e,n){return Zs(4,4,e,n)}function mf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function gf(e,n,s){return s=s!=null?s.concat([e]):null,Zs(4,4,mf.bind(null,n,e),s)}function vu(){}function _f(e,n){var s=Rt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&hu(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function yf(e,n){var s=Rt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&hu(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function vf(e,n,s){return Yn&21?(Ft(s,n)||(s=Qc(),Re.lanes|=s,Xn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=s)}function ny(e,n){var s=me;me=s!==0&&4>s?s:4,e(!0);var l=fu.transition;fu.transition={};try{e(!1),n()}finally{me=s,fu.transition=l}}function wf(){return Rt().memoizedState}function ry(e,n,s){var l=Dn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Ef(e))Sf(n,s);else if(s=Xd(e,n,s,l),s!==null){var a=at();Ut(s,e,l,a),Cf(s,n,l)}}function iy(e,n,s){var l=Dn(e),a={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ef(e))Sf(n,a);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var m=n.lastRenderedState,_=d(m,s);if(a.hasEagerState=!0,a.eagerState=_,Ft(_,m)){var w=n.interleaved;w===null?(a.next=a,ou(n)):(a.next=w.next,w.next=a),n.interleaved=a;return}}catch{}finally{}s=Xd(e,n,a,l),s!==null&&(a=at(),Ut(s,e,l,a),Cf(s,n,l))}}function Ef(e){var n=e.alternate;return e===Re||n!==null&&n===Re}function Sf(e,n){Pi=Xs=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Cf(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,El(e,s)}}var eo={readContext:xt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},sy={readContext:xt,useCallback:function(e,n){return Qt().memoizedState=[e,n===void 0?null:n],e},useContext:xt,useEffect:ff,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Js(4194308,4,mf.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Js(4194308,4,e,n)},useInsertionEffect:function(e,n){return Js(4,2,e,n)},useMemo:function(e,n){var s=Qt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Qt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=ry.bind(null,Re,e),[l.memoizedState,e]},useRef:function(e){var n=Qt();return e={current:e},n.memoizedState=e},useState:cf,useDebugValue:vu,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=cf(!1),n=e[0];return e=ny.bind(null,e[1]),Qt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=Re,a=Qt();if(Ne){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),We===null)throw Error(i(349));Yn&30||sf(l,n,s)}a.memoizedState=s;var d={value:s,getSnapshot:n};return a.queue=d,ff(lf.bind(null,l,d,e),[e]),l.flags|=2048,Ai(9,of.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Qt(),n=We.identifierPrefix;if(Ne){var s=nn,l=tn;s=(l&~(1<<32-Lt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=Di++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=ty++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},oy={readContext:xt,useCallback:_f,useContext:xt,useEffect:yu,useImperativeHandle:gf,useInsertionEffect:hf,useLayoutEffect:pf,useMemo:yf,useReducer:gu,useRef:df,useState:function(){return gu(Oi)},useDebugValue:vu,useDeferredValue:function(e){var n=Rt();return vf(n,je.memoizedState,e)},useTransition:function(){var e=gu(Oi)[0],n=Rt().memoizedState;return[e,n]},useMutableSource:nf,useSyncExternalStore:rf,useId:wf,unstable_isNewReconciler:!1},ly={readContext:xt,useCallback:_f,useContext:xt,useEffect:yu,useImperativeHandle:gf,useInsertionEffect:hf,useLayoutEffect:pf,useMemo:yf,useReducer:_u,useRef:df,useState:function(){return _u(Oi)},useDebugValue:vu,useDeferredValue:function(e){var n=Rt();return je===null?n.memoizedState=e:vf(n,je.memoizedState,e)},useTransition:function(){var e=_u(Oi)[0],n=Rt().memoizedState;return[e,n]},useMutableSource:nf,useSyncExternalStore:rf,useId:wf,unstable_isNewReconciler:!1};function zt(e,n){if(e&&e.defaultProps){n=$({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function wu(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:$({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var to={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=at(),a=Dn(e),d=sn(l,a);d.payload=n,s!=null&&(d.callback=s),n=Nn(e,d,a),n!==null&&(Ut(n,e,a,l),Ks(n,e,a))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=at(),a=Dn(e),d=sn(l,a);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=Nn(e,d,a),n!==null&&(Ut(n,e,a,l),Ks(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=at(),l=Dn(e),a=sn(s,l);a.tag=2,n!=null&&(a.callback=n),n=Nn(e,a,l),n!==null&&(Ut(n,e,l,s),Ks(n,e,l))}};function kf(e,n,s,l,a,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,m):n.prototype&&n.prototype.isPureReactComponent?!vi(s,l)||!vi(a,d):!0}function Tf(e,n,s){var l=!1,a=kn,d=n.contextType;return typeof d=="object"&&d!==null?d=xt(d):(a=ft(n)?Vn:tt.current,l=n.contextTypes,d=(l=l!=null)?Rr(e,a):kn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=to,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=d),n}function If(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&to.enqueueReplaceState(n,n.state,null)}function Eu(e,n,s,l){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},lu(e);var d=n.contextType;typeof d=="object"&&d!==null?a.context=xt(d):(d=ft(n)?Vn:tt.current,a.context=Rr(e,d)),a.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(wu(e,n,d,s),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&to.enqueueReplaceState(a,a.state,null),Qs(e,s,a,l),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function br(e,n){try{var s="",l=n;do s+=re(l),l=l.return;while(l);var a=s}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:a,digest:null}}function Su(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Cu(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var uy=typeof WeakMap=="function"?WeakMap:Map;function Nf(e,n,s){s=sn(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){uo||(uo=!0,zu=l),Cu(e,n)},s}function xf(e,n,s){s=sn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var a=n.value;s.payload=function(){return l(a)},s.callback=function(){Cu(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){Cu(e,n),typeof l!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var m=n.stack;this.componentDidCatch(n.value,{componentStack:m!==null?m:""})}),s}function Rf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new uy;var a=new Set;l.set(n,a)}else a=l.get(n),a===void 0&&(a=new Set,l.set(n,a));a.has(s)||(a.add(s),e=Sy.bind(null,e,n,s),n.then(e,e))}function Pf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Df(e,n,s,l,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=sn(-1,1),n.tag=2,Nn(s,n,1))),s.lanes|=1),e)}var ay=te.ReactCurrentOwner,ht=!1;function ut(e,n,s,l){n.child=e===null?Yd(n,null,s,l):Ar(n,e.child,s,l)}function Of(e,n,s,l,a){s=s.render;var d=n.ref;return Lr(n,a),l=pu(e,n,s,l,d,a),s=mu(),e!==null&&!ht?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,on(e,n,a)):(Ne&&s&&Xl(n),n.flags|=1,ut(e,n,l,a),n.child)}function Af(e,n,s,l,a){if(e===null){var d=s.type;return typeof d=="function"&&!Vu(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,Mf(e,n,d,l,a)):(e=mo(s.type,null,l,n,n.mode,a),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&a)){var m=d.memoizedProps;if(s=s.compare,s=s!==null?s:vi,s(m,l)&&e.ref===n.ref)return on(e,n,a)}return n.flags|=1,e=An(d,l),e.ref=n.ref,e.return=n,n.child=e}function Mf(e,n,s,l,a){if(e!==null){var d=e.memoizedProps;if(vi(d,l)&&e.ref===n.ref)if(ht=!1,n.pendingProps=l=d,(e.lanes&a)!==0)e.flags&131072&&(ht=!0);else return n.lanes=e.lanes,on(e,n,a)}return ku(e,n,s,l,a)}function Lf(e,n,s){var l=n.pendingProps,a=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(jr,Tt),Tt|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ve(jr,Tt),Tt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,ve(jr,Tt),Tt|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,ve(jr,Tt),Tt|=l;return ut(e,n,a,s),n.child}function Ff(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function ku(e,n,s,l,a){var d=ft(s)?Vn:tt.current;return d=Rr(n,d),Lr(n,a),s=pu(e,n,s,l,d,a),l=mu(),e!==null&&!ht?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,on(e,n,a)):(Ne&&l&&Xl(n),n.flags|=1,ut(e,n,s,a),n.child)}function bf(e,n,s,l,a){if(ft(s)){var d=!0;js(n)}else d=!1;if(Lr(n,a),n.stateNode===null)ro(e,n),Tf(n,s,l),Eu(n,s,l,a),l=!0;else if(e===null){var m=n.stateNode,_=n.memoizedProps;m.props=_;var w=m.context,I=s.contextType;typeof I=="object"&&I!==null?I=xt(I):(I=ft(s)?Vn:tt.current,I=Rr(n,I));var O=s.getDerivedStateFromProps,A=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function";A||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==l||w!==I)&&If(n,m,l,I),In=!1;var D=n.memoizedState;m.state=D,Qs(n,l,m,a),w=n.memoizedState,_!==l||D!==w||dt.current||In?(typeof O=="function"&&(wu(n,s,O,l),w=n.memoizedState),(_=In||kf(n,s,_,l,D,w,I))?(A||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=w),m.props=l,m.state=w,m.context=I,l=_):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{m=n.stateNode,Jd(e,n),_=n.memoizedProps,I=n.type===n.elementType?_:zt(n.type,_),m.props=I,A=n.pendingProps,D=m.context,w=s.contextType,typeof w=="object"&&w!==null?w=xt(w):(w=ft(s)?Vn:tt.current,w=Rr(n,w));var U=s.getDerivedStateFromProps;(O=typeof U=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==A||D!==w)&&If(n,m,l,w),In=!1,D=n.memoizedState,m.state=D,Qs(n,l,m,a);var B=n.memoizedState;_!==A||D!==B||dt.current||In?(typeof U=="function"&&(wu(n,s,U,l),B=n.memoizedState),(I=In||kf(n,s,I,l,D,B,w)||!1)?(O||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,B,w),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,B,w)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),m.props=l,m.state=B,m.context=w,l=I):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),l=!1)}return Tu(e,n,s,l,d,a)}function Tu(e,n,s,l,a,d){Ff(e,n);var m=(n.flags&128)!==0;if(!l&&!m)return a&&Ud(n,s,!1),on(e,n,d);l=n.stateNode,ay.current=n;var _=m&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&m?(n.child=Ar(n,e.child,null,d),n.child=Ar(n,null,_,d)):ut(e,n,_,d),n.memoizedState=l.state,a&&Ud(n,s,!0),n.child}function zf(e){var n=e.stateNode;n.pendingContext?jd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&jd(e,n.context,!1),uu(e,n.containerInfo)}function jf(e,n,s,l,a){return Or(),tu(a),n.flags|=256,ut(e,n,s,l),n.child}var Iu={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null,transitions:null}}function $f(e,n,s){var l=n.pendingProps,a=xe.current,d=!1,m=(n.flags&128)!==0,_;if((_=m)||(_=e!==null&&e.memoizedState===null?!1:(a&2)!==0),_?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ve(xe,a&1),e===null)return eu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(m=l.children,e=l.fallback,d?(l=n.mode,d=n.child,m={mode:"hidden",children:m},!(l&1)&&d!==null?(d.childLanes=0,d.pendingProps=m):d=go(m,l,0,null),e=tr(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=Nu(s),n.memoizedState=Iu,e):xu(n,m));if(a=e.memoizedState,a!==null&&(_=a.dehydrated,_!==null))return cy(e,n,m,l,_,a,s);if(d){d=l.fallback,m=n.mode,a=e.child,_=a.sibling;var w={mode:"hidden",children:l.children};return!(m&1)&&n.child!==a?(l=n.child,l.childLanes=0,l.pendingProps=w,n.deletions=null):(l=An(a,w),l.subtreeFlags=a.subtreeFlags&14680064),_!==null?d=An(_,d):(d=tr(d,m,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,m=e.child.memoizedState,m=m===null?Nu(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},d.memoizedState=m,d.childLanes=e.childLanes&~s,n.memoizedState=Iu,l}return d=e.child,e=d.sibling,l=An(d,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function xu(e,n){return n=go({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function no(e,n,s,l){return l!==null&&tu(l),Ar(n,e.child,null,s),e=xu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function cy(e,n,s,l,a,d,m){if(s)return n.flags&256?(n.flags&=-257,l=Su(Error(i(422))),no(e,n,m,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,a=n.mode,l=go({mode:"visible",children:l.children},a,0,null),d=tr(d,a,m,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,n.mode&1&&Ar(n,e.child,null,m),n.child.memoizedState=Nu(m),n.memoizedState=Iu,d);if(!(n.mode&1))return no(e,n,m,null);if(a.data==="$!"){if(l=a.nextSibling&&a.nextSibling.dataset,l)var _=l.dgst;return l=_,d=Error(i(419)),l=Su(d,l,void 0),no(e,n,m,l)}if(_=(m&e.childLanes)!==0,ht||_){if(l=We,l!==null){switch(m&-m){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(l.suspendedLanes|m)?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,rn(e,a),Ut(l,e,a,-1))}return Wu(),l=Su(Error(i(421))),no(e,n,m,l)}return a.data==="$?"?(n.flags|=128,n.child=e.child,n=Cy.bind(null,e),a._reactRetry=n,null):(e=d.treeContext,kt=Sn(a.nextSibling),Ct=n,Ne=!0,bt=null,e!==null&&(It[Nt++]=tn,It[Nt++]=nn,It[Nt++]=Gn,tn=e.id,nn=e.overflow,Gn=n),n=xu(n,l.children),n.flags|=4096,n)}function Uf(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),su(e.return,n,s)}function Ru(e,n,s,l,a){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:a}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=a)}function Hf(e,n,s){var l=n.pendingProps,a=l.revealOrder,d=l.tail;if(ut(e,n,l.children,s),l=xe.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uf(e,s,n);else if(e.tag===19)Uf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ve(xe,l),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)e=s.alternate,e!==null&&qs(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),Ru(n,!1,a,s,d);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(e=a.alternate,e!==null&&qs(e)===null){n.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Ru(n,!0,s,null,d);break;case"together":Ru(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ro(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function on(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Xn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,s=An(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=An(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function dy(e,n,s){switch(n.tag){case 3:zf(n),Or();break;case 5:tf(n);break;case 1:ft(n.type)&&js(n);break;case 4:uu(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,a=n.memoizedProps.value;ve(Vs,l._currentValue),l._currentValue=a;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(ve(xe,xe.current&1),n.flags|=128,null):s&n.child.childLanes?$f(e,n,s):(ve(xe,xe.current&1),e=on(e,n,s),e!==null?e.sibling:null);ve(xe,xe.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return Hf(e,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ve(xe,xe.current),l)break;return null;case 22:case 23:return n.lanes=0,Lf(e,n,s)}return on(e,n,s)}var Bf,Pu,Wf,Vf;Bf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Pu=function(){},Wf=function(e,n,s,l){var a=e.memoizedProps;if(a!==l){e=n.stateNode,qn(Kt.current);var d=null;switch(s){case"input":a=sl(e,a),l=sl(e,l),d=[];break;case"select":a=$({},a,{value:void 0}),l=$({},l,{value:void 0}),d=[];break;case"textarea":a=ul(e,a),l=ul(e,l),d=[];break;default:typeof a.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Fs)}cl(s,l);var m;s=null;for(I in a)if(!l.hasOwnProperty(I)&&a.hasOwnProperty(I)&&a[I]!=null)if(I==="style"){var _=a[I];for(m in _)_.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(u.hasOwnProperty(I)?d||(d=[]):(d=d||[]).push(I,null));for(I in l){var w=l[I];if(_=a!=null?a[I]:void 0,l.hasOwnProperty(I)&&w!==_&&(w!=null||_!=null))if(I==="style")if(_){for(m in _)!_.hasOwnProperty(m)||w&&w.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in w)w.hasOwnProperty(m)&&_[m]!==w[m]&&(s||(s={}),s[m]=w[m])}else s||(d||(d=[]),d.push(I,s)),s=w;else I==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,_=_?_.__html:void 0,w!=null&&_!==w&&(d=d||[]).push(I,w)):I==="children"?typeof w!="string"&&typeof w!="number"||(d=d||[]).push(I,""+w):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(u.hasOwnProperty(I)?(w!=null&&I==="onScroll"&&Se("scroll",e),d||_===w||(d=[])):(d=d||[]).push(I,w))}s&&(d=d||[]).push("style",s);var I=d;(n.updateQueue=I)&&(n.flags|=4)}},Vf=function(e,n,s,l){s!==l&&(n.flags|=4)};function Mi(e,n){if(!Ne)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function rt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags&14680064,l|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function fy(e,n,s){var l=n.pendingProps;switch(Jl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return ft(n.type)&&zs(),rt(n),null;case 3:return l=n.stateNode,Fr(),Ce(dt),Ce(tt),du(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Bs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,bt!==null&&(Uu(bt),bt=null))),Pu(e,n),rt(n),null;case 5:au(n);var a=qn(Ri.current);if(s=n.type,e!==null&&n.stateNode!=null)Wf(e,n,s,l,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(i(166));return rt(n),null}if(e=qn(Kt.current),Bs(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[Gt]=n,l[ki]=d,e=(n.mode&1)!==0,s){case"dialog":Se("cancel",l),Se("close",l);break;case"iframe":case"object":case"embed":Se("load",l);break;case"video":case"audio":for(a=0;a<Ei.length;a++)Se(Ei[a],l);break;case"source":Se("error",l);break;case"img":case"image":case"link":Se("error",l),Se("load",l);break;case"details":Se("toggle",l);break;case"input":kc(l,d),Se("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},Se("invalid",l);break;case"textarea":Nc(l,d),Se("invalid",l)}cl(s,d),a=null;for(var m in d)if(d.hasOwnProperty(m)){var _=d[m];m==="children"?typeof _=="string"?l.textContent!==_&&(d.suppressHydrationWarning!==!0&&Ls(l.textContent,_,e),a=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&Ls(l.textContent,_,e),a=["children",""+_]):u.hasOwnProperty(m)&&_!=null&&m==="onScroll"&&Se("scroll",l)}switch(s){case"input":fs(l),Ic(l,d,!0);break;case"textarea":fs(l),Rc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=Fs)}l=a,n.updateQueue=l,l!==null&&(n.flags|=4)}else{m=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=m.createElement(s,{is:l.is}):(e=m.createElement(s),s==="select"&&(m=e,l.multiple?m.multiple=!0:l.size&&(m.size=l.size))):e=m.createElementNS(e,s),e[Gt]=n,e[ki]=l,Bf(e,n,!1,!1),n.stateNode=e;e:{switch(m=dl(s,l),s){case"dialog":Se("cancel",e),Se("close",e),a=l;break;case"iframe":case"object":case"embed":Se("load",e),a=l;break;case"video":case"audio":for(a=0;a<Ei.length;a++)Se(Ei[a],e);a=l;break;case"source":Se("error",e),a=l;break;case"img":case"image":case"link":Se("error",e),Se("load",e),a=l;break;case"details":Se("toggle",e),a=l;break;case"input":kc(e,l),a=sl(e,l),Se("invalid",e);break;case"option":a=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},a=$({},l,{value:void 0}),Se("invalid",e);break;case"textarea":Nc(e,l),a=ul(e,l),Se("invalid",e);break;default:a=l}cl(s,a),_=a;for(d in _)if(_.hasOwnProperty(d)){var w=_[d];d==="style"?Ac(e,w):d==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&Dc(e,w)):d==="children"?typeof w=="string"?(s!=="textarea"||w!=="")&&ni(e,w):typeof w=="number"&&ni(e,""+w):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?w!=null&&d==="onScroll"&&Se("scroll",e):w!=null&&ee(e,d,w,m))}switch(s){case"input":fs(e),Ic(e,l,!1);break;case"textarea":fs(e),Rc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ue(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?_r(e,!!l.multiple,d,!1):l.defaultValue!=null&&_r(e,!!l.multiple,l.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Fs)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return rt(n),null;case 6:if(e&&n.stateNode!=null)Vf(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(s=qn(Ri.current),qn(Kt.current),Bs(n)){if(l=n.stateNode,s=n.memoizedProps,l[Gt]=n,(d=l.nodeValue!==s)&&(e=Ct,e!==null))switch(e.tag){case 3:Ls(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ls(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Gt]=n,n.stateNode=l}return rt(n),null;case 13:if(Ce(xe),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&kt!==null&&n.mode&1&&!(n.flags&128))Kd(),Or(),n.flags|=98560,d=!1;else if(d=Bs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Gt]=n}else Or(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;rt(n),d=!1}else bt!==null&&(Uu(bt),bt=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||xe.current&1?$e===0&&($e=3):Wu())),n.updateQueue!==null&&(n.flags|=4),rt(n),null);case 4:return Fr(),Pu(e,n),e===null&&Si(n.stateNode.containerInfo),rt(n),null;case 10:return iu(n.type._context),rt(n),null;case 17:return ft(n.type)&&zs(),rt(n),null;case 19:if(Ce(xe),d=n.memoizedState,d===null)return rt(n),null;if(l=(n.flags&128)!==0,m=d.rendering,m===null)if(l)Mi(d,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(m=qs(e),m!==null){for(n.flags|=128,Mi(d,!1),l=m.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,e=m.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ve(xe,xe.current&1|2),n.child}e=e.sibling}d.tail!==null&&Me()>$r&&(n.flags|=128,l=!0,Mi(d,!1),n.lanes=4194304)}else{if(!l)if(e=qs(m),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Mi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ne)return rt(n),null}else 2*Me()-d.renderingStartTime>$r&&s!==1073741824&&(n.flags|=128,l=!0,Mi(d,!1),n.lanes=4194304);d.isBackwards?(m.sibling=n.child,n.child=m):(s=d.last,s!==null?s.sibling=m:n.child=m,d.last=m)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Me(),n.sibling=null,s=xe.current,ve(xe,l?s&1|2:s&1),n):(rt(n),null);case 22:case 23:return Bu(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?Tt&1073741824&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function hy(e,n){switch(Jl(n),n.tag){case 1:return ft(n.type)&&zs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fr(),Ce(dt),Ce(tt),du(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return au(n),null;case 13:if(Ce(xe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ce(xe),null;case 4:return Fr(),null;case 10:return iu(n.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var io=!1,it=!1,py=typeof WeakSet=="function"?WeakSet:Set,H=null;function zr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Ae(e,n,l)}else s.current=null}function Du(e,n,s){try{s()}catch(l){Ae(e,n,l)}}var Gf=!1;function my(e,n){if(Bl=ks,e=Cd(),Ll(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var a=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var m=0,_=-1,w=-1,I=0,O=0,A=e,D=null;t:for(;;){for(var U;A!==s||a!==0&&A.nodeType!==3||(_=m+a),A!==d||l!==0&&A.nodeType!==3||(w=m+l),A.nodeType===3&&(m+=A.nodeValue.length),(U=A.firstChild)!==null;)D=A,A=U;for(;;){if(A===e)break t;if(D===s&&++I===a&&(_=m),D===d&&++O===l&&(w=m),(U=A.nextSibling)!==null)break;A=D,D=A.parentNode}A=U}s=_===-1||w===-1?null:{start:_,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(Wl={focusedElem:e,selectionRange:s},ks=!1,H=n;H!==null;)if(n=H,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,H=e;else for(;H!==null;){n=H;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,Le=B.memoizedState,C=n.stateNode,E=C.getSnapshotBeforeUpdate(n.elementType===n.type?W:zt(n.type,W),Le);C.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(M){Ae(n,n.return,M)}if(e=n.sibling,e!==null){e.return=n.return,H=e;break}H=n.return}return B=Gf,Gf=!1,B}function Li(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var a=l=l.next;do{if((a.tag&e)===e){var d=a.destroy;a.destroy=void 0,d!==void 0&&Du(n,s,d)}a=a.next}while(a!==l)}}function so(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function Ou(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Kf(e){var n=e.alternate;n!==null&&(e.alternate=null,Kf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Gt],delete n[ki],delete n[Ql],delete n[X_],delete n[J_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qf(e){return e.tag===5||e.tag===3||e.tag===4}function qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Au(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Fs));else if(l!==4&&(e=e.child,e!==null))for(Au(e,n,s),e=e.sibling;e!==null;)Au(e,n,s),e=e.sibling}function Mu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Mu(e,n,s),e=e.sibling;e!==null;)Mu(e,n,s),e=e.sibling}var qe=null,jt=!1;function xn(e,n,s){for(s=s.child;s!==null;)Yf(e,n,s),s=s.sibling}function Yf(e,n,s){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(ys,s)}catch{}switch(s.tag){case 5:it||zr(s,n);case 6:var l=qe,a=jt;qe=null,xn(e,n,s),qe=l,jt=a,qe!==null&&(jt?(e=qe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):qe.removeChild(s.stateNode));break;case 18:qe!==null&&(jt?(e=qe,s=s.stateNode,e.nodeType===8?Kl(e.parentNode,s):e.nodeType===1&&Kl(e,s),hi(e)):Kl(qe,s.stateNode));break;case 4:l=qe,a=jt,qe=s.stateNode.containerInfo,jt=!0,xn(e,n,s),qe=l,jt=a;break;case 0:case 11:case 14:case 15:if(!it&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){a=l=l.next;do{var d=a,m=d.destroy;d=d.tag,m!==void 0&&(d&2||d&4)&&Du(s,n,m),a=a.next}while(a!==l)}xn(e,n,s);break;case 1:if(!it&&(zr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(_){Ae(s,n,_)}xn(e,n,s);break;case 21:xn(e,n,s);break;case 22:s.mode&1?(it=(l=it)||s.memoizedState!==null,xn(e,n,s),it=l):xn(e,n,s);break;default:xn(e,n,s)}}function Xf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new py),n.forEach(function(l){var a=ky.bind(null,e,l);s.has(l)||(s.add(l),l.then(a,a))})}}function $t(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];try{var d=e,m=n,_=m;e:for(;_!==null;){switch(_.tag){case 5:qe=_.stateNode,jt=!1;break e;case 3:qe=_.stateNode.containerInfo,jt=!0;break e;case 4:qe=_.stateNode.containerInfo,jt=!0;break e}_=_.return}if(qe===null)throw Error(i(160));Yf(d,m,a),qe=null,jt=!1;var w=a.alternate;w!==null&&(w.return=null),a.return=null}catch(I){Ae(a,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Jf(n,e),n=n.sibling}function Jf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(n,e),qt(e),l&4){try{Li(3,e,e.return),so(3,e)}catch(W){Ae(e,e.return,W)}try{Li(5,e,e.return)}catch(W){Ae(e,e.return,W)}}break;case 1:$t(n,e),qt(e),l&512&&s!==null&&zr(s,s.return);break;case 5:if($t(n,e),qt(e),l&512&&s!==null&&zr(s,s.return),e.flags&32){var a=e.stateNode;try{ni(a,"")}catch(W){Ae(e,e.return,W)}}if(l&4&&(a=e.stateNode,a!=null)){var d=e.memoizedProps,m=s!==null?s.memoizedProps:d,_=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&Tc(a,d),dl(_,m);var I=dl(_,d);for(m=0;m<w.length;m+=2){var O=w[m],A=w[m+1];O==="style"?Ac(a,A):O==="dangerouslySetInnerHTML"?Dc(a,A):O==="children"?ni(a,A):ee(a,O,A,I)}switch(_){case"input":ol(a,d);break;case"textarea":xc(a,d);break;case"select":var D=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var U=d.value;U!=null?_r(a,!!d.multiple,U,!1):D!==!!d.multiple&&(d.defaultValue!=null?_r(a,!!d.multiple,d.defaultValue,!0):_r(a,!!d.multiple,d.multiple?[]:"",!1))}a[ki]=d}catch(W){Ae(e,e.return,W)}}break;case 6:if($t(n,e),qt(e),l&4){if(e.stateNode===null)throw Error(i(162));a=e.stateNode,d=e.memoizedProps;try{a.nodeValue=d}catch(W){Ae(e,e.return,W)}}break;case 3:if($t(n,e),qt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{hi(n.containerInfo)}catch(W){Ae(e,e.return,W)}break;case 4:$t(n,e),qt(e);break;case 13:$t(n,e),qt(e),a=e.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(bu=Me())),l&4&&Xf(e);break;case 22:if(O=s!==null&&s.memoizedState!==null,e.mode&1?(it=(I=it)||O,$t(n,e),it=I):$t(n,e),qt(e),l&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!O&&e.mode&1)for(H=e,O=e.child;O!==null;){for(A=H=O;H!==null;){switch(D=H,U=D.child,D.tag){case 0:case 11:case 14:case 15:Li(4,D,D.return);break;case 1:zr(D,D.return);var B=D.stateNode;if(typeof B.componentWillUnmount=="function"){l=D,s=D.return;try{n=l,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(W){Ae(l,s,W)}}break;case 5:zr(D,D.return);break;case 22:if(D.memoizedState!==null){th(A);continue}}U!==null?(U.return=D,H=U):th(A)}O=O.sibling}e:for(O=null,A=e;;){if(A.tag===5){if(O===null){O=A;try{a=A.stateNode,I?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=A.stateNode,w=A.memoizedProps.style,m=w!=null&&w.hasOwnProperty("display")?w.display:null,_.style.display=Oc("display",m))}catch(W){Ae(e,e.return,W)}}}else if(A.tag===6){if(O===null)try{A.stateNode.nodeValue=I?"":A.memoizedProps}catch(W){Ae(e,e.return,W)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;O===A&&(O=null),A=A.return}O===A&&(O=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:$t(n,e),qt(e),l&4&&Xf(e);break;case 21:break;default:$t(n,e),qt(e)}}function qt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Qf(s)){var l=s;break e}s=s.return}throw Error(i(160))}switch(l.tag){case 5:var a=l.stateNode;l.flags&32&&(ni(a,""),l.flags&=-33);var d=qf(e);Mu(e,d,a);break;case 3:case 4:var m=l.stateNode.containerInfo,_=qf(e);Au(e,_,m);break;default:throw Error(i(161))}}catch(w){Ae(e,e.return,w)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e,n,s){H=e,Zf(e)}function Zf(e,n,s){for(var l=(e.mode&1)!==0;H!==null;){var a=H,d=a.child;if(a.tag===22&&l){var m=a.memoizedState!==null||io;if(!m){var _=a.alternate,w=_!==null&&_.memoizedState!==null||it;_=io;var I=it;if(io=m,(it=w)&&!I)for(H=a;H!==null;)m=H,w=m.child,m.tag===22&&m.memoizedState!==null?nh(a):w!==null?(w.return=m,H=w):nh(a);for(;d!==null;)H=d,Zf(d),d=d.sibling;H=a,io=_,it=I}eh(e)}else a.subtreeFlags&8772&&d!==null?(d.return=a,H=d):eh(e)}}function eh(e){for(;H!==null;){var n=H;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:it||so(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!it)if(s===null)l.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:zt(n.type,s.memoizedProps);l.componentDidUpdate(a,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&ef(n,d,l);break;case 3:var m=n.updateQueue;if(m!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}ef(n,m,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var w=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&s.focus();break;case"img":w.src&&(s.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var O=I.memoizedState;if(O!==null){var A=O.dehydrated;A!==null&&hi(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}it||n.flags&512&&Ou(n)}catch(D){Ae(n,n.return,D)}}if(n===e){H=null;break}if(s=n.sibling,s!==null){s.return=n.return,H=s;break}H=n.return}}function th(e){for(;H!==null;){var n=H;if(n===e){H=null;break}var s=n.sibling;if(s!==null){s.return=n.return,H=s;break}H=n.return}}function nh(e){for(;H!==null;){var n=H;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{so(4,n)}catch(w){Ae(n,s,w)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var a=n.return;try{l.componentDidMount()}catch(w){Ae(n,a,w)}}var d=n.return;try{Ou(n)}catch(w){Ae(n,d,w)}break;case 5:var m=n.return;try{Ou(n)}catch(w){Ae(n,m,w)}}}catch(w){Ae(n,n.return,w)}if(n===e){H=null;break}var _=n.sibling;if(_!==null){_.return=n.return,H=_;break}H=n.return}}var _y=Math.ceil,oo=te.ReactCurrentDispatcher,Lu=te.ReactCurrentOwner,Pt=te.ReactCurrentBatchConfig,ce=0,We=null,be=null,Ye=0,Tt=0,jr=Cn(0),$e=0,Fi=null,Xn=0,lo=0,Fu=0,bi=null,pt=null,bu=0,$r=1/0,ln=null,uo=!1,zu=null,Rn=null,ao=!1,Pn=null,co=0,zi=0,ju=null,fo=-1,ho=0;function at(){return ce&6?Me():fo!==-1?fo:fo=Me()}function Dn(e){return e.mode&1?ce&2&&Ye!==0?Ye&-Ye:ey.transition!==null?(ho===0&&(ho=Qc()),ho):(e=me,e!==0||(e=window.event,e=e===void 0?16:rd(e.type)),e):1}function Ut(e,n,s,l){if(50<zi)throw zi=0,ju=null,Error(i(185));ui(e,s,l),(!(ce&2)||e!==We)&&(e===We&&(!(ce&2)&&(lo|=s),$e===4&&On(e,Ye)),mt(e,l),s===1&&ce===0&&!(n.mode&1)&&($r=Me()+500,$s&&Tn()))}function mt(e,n){var s=e.callbackNode;e_(e,n);var l=Es(e,e===We?Ye:0);if(l===0)s!==null&&Vc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&Vc(s),n===1)e.tag===0?Z_(ih.bind(null,e)):Hd(ih.bind(null,e)),q_(function(){!(ce&6)&&Tn()}),s=null;else{switch(qc(l)){case 1:s=yl;break;case 4:s=Gc;break;case 16:s=_s;break;case 536870912:s=Kc;break;default:s=_s}s=fh(s,rh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function rh(e,n){if(fo=-1,ho=0,ce&6)throw Error(i(327));var s=e.callbackNode;if(Ur()&&e.callbackNode!==s)return null;var l=Es(e,e===We?Ye:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=po(e,l);else{n=l;var a=ce;ce|=2;var d=oh();(We!==e||Ye!==n)&&(ln=null,$r=Me()+500,Zn(e,n));do try{wy();break}catch(_){sh(e,_)}while(!0);ru(),oo.current=d,ce=a,be!==null?n=0:(We=null,Ye=0,n=$e)}if(n!==0){if(n===2&&(a=vl(e),a!==0&&(l=a,n=$u(e,a))),n===1)throw s=Fi,Zn(e,0),On(e,l),mt(e,Me()),s;if(n===6)On(e,l);else{if(a=e.current.alternate,!(l&30)&&!yy(a)&&(n=po(e,l),n===2&&(d=vl(e),d!==0&&(l=d,n=$u(e,d))),n===1))throw s=Fi,Zn(e,0),On(e,l),mt(e,Me()),s;switch(e.finishedWork=a,e.finishedLanes=l,n){case 0:case 1:throw Error(i(345));case 2:er(e,pt,ln);break;case 3:if(On(e,l),(l&130023424)===l&&(n=bu+500-Me(),10<n)){if(Es(e,0)!==0)break;if(a=e.suspendedLanes,(a&l)!==l){at(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Gl(er.bind(null,e,pt,ln),n);break}er(e,pt,ln);break;case 4:if(On(e,l),(l&4194240)===l)break;for(n=e.eventTimes,a=-1;0<l;){var m=31-Lt(l);d=1<<m,m=n[m],m>a&&(a=m),l&=~d}if(l=a,l=Me()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*_y(l/1960))-l,10<l){e.timeoutHandle=Gl(er.bind(null,e,pt,ln),l);break}er(e,pt,ln);break;case 5:er(e,pt,ln);break;default:throw Error(i(329))}}}return mt(e,Me()),e.callbackNode===s?rh.bind(null,e):null}function $u(e,n){var s=bi;return e.current.memoizedState.isDehydrated&&(Zn(e,n).flags|=256),e=po(e,n),e!==2&&(n=pt,pt=s,n!==null&&Uu(n)),e}function Uu(e){pt===null?pt=e:pt.push.apply(pt,e)}function yy(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var a=s[l],d=a.getSnapshot;a=a.value;try{if(!Ft(d(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function On(e,n){for(n&=~Fu,n&=~lo,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Lt(n),l=1<<s;e[s]=-1,n&=~l}}function ih(e){if(ce&6)throw Error(i(327));Ur();var n=Es(e,0);if(!(n&1))return mt(e,Me()),null;var s=po(e,n);if(e.tag!==0&&s===2){var l=vl(e);l!==0&&(n=l,s=$u(e,l))}if(s===1)throw s=Fi,Zn(e,0),On(e,n),mt(e,Me()),s;if(s===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,er(e,pt,ln),mt(e,Me()),null}function Hu(e,n){var s=ce;ce|=1;try{return e(n)}finally{ce=s,ce===0&&($r=Me()+500,$s&&Tn())}}function Jn(e){Pn!==null&&Pn.tag===0&&!(ce&6)&&Ur();var n=ce;ce|=1;var s=Pt.transition,l=me;try{if(Pt.transition=null,me=1,e)return e()}finally{me=l,Pt.transition=s,ce=n,!(ce&6)&&Tn()}}function Bu(){Tt=jr.current,Ce(jr)}function Zn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Q_(s)),be!==null)for(s=be.return;s!==null;){var l=s;switch(Jl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&zs();break;case 3:Fr(),Ce(dt),Ce(tt),du();break;case 5:au(l);break;case 4:Fr();break;case 13:Ce(xe);break;case 19:Ce(xe);break;case 10:iu(l.type._context);break;case 22:case 23:Bu()}s=s.return}if(We=e,be=e=An(e.current,null),Ye=Tt=n,$e=0,Fi=null,Fu=lo=Xn=0,pt=bi=null,Qn!==null){for(n=0;n<Qn.length;n++)if(s=Qn[n],l=s.interleaved,l!==null){s.interleaved=null;var a=l.next,d=s.pending;if(d!==null){var m=d.next;d.next=a,l.next=m}s.pending=l}Qn=null}return e}function sh(e,n){do{var s=be;try{if(ru(),Ys.current=eo,Xs){for(var l=Re.memoizedState;l!==null;){var a=l.queue;a!==null&&(a.pending=null),l=l.next}Xs=!1}if(Yn=0,Be=je=Re=null,Pi=!1,Di=0,Lu.current=null,s===null||s.return===null){$e=1,Fi=n,be=null;break}e:{var d=e,m=s.return,_=s,w=n;if(n=Ye,_.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var I=w,O=_,A=O.tag;if(!(O.mode&1)&&(A===0||A===11||A===15)){var D=O.alternate;D?(O.updateQueue=D.updateQueue,O.memoizedState=D.memoizedState,O.lanes=D.lanes):(O.updateQueue=null,O.memoizedState=null)}var U=Pf(m);if(U!==null){U.flags&=-257,Df(U,m,_,d,n),U.mode&1&&Rf(d,I,n),n=U,w=I;var B=n.updateQueue;if(B===null){var W=new Set;W.add(w),n.updateQueue=W}else B.add(w);break e}else{if(!(n&1)){Rf(d,I,n),Wu();break e}w=Error(i(426))}}else if(Ne&&_.mode&1){var Le=Pf(m);if(Le!==null){!(Le.flags&65536)&&(Le.flags|=256),Df(Le,m,_,d,n),tu(br(w,_));break e}}d=w=br(w,_),$e!==4&&($e=2),bi===null?bi=[d]:bi.push(d),d=m;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var C=Nf(d,w,n);Zd(d,C);break e;case 1:_=w;var E=d.type,k=d.stateNode;if(!(d.flags&128)&&(typeof E.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Rn===null||!Rn.has(k)))){d.flags|=65536,n&=-n,d.lanes|=n;var M=xf(d,_,n);Zd(d,M);break e}}d=d.return}while(d!==null)}uh(s)}catch(G){n=G,be===s&&s!==null&&(be=s=s.return);continue}break}while(!0)}function oh(){var e=oo.current;return oo.current=eo,e===null?eo:e}function Wu(){($e===0||$e===3||$e===2)&&($e=4),We===null||!(Xn&268435455)&&!(lo&268435455)||On(We,Ye)}function po(e,n){var s=ce;ce|=2;var l=oh();(We!==e||Ye!==n)&&(ln=null,Zn(e,n));do try{vy();break}catch(a){sh(e,a)}while(!0);if(ru(),ce=s,oo.current=l,be!==null)throw Error(i(261));return We=null,Ye=0,$e}function vy(){for(;be!==null;)lh(be)}function wy(){for(;be!==null&&!Vg();)lh(be)}function lh(e){var n=dh(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,n===null?uh(e):be=n,Lu.current=null}function uh(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=hy(s,n),s!==null){s.flags&=32767,be=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,be=null;return}}else if(s=fy(s,n,Tt),s!==null){be=s;return}if(n=n.sibling,n!==null){be=n;return}be=n=e}while(n!==null);$e===0&&($e=5)}function er(e,n,s){var l=me,a=Pt.transition;try{Pt.transition=null,me=1,Ey(e,n,s,l)}finally{Pt.transition=a,me=l}return null}function Ey(e,n,s,l){do Ur();while(Pn!==null);if(ce&6)throw Error(i(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(t_(e,d),e===We&&(be=We=null,Ye=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ao||(ao=!0,fh(_s,function(){return Ur(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=Pt.transition,Pt.transition=null;var m=me;me=1;var _=ce;ce|=4,Lu.current=null,my(e,s),Jf(s,e),U_(Wl),ks=!!Bl,Wl=Bl=null,e.current=s,gy(s),Gg(),ce=_,me=m,Pt.transition=d}else e.current=s;if(ao&&(ao=!1,Pn=e,co=a),d=e.pendingLanes,d===0&&(Rn=null),qg(s.stateNode),mt(e,Me()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)a=n[s],l(a.value,{componentStack:a.stack,digest:a.digest});if(uo)throw uo=!1,e=zu,zu=null,e;return co&1&&e.tag!==0&&Ur(),d=e.pendingLanes,d&1?e===ju?zi++:(zi=0,ju=e):zi=0,Tn(),null}function Ur(){if(Pn!==null){var e=qc(co),n=Pt.transition,s=me;try{if(Pt.transition=null,me=16>e?16:e,Pn===null)var l=!1;else{if(e=Pn,Pn=null,co=0,ce&6)throw Error(i(331));var a=ce;for(ce|=4,H=e.current;H!==null;){var d=H,m=d.child;if(H.flags&16){var _=d.deletions;if(_!==null){for(var w=0;w<_.length;w++){var I=_[w];for(H=I;H!==null;){var O=H;switch(O.tag){case 0:case 11:case 15:Li(8,O,d)}var A=O.child;if(A!==null)A.return=O,H=A;else for(;H!==null;){O=H;var D=O.sibling,U=O.return;if(Kf(O),O===I){H=null;break}if(D!==null){D.return=U,H=D;break}H=U}}}var B=d.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var Le=W.sibling;W.sibling=null,W=Le}while(W!==null)}}H=d}}if(d.subtreeFlags&2064&&m!==null)m.return=d,H=m;else e:for(;H!==null;){if(d=H,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Li(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,H=C;break e}H=d.return}}var E=e.current;for(H=E;H!==null;){m=H;var k=m.child;if(m.subtreeFlags&2064&&k!==null)k.return=m,H=k;else e:for(m=E;H!==null;){if(_=H,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:so(9,_)}}catch(G){Ae(_,_.return,G)}if(_===m){H=null;break e}var M=_.sibling;if(M!==null){M.return=_.return,H=M;break e}H=_.return}}if(ce=a,Tn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(ys,e)}catch{}l=!0}return l}finally{me=s,Pt.transition=n}}return!1}function ah(e,n,s){n=br(s,n),n=Nf(e,n,1),e=Nn(e,n,1),n=at(),e!==null&&(ui(e,1,n),mt(e,n))}function Ae(e,n,s){if(e.tag===3)ah(e,e,s);else for(;n!==null;){if(n.tag===3){ah(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rn===null||!Rn.has(l))){e=br(s,e),e=xf(n,e,1),n=Nn(n,e,1),e=at(),n!==null&&(ui(n,1,e),mt(n,e));break}}n=n.return}}function Sy(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=at(),e.pingedLanes|=e.suspendedLanes&s,We===e&&(Ye&s)===s&&($e===4||$e===3&&(Ye&130023424)===Ye&&500>Me()-bu?Zn(e,0):Fu|=s),mt(e,n)}function ch(e,n){n===0&&(e.mode&1?(n=ws,ws<<=1,!(ws&130023424)&&(ws=4194304)):n=1);var s=at();e=rn(e,n),e!==null&&(ui(e,n,s),mt(e,s))}function Cy(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ch(e,s)}function ky(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(n),ch(e,s)}var dh;dh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||dt.current)ht=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return ht=!1,dy(e,n,s);ht=!!(e.flags&131072)}else ht=!1,Ne&&n.flags&1048576&&Bd(n,Hs,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;ro(e,n),e=n.pendingProps;var a=Rr(n,tt.current);Lr(n,s),a=pu(null,n,l,e,a,s);var d=mu();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ft(l)?(d=!0,js(n)):d=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,lu(n),a.updater=to,n.stateNode=a,a._reactInternals=n,Eu(n,l,e,s),n=Tu(null,n,l,!0,d,s)):(n.tag=0,Ne&&d&&Xl(n),ut(null,n,a,s),n=n.child),n;case 16:l=n.elementType;e:{switch(ro(e,n),e=n.pendingProps,a=l._init,l=a(l._payload),n.type=l,a=n.tag=Iy(l),e=zt(l,e),a){case 0:n=ku(null,n,l,e,s);break e;case 1:n=bf(null,n,l,e,s);break e;case 11:n=Of(null,n,l,e,s);break e;case 14:n=Af(null,n,l,zt(l.type,e),s);break e}throw Error(i(306,l,""))}return n;case 0:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:zt(l,a),ku(e,n,l,a,s);case 1:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:zt(l,a),bf(e,n,l,a,s);case 3:e:{if(zf(n),e===null)throw Error(i(387));l=n.pendingProps,d=n.memoizedState,a=d.element,Jd(e,n),Qs(n,l,null,s);var m=n.memoizedState;if(l=m.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){a=br(Error(i(423)),n),n=jf(e,n,l,s,a);break e}else if(l!==a){a=br(Error(i(424)),n),n=jf(e,n,l,s,a);break e}else for(kt=Sn(n.stateNode.containerInfo.firstChild),Ct=n,Ne=!0,bt=null,s=Yd(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Or(),l===a){n=on(e,n,s);break e}ut(e,n,l,s)}n=n.child}return n;case 5:return tf(n),e===null&&eu(n),l=n.type,a=n.pendingProps,d=e!==null?e.memoizedProps:null,m=a.children,Vl(l,a)?m=null:d!==null&&Vl(l,d)&&(n.flags|=32),Ff(e,n),ut(e,n,m,s),n.child;case 6:return e===null&&eu(n),null;case 13:return $f(e,n,s);case 4:return uu(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ar(n,null,l,s):ut(e,n,l,s),n.child;case 11:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:zt(l,a),Of(e,n,l,a,s);case 7:return ut(e,n,n.pendingProps,s),n.child;case 8:return ut(e,n,n.pendingProps.children,s),n.child;case 12:return ut(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,a=n.pendingProps,d=n.memoizedProps,m=a.value,ve(Vs,l._currentValue),l._currentValue=m,d!==null)if(Ft(d.value,m)){if(d.children===a.children&&!dt.current){n=on(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){m=d.child;for(var w=_.firstContext;w!==null;){if(w.context===l){if(d.tag===1){w=sn(-1,s&-s),w.tag=2;var I=d.updateQueue;if(I!==null){I=I.shared;var O=I.pending;O===null?w.next=w:(w.next=O.next,O.next=w),I.pending=w}}d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),su(d.return,s,n),_.lanes|=s;break}w=w.next}}else if(d.tag===10)m=d.type===n.type?null:d.child;else if(d.tag===18){if(m=d.return,m===null)throw Error(i(341));m.lanes|=s,_=m.alternate,_!==null&&(_.lanes|=s),su(m,s,n),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===n){m=null;break}if(d=m.sibling,d!==null){d.return=m.return,m=d;break}m=m.return}d=m}ut(e,n,a.children,s),n=n.child}return n;case 9:return a=n.type,l=n.pendingProps.children,Lr(n,s),a=xt(a),l=l(a),n.flags|=1,ut(e,n,l,s),n.child;case 14:return l=n.type,a=zt(l,n.pendingProps),a=zt(l.type,a),Af(e,n,l,a,s);case 15:return Mf(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:zt(l,a),ro(e,n),n.tag=1,ft(l)?(e=!0,js(n)):e=!1,Lr(n,s),Tf(n,l,a),Eu(n,l,a,s),Tu(null,n,l,!0,e,s);case 19:return Hf(e,n,s);case 22:return Lf(e,n,s)}throw Error(i(156,n.tag))};function fh(e,n){return Wc(e,n)}function Ty(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,n,s,l){return new Ty(e,n,s,l)}function Vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Iy(e){if(typeof e=="function")return Vu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ze)return 11;if(e===et)return 14}return 2}function An(e,n){var s=e.alternate;return s===null?(s=Dt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function mo(e,n,s,l,a,d){var m=2;if(l=e,typeof e=="function")Vu(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case ye:return tr(s.children,a,d,n);case Qe:m=8,a|=8;break;case wt:return e=Dt(12,s,n,a|2),e.elementType=wt,e.lanes=d,e;case Fe:return e=Dt(13,s,n,a),e.elementType=Fe,e.lanes=d,e;case He:return e=Dt(19,s,n,a),e.elementType=He,e.lanes=d,e;case _e:return go(s,a,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oe:m=10;break e;case lt:m=9;break e;case Ze:m=11;break e;case et:m=14;break e;case ze:m=16,l=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=Dt(m,s,n,a),n.elementType=e,n.type=l,n.lanes=d,n}function tr(e,n,s,l){return e=Dt(7,e,l,n),e.lanes=s,e}function go(e,n,s,l){return e=Dt(22,e,l,n),e.elementType=_e,e.lanes=s,e.stateNode={isHidden:!1},e}function Gu(e,n,s){return e=Dt(6,e,null,n),e.lanes=s,e}function Ku(e,n,s){return n=Dt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ny(e,n,s,l,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=l,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Qu(e,n,s,l,a,d,m,_,w){return e=new Ny(e,n,s,_,w),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Dt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(d),e}function xy(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function hh(e){if(!e)return kn;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ft(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var s=e.type;if(ft(s))return $d(e,s,n)}return n}function ph(e,n,s,l,a,d,m,_,w){return e=Qu(s,l,!0,e,a,d,m,_,w),e.context=hh(null),s=e.current,l=at(),a=Dn(s),d=sn(l,a),d.callback=n??null,Nn(s,d,a),e.current.lanes=a,ui(e,a,l),mt(e,l),e}function _o(e,n,s,l){var a=n.current,d=at(),m=Dn(a);return s=hh(s),n.context===null?n.context=s:n.pendingContext=s,n=sn(d,m),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Nn(a,n,m),e!==null&&(Ut(e,a,m,d),Ks(e,a,m)),m}function yo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function qu(e,n){mh(e,n),(e=e.alternate)&&mh(e,n)}var gh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}vo.prototype.render=Yu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));_o(e,n,null,null)},vo.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jn(function(){_o(null,e,null,null)}),n[Zt]=null}};function vo(e){this._internalRoot=e}vo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<vn.length&&n!==0&&n<vn[s].priority;s++);vn.splice(s,0,e),s===0&&td(e)}};function Xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _h(){}function Ry(e,n,s,l,a){if(a){if(typeof l=="function"){var d=l;l=function(){var I=yo(m);d.call(I)}}var m=ph(n,l,e,0,null,!1,!1,"",_h);return e._reactRootContainer=m,e[Zt]=m.current,Si(e.nodeType===8?e.parentNode:e),Jn(),m}for(;a=e.lastChild;)e.removeChild(a);if(typeof l=="function"){var _=l;l=function(){var I=yo(w);_.call(I)}}var w=Qu(e,0,!1,null,null,!1,!1,"",_h);return e._reactRootContainer=w,e[Zt]=w.current,Si(e.nodeType===8?e.parentNode:e),Jn(function(){_o(n,w,s,l)}),w}function Eo(e,n,s,l,a){var d=s._reactRootContainer;if(d){var m=d;if(typeof a=="function"){var _=a;a=function(){var w=yo(m);_.call(w)}}_o(n,m,e,a)}else m=Ry(s,n,e,a,l);return yo(m)}Yc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=li(n.pendingLanes);s!==0&&(El(n,s|1),mt(n,Me()),!(ce&6)&&($r=Me()+500,Tn()))}break;case 13:Jn(function(){var l=rn(e,1);if(l!==null){var a=at();Ut(l,e,1,a)}}),qu(e,1)}},Sl=function(e){if(e.tag===13){var n=rn(e,134217728);if(n!==null){var s=at();Ut(n,e,134217728,s)}qu(e,134217728)}},Xc=function(e){if(e.tag===13){var n=Dn(e),s=rn(e,n);if(s!==null){var l=at();Ut(s,e,n,l)}qu(e,n)}},Jc=function(){return me},Zc=function(e,n){var s=me;try{return me=e,n()}finally{me=s}},pl=function(e,n,s){switch(n){case"input":if(ol(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var a=bs(l);if(!a)throw Error(i(90));Cc(l),ol(l,a)}}}break;case"textarea":xc(e,s);break;case"select":n=s.value,n!=null&&_r(e,!!s.multiple,n,!1)}},bc=Hu,zc=Jn;var Py={usingClientEntryPoint:!1,Events:[Ti,Nr,bs,Lc,Fc,Hu]},ji={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dy={bundleType:ji.bundleType,version:ji.version,rendererPackageName:ji.rendererPackageName,rendererConfig:ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hc(e),e===null?null:e.stateNode},findFiberByHostInstance:ji.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{ys=So.inject(Dy),Vt=So}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Py,gt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xu(n))throw Error(i(200));return xy(e,n,null,s)},gt.createRoot=function(e,n){if(!Xu(e))throw Error(i(299));var s=!1,l="",a=gh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=Qu(e,1,!1,null,null,s,!1,l,a),e[Zt]=n.current,Si(e.nodeType===8?e.parentNode:e),new Yu(n)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Hc(n),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return Jn(e)},gt.hydrate=function(e,n,s){if(!wo(n))throw Error(i(200));return Eo(null,e,n,!0,s)},gt.hydrateRoot=function(e,n,s){if(!Xu(e))throw Error(i(405));var l=s!=null&&s.hydratedSources||null,a=!1,d="",m=gh;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),n=ph(n,null,e,1,s??null,a,!1,d,m),e[Zt]=n.current,Si(e),l)for(e=0;e<l.length;e++)s=l[e],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new vo(n)},gt.render=function(e,n,s){if(!wo(n))throw Error(i(200));return Eo(null,e,n,!1,s)},gt.unmountComponentAtNode=function(e){if(!wo(e))throw Error(i(40));return e._reactRootContainer?(Jn(function(){Eo(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1},gt.unstable_batchedUpdates=Hu,gt.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!wo(s))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Eo(e,n,s,!1,l)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var Ih;function Rp(){if(Ih)return ta.exports;Ih=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ta.exports=Hy(),ta.exports}var Nh;function By(){if(Nh)return Co;Nh=1;var r=Rp();return Co.createRoot=r.createRoot,Co.hydrateRoot=r.hydrateRoot,Co}var Wy=By();const Pp="/DIRI_UI/assets/Hamburg-5kXPp-4v.jpg";let Vy=class{constructor(){Ju(this,"levels");Ju(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(t){this.levels.includes(t)?this.currentLevel=t:console.error(`Nivel de log no válido: ${t}`)}log(t,i){const o=this.levels.indexOf(t),u=this.levels.indexOf(this.currentLevel);if(o>=u){const c=new Date().toISOString();console[t](`[${t.toUpperCase()}] ${c}: ${i}`)}}debug(t){this.log("debug",t)}info(t){this.log("info",t)}warn(t){this.log("warn",t)}error(t){this.log("error",t)}};const ar=new Vy,Gy=async(r,t,i)=>{i(!0);try{const o=await fetch(`https://timeapi.io/api/time/current/zone?timeZone=${r}`);if(!o.ok)throw new Error(`Error: ${o.status}`);const u=await o.json();return t(u),u}catch(o){console.error("Fetch error:",o),t(void 0)}finally{ar.debug("Finaliza"),i(!1)}};var xh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=function(r,t){if(!r)throw qr(t)},qr=function(r){return new Error("Firebase Database ("+Dp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=function(r){const t=[];let i=0;for(let o=0;o<r.length;o++){let u=r.charCodeAt(o);u<128?t[i++]=u:u<2048?(t[i++]=u>>6|192,t[i++]=u&63|128):(u&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++o)&1023),t[i++]=u>>18|240,t[i++]=u>>12&63|128,t[i++]=u>>6&63|128,t[i++]=u&63|128):(t[i++]=u>>12|224,t[i++]=u>>6&63|128,t[i++]=u&63|128)}return t},Ky=function(r){const t=[];let i=0,o=0;for(;i<r.length;){const u=r[i++];if(u<128)t[o++]=String.fromCharCode(u);else if(u>191&&u<224){const c=r[i++];t[o++]=String.fromCharCode((u&31)<<6|c&63)}else if(u>239&&u<365){const c=r[i++],f=r[i++],h=r[i++],p=((u&7)<<18|(c&63)<<12|(f&63)<<6|h&63)-65536;t[o++]=String.fromCharCode(55296+(p>>10)),t[o++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],f=r[i++];t[o++]=String.fromCharCode((u&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Wa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<r.length;u+=3){const c=r[u],f=u+1<r.length,h=f?r[u+1]:0,p=u+2<r.length,g=p?r[u+2]:0,y=c>>2,v=(c&3)<<4|h>>4;let T=(h&15)<<2|g>>6,x=g&63;p||(x=64,f||(T=64)),o.push(i[y],i[v],i[T],i[x])}return o.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Op(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Ky(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<r.length;){const c=i[r.charAt(u++)],h=u<r.length?i[r.charAt(u)]:0;++u;const g=u<r.length?i[r.charAt(u)]:64;++u;const v=u<r.length?i[r.charAt(u)]:64;if(++u,c==null||h==null||g==null||v==null)throw new Qy;const T=c<<2|h>>4;if(o.push(T),g!==64){const x=h<<4&240|g>>2;if(o.push(x),v!==64){const P=g<<6&192|v;o.push(P)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Qy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ap=function(r){const t=Op(r);return Wa.encodeByteArray(t,!0)},xo=function(r){return Ap(r).replace(/\./g,"")},_a=function(r){try{return Wa.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(r){return Mp(void 0,r)}function Mp(r,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!Yy(i)||(r[i]=Mp(r[i],t[i]));return r}function Yy(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=()=>Xy().__FIREBASE_DEFAULTS__,Zy=()=>{if(typeof process>"u"||typeof xh>"u")return;const r=xh.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ev=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&_a(r[1]);return t&&JSON.parse(t)},Lp=()=>{try{return Jy()||Zy()||ev()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tv=r=>{var t,i;return(i=(t=Lp())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},nv=r=>{const t=tv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),o]:[t.substring(0,i),o]},Fp=()=>{var r;return(r=Lp())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=t||"demo-project",u=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:u,exp:u+3600,auth_time:u,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xo(JSON.stringify(i)),xo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(iv())}function sv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ov(){return Dp.NODE_ADMIN===!0}function lv(){try{return typeof indexedDB=="object"}catch{return!1}}function uv(){return new Promise((r,t)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(o),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var c;t(((c=u.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="FirebaseError";class ss extends Error{constructor(t,i,o){super(i),this.code=t,this.customData=o,this.name=av,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zp.prototype.create)}}class zp{constructor(t,i,o){this.service=t,this.serviceName=i,this.errors=o}create(t,...i){const o=i[0]||{},u=`${this.service}/${t}`,c=this.errors[t],f=c?cv(c,o):"Error",h=`${this.serviceName}: ${f} (${u}).`;return new ss(u,h,o)}}function cv(r,t){return r.replace(dv,(i,o)=>{const u=t[o];return u!=null?String(u):`<${o}?>`})}const dv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(r){return JSON.parse(r)}function Je(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=function(r){let t={},i={},o={},u="";try{const c=r.split(".");t=es(_a(c[0])||""),i=es(_a(c[1])||""),u=c[2],o=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:o,signature:u}},fv=function(r){const t=jp(r),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},hv=function(r){const t=jp(r).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function Gr(r,t){if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}function Rh(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ro(r,t,i){const o={};for(const u in r)Object.prototype.hasOwnProperty.call(r,u)&&(o[u]=t.call(i,r[u],u,r));return o}function ya(r,t){if(r===t)return!0;const i=Object.keys(r),o=Object.keys(t);for(const u of i){if(!o.includes(u))return!1;const c=r[u],f=t[u];if(Ph(c)&&Ph(f)){if(!ya(c,f))return!1}else if(c!==f)return!1}for(const u of o)if(!i.includes(u))return!1;return!0}function Ph(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(r){const t=[];for(const[i,o]of Object.entries(r))Array.isArray(o)?o.forEach(u=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const o=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)o[v]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)o[v]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let v=16;v<80;v++){const T=o[v-3]^o[v-8]^o[v-14]^o[v-16];o[v]=(T<<1|T>>>31)&4294967295}let u=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,y;for(let v=0;v<80;v++){v<40?v<20?(g=h^c&(f^h),y=1518500249):(g=c^f^h,y=1859775393):v<60?(g=c&f|h&(c|f),y=2400959708):(g=c^f^h,y=3395469782);const T=(u<<5|u>>>27)+g+p+y+o[v]&4294967295;p=h,h=f,f=(c<<30|c>>>2)&4294967295,c=u,u=T}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const o=i-this.blockSize;let u=0;const c=this.buf_;let f=this.inbuf_;for(;u<i;){if(f===0)for(;u<=o;)this.compress_(t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<i;)if(c[f]=t.charCodeAt(u),++f,++u,f===this.blockSize){this.compress_(c),f=0;break}}else for(;u<i;)if(c[f]=t[u],++f,++u,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=i&255,i/=256;this.compress_(this.buf_);let o=0;for(let u=0;u<5;u++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[u]>>c&255,++o;return t}}function Va(r,t){return`${r} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=function(r){const t=[];let i=0;for(let o=0;o<r.length;o++){let u=r.charCodeAt(o);if(u>=55296&&u<=56319){const c=u-55296;o++,b(o<r.length,"Surrogate pair missing trail surrogate.");const f=r.charCodeAt(o)-56320;u=65536+(c<<10)+f}u<128?t[i++]=u:u<2048?(t[i++]=u>>6|192,t[i++]=u&63|128):u<65536?(t[i++]=u>>12|224,t[i++]=u>>6&63|128,t[i++]=u&63|128):(t[i++]=u>>18|240,t[i++]=u>>12&63|128,t[i++]=u>>6&63|128,t[i++]=u&63|128)}return t},Wo=function(r){let t=0;for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(r){return r&&r._delegate?r._delegate:r}class ts{constructor(t,i,o){this.name=t,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const o=new Bo;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(u)return null;throw c}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vv(t))try{this.getOrInitializeService({instanceIdentifier:nr})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:u});o.resolve(c)}catch{}}}}clearInstance(t=nr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=nr){return this.instances.has(t)}getOptions(t=nr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[c,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);o===h&&f.resolve(u)}return u}onInit(t,i){var o;const u=this.normalizeInstanceIdentifier(i),c=(o=this.onInitCallbacks.get(u))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(u,c);const f=this.instances.get(u);return f&&t(f,u),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const o=this.onInitCallbacks.get(i);if(o)for(const u of o)try{u(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:yv(t),options:i}),this.instances.set(t,o),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=nr){return this.component?this.component.multipleInstances?t:nr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yv(r){return r===nr?void 0:r}function vv(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new _v(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(we||(we={}));const Ev={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Sv=we.INFO,Cv={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},kv=(r,t,...i)=>{if(t<r.logLevel)return;const o=new Date().toISOString(),u=Cv[t];if(u)console[u](`[${o}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $p{constructor(t){this.name=t,this._logLevel=Sv,this._logHandler=kv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in we))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ev[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...t),this._logHandler(this,we.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...t),this._logHandler(this,we.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,we.INFO,...t),this._logHandler(this,we.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,we.WARN,...t),this._logHandler(this,we.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...t),this._logHandler(this,we.ERROR,...t)}}const Tv=(r,t)=>t.some(i=>r instanceof i);let Dh,Oh;function Iv(){return Dh||(Dh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nv(){return Oh||(Oh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Up=new WeakMap,va=new WeakMap,Hp=new WeakMap,ia=new WeakMap,Ga=new WeakMap;function xv(r){const t=new Promise((i,o)=>{const u=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(bn(r.result)),u()},f=()=>{o(r.error),u()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&Up.set(i,r)}).catch(()=>{}),Ga.set(t,r),t}function Rv(r){if(va.has(r))return;const t=new Promise((i,o)=>{const u=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),u()},f=()=>{o(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});va.set(r,t)}let wa={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return va.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Hp.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return bn(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Pv(r){wa=r(wa)}function Dv(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const o=r.call(sa(this),t,...i);return Hp.set(o,t.sort?t.sort():[t]),bn(o)}:Nv().includes(r)?function(...t){return r.apply(sa(this),t),bn(Up.get(this))}:function(...t){return bn(r.apply(sa(this),t))}}function Ov(r){return typeof r=="function"?Dv(r):(r instanceof IDBTransaction&&Rv(r),Tv(r,Iv())?new Proxy(r,wa):r)}function bn(r){if(r instanceof IDBRequest)return xv(r);if(ia.has(r))return ia.get(r);const t=Ov(r);return t!==r&&(ia.set(r,t),Ga.set(t,r)),t}const sa=r=>Ga.get(r);function Av(r,t,{blocked:i,upgrade:o,blocking:u,terminated:c}={}){const f=indexedDB.open(r,t),h=bn(f);return o&&f.addEventListener("upgradeneeded",p=>{o(bn(f.result),p.oldVersion,p.newVersion,bn(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{c&&p.addEventListener("close",()=>c()),u&&p.addEventListener("versionchange",g=>u(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Mv=["get","getKey","getAll","getAllKeys","count"],Lv=["put","add","delete","clear"],oa=new Map;function Ah(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(oa.get(t))return oa.get(t);const i=t.replace(/FromIndex$/,""),o=t!==i,u=Lv.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(u||Mv.includes(i)))return;const c=async function(f,...h){const p=this.transaction(f,u?"readwrite":"readonly");let g=p.store;return o&&(g=g.index(h.shift())),(await Promise.all([g[i](...h),u&&p.done]))[0]};return oa.set(t,c),c}Pv(r=>({...r,get:(t,i,o)=>Ah(t,i)||r.get(t,i,o),has:(t,i)=>!!Ah(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bv(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function bv(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ea="@firebase/app",Mh="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new $p("@firebase/app"),zv="@firebase/app-compat",jv="@firebase/analytics-compat",$v="@firebase/analytics",Uv="@firebase/app-check-compat",Hv="@firebase/app-check",Bv="@firebase/auth",Wv="@firebase/auth-compat",Vv="@firebase/database",Gv="@firebase/data-connect",Kv="@firebase/database-compat",Qv="@firebase/functions",qv="@firebase/functions-compat",Yv="@firebase/installations",Xv="@firebase/installations-compat",Jv="@firebase/messaging",Zv="@firebase/messaging-compat",ew="@firebase/performance",tw="@firebase/performance-compat",nw="@firebase/remote-config",rw="@firebase/remote-config-compat",iw="@firebase/storage",sw="@firebase/storage-compat",ow="@firebase/firestore",lw="@firebase/vertexai",uw="@firebase/firestore-compat",aw="firebase",cw="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]",dw={[Ea]:"fire-core",[zv]:"fire-core-compat",[$v]:"fire-analytics",[jv]:"fire-analytics-compat",[Hv]:"fire-app-check",[Uv]:"fire-app-check-compat",[Bv]:"fire-auth",[Wv]:"fire-auth-compat",[Vv]:"fire-rtdb",[Gv]:"fire-data-connect",[Kv]:"fire-rtdb-compat",[Qv]:"fire-fn",[qv]:"fire-fn-compat",[Yv]:"fire-iid",[Xv]:"fire-iid-compat",[Jv]:"fire-fcm",[Zv]:"fire-fcm-compat",[ew]:"fire-perf",[tw]:"fire-perf-compat",[nw]:"fire-rc",[rw]:"fire-rc-compat",[iw]:"fire-gcs",[sw]:"fire-gcs-compat",[ow]:"fire-fst",[uw]:"fire-fst-compat",[lw]:"fire-vertex","fire-js":"fire-js",[aw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Map,fw=new Map,Ca=new Map;function Lh(r,t){try{r.container.addComponent(t)}catch(i){fn.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Do(r){const t=r.name;if(Ca.has(t))return fn.debug(`There were multiple attempts to register component ${t}.`),!1;Ca.set(t,r);for(const i of Po.values())Lh(i,r);for(const i of fw.values())Lh(i,r);return!0}function hw(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zn=new zp("app","Firebase",pw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,i,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=cw;function Bp(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Sa,automaticDataCollectionEnabled:!1},t),u=o.name;if(typeof u!="string"||!u)throw zn.create("bad-app-name",{appName:String(u)});if(i||(i=Fp()),!i)throw zn.create("no-options");const c=Po.get(u);if(c){if(ya(i,c.options)&&ya(o,c.config))return c;throw zn.create("duplicate-app",{appName:u})}const f=new wv(u);for(const p of Ca.values())f.addComponent(p);const h=new mw(i,o,f);return Po.set(u,h),h}function _w(r=Sa){const t=Po.get(r);if(!t&&r===Sa&&Fp())return Bp();if(!t)throw zn.create("no-app",{appName:r});return t}function Br(r,t,i){var o;let u=(o=dw[r])!==null&&o!==void 0?o:r;i&&(u+=`-${i}`);const c=u.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const h=[`Unable to register library "${u}" with version "${t}":`];c&&h.push(`library name "${u}" contains illegal characters (whitespace or "/")`),c&&f&&h.push("and"),f&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fn.warn(h.join(" "));return}Do(new ts(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="firebase-heartbeat-database",vw=1,ns="firebase-heartbeat-store";let la=null;function Wp(){return la||(la=Av(yw,vw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ns)}catch(i){console.warn(i)}}}}).catch(r=>{throw zn.create("idb-open",{originalErrorMessage:r.message})})),la}async function ww(r){try{const i=(await Wp()).transaction(ns),o=await i.objectStore(ns).get(Vp(r));return await i.done,o}catch(t){if(t instanceof ss)fn.warn(t.message);else{const i=zn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});fn.warn(i.message)}}}async function Fh(r,t){try{const o=(await Wp()).transaction(ns,"readwrite");await o.objectStore(ns).put(t,Vp(r)),await o.done}catch(i){if(i instanceof ss)fn.warn(i.message);else{const o=zn.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});fn.warn(o.message)}}}function Vp(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=1024,Sw=30*24*60*60*1e3;class Cw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Tw(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=bh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const h=new Date(f.date).valueOf();return Date.now()-h<=Sw}),this._storage.overwrite(this._heartbeatsCache))}catch(o){fn.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=bh(),{heartbeatsToSend:o,unsentEntries:u}=kw(this._heartbeatsCache.heartbeats),c=xo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return fn.warn(i),""}}}function bh(){return new Date().toISOString().substring(0,10)}function kw(r,t=Ew){const i=[];let o=r.slice();for(const u of r){const c=i.find(f=>f.agent===u.agent);if(c){if(c.dates.push(u.date),zh(i)>t){c.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),zh(i)>t){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class Tw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lv()?uv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ww(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Fh(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Fh(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function zh(r){return xo(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r){Do(new ts("platform-logger",t=>new Fv(t),"PRIVATE")),Do(new ts("heartbeat",t=>new Cw(t),"PRIVATE")),Br(Ea,Mh,r),Br(Ea,Mh,"esm2017"),Br("fire-js","")}Iw("");var Nw="firebase",xw="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(Nw,xw,"app");var jh={};const $h="@firebase/database",Uh="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp="";function Rw(r){Gp=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Je(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:es(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return mn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Pw(t)}}catch{}return new Dw},or=Kp("localStorage"),Ow=Kp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new $p("@firebase/database"),Aw=function(){let r=1;return function(){return r++}}(),Qp=function(r){const t=gv(r),i=new mv;i.update(t);const o=i.digest();return Wa.encodeByteArray(o)},os=function(...r){let t="";for(let i=0;i<r.length;i++){const o=r[i];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=os.apply(null,o):typeof o=="object"?t+=Je(o):t+=o,t+=" "}return t};let Qi=null,Hh=!0;const Mw=function(r,t){b(!0,"Can't turn on custom loggers persistently."),Wr.logLevel=we.VERBOSE,Qi=Wr.log.bind(Wr)},st=function(...r){if(Hh===!0&&(Hh=!1,Qi===null&&Ow.get("logging_enabled")===!0&&Mw()),Qi){const t=os.apply(null,r);Qi(t)}},ls=function(r){return function(...t){st(r,...t)}},ka=function(...r){const t="FIREBASE INTERNAL ERROR: "+os(...r);Wr.error(t)},hn=function(...r){const t=`FIREBASE FATAL ERROR: ${os(...r)}`;throw Wr.error(t),new Error(t)},yt=function(...r){const t="FIREBASE WARNING: "+os(...r);Wr.warn(t)},Lw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qp=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},Fw=function(r){if(document.readyState==="complete")r();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Kr="[MIN_NAME]",dr="[MAX_NAME]",Xr=function(r,t){if(r===t)return 0;if(r===Kr||t===dr)return-1;if(t===Kr||r===dr)return 1;{const i=Bh(r),o=Bh(t);return i!==null?o!==null?i-o===0?r.length-t.length:i-o:-1:o!==null?1:r<t?-1:1}},bw=function(r,t){return r===t?0:r<t?-1:1},Ui=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+Je(t))},Ka=function(r){if(typeof r!="object"||r===null)return Je(r);const t=[];for(const o in r)t.push(o);t.sort();let i="{";for(let o=0;o<t.length;o++)o!==0&&(i+=","),i+=Je(t[o]),i+=":",i+=Ka(r[t[o]]);return i+="}",i},Yp=function(r,t){const i=r.length;if(i<=t)return[r];const o=[];for(let u=0;u<i;u+=t)u+t>i?o.push(r.substring(u,i)):o.push(r.substring(u,u+t));return o};function At(r,t){for(const i in r)r.hasOwnProperty(i)&&t(i,r[i])}const Xp=function(r){b(!qp(r),"Invalid JSON number");const t=11,i=52,o=(1<<t-1)-1;let u,c,f,h,p;r===0?(c=0,f=0,u=1/r===-1/0?1:0):(u=r<0,r=Math.abs(r),r>=Math.pow(2,1-o)?(h=Math.min(Math.floor(Math.log(r)/Math.LN2),o),c=h+o,f=Math.round(r*Math.pow(2,i-h)-Math.pow(2,i))):(c=0,f=Math.round(r/Math.pow(2,1-o-i))));const g=[];for(p=i;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);for(p=t;p;p-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(u?1:0),g.reverse();const y=g.join("");let v="";for(p=0;p<64;p+=8){let T=parseInt(y.substr(p,8),2).toString(16);T.length===1&&(T="0"+T),v=v+T}return v.toLowerCase()},zw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},$w=new RegExp("^-?(0*)\\d{1,10}$"),Uw=-2147483648,Hw=2147483647,Bh=function(r){if($w.test(r)){const t=Number(r);if(t>=Uw&&t<=Hw)return t}return null},Jr=function(r){try{r()}catch(t){setTimeout(()=>{const i=t.stack||"";throw yt("Exception was thrown by user callback.",i),t},Math.floor(0))}},Bw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qi=function(r,t){const i=setTimeout(r,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,i){this.appName_=t,this.appCheckProvider=i,this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((i,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,o):i(null)},0)})}addTokenChangeListener(t){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,i,o){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(st("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,o):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(t)}}class No{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}No.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="5",Jp="v",Zp="s",em="r",tm="f",nm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rm="ls",im="p",Ta="ac",sm="websocket",om="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,i,o,u,c=!1,f="",h=!1,p=!1){this.secure=i,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=or.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&or.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function Gw(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function um(r,t,i){b(typeof t=="string","typeof type must == string"),b(typeof i=="object","typeof params must == object");let o;if(t===sm)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(t===om)o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Gw(r)&&(i.ns=r.namespace);const u=[];return At(i,(c,f)=>{u.push(c+"="+f)}),o+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.counters_={}}incrementCounter(t,i=1){mn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return qy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua={},aa={};function qa(r){const t=r.toString();return ua[t]||(ua[t]=new Kw),ua[t]}function Qw(r,t){const i=r.toString();return aa[i]||(aa[i]=t()),aa[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&Jr(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="start",Yw="close",Xw="pLPCommand",Jw="pRTLPCB",am="id",cm="pw",dm="ser",Zw="cb",eE="seg",tE="ts",nE="d",rE="dframe",fm=1870,hm=30,iE=fm-hm,sE=25e3,oE=3e4;class Hr{constructor(t,i,o,u,c,f,h){this.connId=t,this.repoInfo=i,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ls(t),this.stats_=qa(i),this.urlFn=p=>(this.appCheckToken&&(p[Ta]=this.appCheckToken),um(i,om,p))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new qw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(oE)),Fw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ya((...c)=>{const[f,h,p,g,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Wh)this.id=h,this.password=p;else if(f===Yw)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const o={};o[Wh]="t",o[dm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[Zw]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Jp]=Qa,this.transportSessionId&&(o[Zp]=this.transportSessionId),this.lastSessionId&&(o[rm]=this.lastSessionId),this.applicationId&&(o[im]=this.applicationId),this.appCheckToken&&(o[Ta]=this.appCheckToken),typeof location<"u"&&location.hostname&&nm.test(location.hostname)&&(o[em]=tm);const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hr.forceAllow_=!0}static forceDisallow(){Hr.forceDisallow_=!0}static isAvailable(){return Hr.forceAllow_?!0:!Hr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!zw()&&!jw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Je(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Ap(i),u=Yp(o,iE);for(let c=0;c<u.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[c]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const o={};o[rE]="t",o[am]=t,o[cm]=i,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Je(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Ya{constructor(t,i,o,u){this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Aw(),window[Xw+this.uniqueCallbackIdentifier]=t,window[Jw+this.uniqueCallbackIdentifier]=i,this.myIFrame=Ya.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){st("frame writing exception"),h.stack&&st(h.stack),st(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||st("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[am]=this.myID,t[cm]=this.myPW,t[dm]=this.currentSerial;let i=this.urlFn(t),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hm+o.length<=fm;){const f=this.pendingSegs.shift();o=o+"&"+eE+u+"="+f.seg+"&"+tE+u+"="+f.ts+"&"+nE+u+"="+f.d,u++}return i=i+o,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,o){this.pendingSegs.push({seg:t,ts:i,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const o=()=>{this.outstandingRequests.delete(i),this.newRequest_()},u=setTimeout(o,Math.floor(sE)),c=()=>{clearTimeout(u),o()};this.addTag(t,c)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||u==="loaded"||u==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),i())},o.onerror=()=>{st("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=16384,uE=45e3;let Oo=null;typeof MozWebSocket<"u"?Oo=MozWebSocket:typeof WebSocket<"u"&&(Oo=WebSocket);class Yt{constructor(t,i,o,u,c,f,h){this.connId=t,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ls(this.connId),this.stats_=qa(i),this.connURL=Yt.connectionURL_(i,f,h,u,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,o,u,c){const f={};return f[Jp]=Qa,typeof location<"u"&&location.hostname&&nm.test(location.hostname)&&(f[em]=tm),i&&(f[Zp]=i),o&&(f[rm]=o),u&&(f[Ta]=u),c&&(f[im]=c),um(t,sm,f)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,or.set("previous_websocket_failure",!0);try{let o;ov(),this.mySock=new Oo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Yt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(i);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Oo!==null&&!Yt.forceDisallow_}static previouslyFailed(){return or.isInMemoryStorage||or.get("previous_websocket_failure")===!0}markConnectionHealthy(){or.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=es(i);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(b(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const i=Je(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Yp(i,lE);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uE))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yt.responsesRequiredToBeHealthy=2;Yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{static get ALL_TRANSPORTS(){return[Hr,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=Yt.isAvailable();let o=i&&!Yt.previouslyFailed();if(t.webSocketOnly&&(i||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Yt];else{const u=this.transports_=[];for(const c of rs.ALL_TRANSPORTS)c&&c.isAvailable()&&u.push(c);rs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=6e4,cE=5e3,dE=10*1024,fE=100*1024,ca="t",Vh="d",hE="s",Gh="r",pE="e",Kh="o",Qh="a",qh="n",Yh="p",mE="h";class gE{constructor(t,i,o,u,c,f,h,p,g,y){this.id=t,this.repoInfo_=i,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=c,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ls("c:"+this.id+":"),this.transportManager_=new rs(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,o)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=qi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ca in t){const i=t[ca];i===Qh?this.upgradeIfSecondaryHealthy_():i===Gh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Kh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Ui("t",t),o=Ui("d",t);if(i==="c")this.onSecondaryControl_(o);else if(i==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Qh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Ui("t",t),o=Ui("d",t);i==="c"?this.onControl_(o):i==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Ui(ca,t);if(Vh in t){const o=t[Vh];if(i===mE){const u=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(i===qh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===hE?this.onConnectionShutdown_(o):i===Gh?this.onReset_(o):i===pE?ka("Server Error: "+o):i===Kh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ka("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,o=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Qa!==o&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,o),qi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(aE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(or.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{put(t,i,o,u){}merge(t,i,o,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,o){}onDisconnectMerge(t,i,o){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t){this.allowedEvents_=t,this.listeners_={},b(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,i)}}on(t,i,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:o});const u=this.getInitialEvent(t);u&&i.apply(o,u)}off(t,i,o){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let c=0;c<u.length;c++)if(u[c].callback===i&&(!o||o===u[c].context)){u.splice(c,1);return}}validateEventType_(t){b(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends mm{static getInstance(){return new Ao}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return b(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=32,Jh=768;class Ie{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ge(){return new Ie("")}function se(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function $n(r){return r.pieces_.length-r.pieceNum_}function Te(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new Ie(r.pieces_,t)}function gm(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function _E(r){let t="";for(let i=r.pieceNum_;i<r.pieces_.length;i++)r.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(r.pieces_[i])));return t||"/"}function _m(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function ym(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let i=r.pieceNum_;i<r.pieces_.length-1;i++)t.push(r.pieces_[i]);return new Ie(t,0)}function Ue(r,t){const i=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)i.push(r.pieces_[o]);if(t instanceof Ie)for(let o=t.pieceNum_;o<t.pieces_.length;o++)i.push(t.pieces_[o]);else{const o=t.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&i.push(o[u])}return new Ie(i,0)}function oe(r){return r.pieceNum_>=r.pieces_.length}function Ot(r,t){const i=se(r),o=se(t);if(i===null)return t;if(i===o)return Ot(Te(r),Te(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function vm(r,t){if($n(r)!==$n(t))return!1;for(let i=r.pieceNum_,o=t.pieceNum_;i<=r.pieces_.length;i++,o++)if(r.pieces_[i]!==t.pieces_[o])return!1;return!0}function Ht(r,t){let i=r.pieceNum_,o=t.pieceNum_;if($n(r)>$n(t))return!1;for(;i<r.pieces_.length;){if(r.pieces_[i]!==t.pieces_[o])return!1;++i,++o}return!0}class yE{constructor(t,i){this.errorPrefix_=i,this.parts_=_m(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Wo(this.parts_[o]);wm(this)}}function vE(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=Wo(t),wm(r)}function wE(r){const t=r.parts_.pop();r.byteLength_-=Wo(t),r.parts_.length>0&&(r.byteLength_-=1)}function wm(r){if(r.byteLength_>Jh)throw new Error(r.errorPrefix_+"has a key path longer than "+Jh+" bytes ("+r.byteLength_+").");if(r.parts_.length>Xh)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Xh+") or object contains a cycle "+rr(r))}function rr(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends mm{static getInstance(){return new Xa}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return b(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=1e3,EE=60*5*1e3,Zh=30*1e3,SE=1.3,CE=3e4,kE="server_kill",ep=3;class cn extends pm{constructor(t,i,o,u,c,f,h,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=cn.nextPersistentConnectionId_++,this.log_=ls("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hi,this.maxReconnectDelay_=EE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xa.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ao.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,o){const u=++this.requestNumber_,c={r:u,a:t,b:i};this.log_(Je(c)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[u]=o)}get(t){this.initConnection_();const i=new Bo,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(t,i,o,u){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),b(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const h={onComplete:u,hashFn:i,query:t,tag:o};this.listens.get(f).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(t){const i=t.query,o=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+o+" for "+u);const c={p:o},f="q";t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,h=>{const p=h.d,g=h.s;cn.warnOnListenWarnings_(p,i),(this.listens.get(o)&&this.listens.get(o).get(u))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(o,u),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&mn(t,"w")){const o=Gr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||hv(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Zh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=fv(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,u=>{const c=u.s,f=u.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,o=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(t,i){const o=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),b(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,t._queryObject,i)}sendUnlisten_(t,i,o,u){this.log_("Unlisten on "+t+" for "+i);const c={p:t},f="n";u&&(c.q=o,c.t=u),this.sendRequest(f,c)}onDisconnectPut(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:o})}onDisconnectMerge(t,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:o})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,o,u){const c={p:i,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{u&&setTimeout(()=>{u(f.s,f.d)},Math.floor(0))})}put(t,i,o,u){this.putInternal("p",t,i,o,u)}merge(t,i,o,u){this.putInternal("m",t,i,o,u)}putInternal(t,i,o,u,c){this.initConnection_();const f={p:i,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:u}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,o,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Je(t));const i=t.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):ka("Unrecognized action received from server: "+Je(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CE&&(this.reconnectDelay_=Hi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+cn.nextConnectionId_++,c=this.lastSessionId;let f=!1,h=null;const p=function(){h?h.close():(f=!0,o())},g=function(v){b(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:p,sendRequest:g};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,T]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);f?st("getToken() completed but was canceled"):(st("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=T&&T.token,h=new gE(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,o,x=>{yt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(kE)},c))}catch(v){this.log_("Failed to get token: "+v),f||(this.repoInfo_.nodeAdmin&&yt(v),p())}}}interrupt(t){st("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){st("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Rh(this.interruptReasons_)&&(this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let o;i?o=i.map(c=>Ka(c)).join("$"):o="default";const u=this.removeListen_(t,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,i){const o=new Ie(t).toString();let u;if(this.listens.has(o)){const c=this.listens.get(o);u=c.get(i),c.delete(i),c.size===0&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(t,i){st("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ep&&(this.reconnectDelay_=Zh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){st("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ep&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Gp.replace(/\./g,"-")]=1,bp()?t["framework.cordova"]=1:sv()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ao.getInstance().currentlyOnline();return Rh(this.interruptReasons_)&&t}}cn.nextPersistentConnectionId_=0;cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ae(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const o=new ae(Kr,t),u=new ae(Kr,i);return this.compare(o,u)!==0}minPost(){return ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko;class Em extends Vo{static get __EMPTY_NODE(){return ko}static set __EMPTY_NODE(t){ko=t}compare(t,i){return Xr(t.name,i.name)}isDefinedOn(t){throw qr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ae.MIN}maxPost(){return new ae(dr,ko)}makePost(t,i){return b(typeof t=="string","KeyIndex indexValue must always be a string."),new ae(t,ko)}toString(){return".key"}}const Vr=new Em;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,i,o,u,c=null){this.isReverse_=u,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=i?o(t.key,i):1,u&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ke{constructor(t,i,o,u,c){this.key=t,this.value=i,this.color=o??Ke.RED,this.left=u??_t.EMPTY_NODE,this.right=c??_t.EMPTY_NODE}copy(t,i,o,u,c){return new Ke(t??this.key,i??this.value,o??this.color,u??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,o){let u=this;const c=o(t,u.key);return c<0?u=u.copy(null,null,null,u.left.insert(t,i,o),null):c===0?u=u.copy(null,i,null,null,null):u=u.copy(null,null,null,null,u.right.insert(t,i,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return _t.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let o,u;if(o=this,i(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),i(t,o.key)===0){if(o.right.isEmpty())return _t.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ke.RED=!0;Ke.BLACK=!1;class TE{copy(t,i,o,u,c){return this}insert(t,i,o){return new Ke(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _t{constructor(t,i=_t.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new _t(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Ke.BLACK,null,null))}remove(t){return new _t(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ke.BLACK,null,null))}get(t){let i,o=this.root_;for(;!o.isEmpty();){if(i=this.comparator_(t,o.key),i===0)return o.value;i<0?o=o.left:i>0&&(o=o.right)}return null}getPredecessorKey(t){let i,o=this.root_,u=null;for(;!o.isEmpty();)if(i=this.comparator_(t,o.key),i===0){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else i<0?o=o.left:i>0&&(u=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new To(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new To(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new To(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new To(this.root_,null,this.comparator_,!0,t)}}_t.EMPTY_NODE=new TE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(r,t){return Xr(r.name,t.name)}function Ja(r,t){return Xr(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia;function NE(r){Ia=r}const Sm=function(r){return typeof r=="number"?"number:"+Xp(r):"string:"+r},Cm=function(r){if(r.isLeafNode()){const t=r.val();b(typeof t=="string"||typeof t=="number"||typeof t=="object"&&mn(t,".sv"),"Priority must be a string or number.")}else b(r===Ia||r.isEmpty(),"priority of unexpected type.");b(r===Ia||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp;class Ge{static set __childrenNodeConstructor(t){tp=t}static get __childrenNodeConstructor(){return tp}constructor(t,i=Ge.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Cm(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ge(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return oe(t)?this:se(t)===".priority"?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:Ge.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const o=se(t);return o===null?i:i.isEmpty()&&o!==".priority"?this:(b(o!==".priority"||$n(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Ge.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Sm(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Xp(this.value_):t+=this.value_,this.lazyHash_=Qp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ge.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ge.__childrenNodeConstructor?-1:(b(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,o=typeof this.value_,u=Ge.VALUE_TYPE_ORDER.indexOf(i),c=Ge.VALUE_TYPE_ORDER.indexOf(o);return b(u>=0,"Unknown leaf type: "+i),b(c>=0,"Unknown leaf type: "+o),u===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Ge.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km,Tm;function xE(r){km=r}function RE(r){Tm=r}class PE extends Vo{compare(t,i){const o=t.node.getPriority(),u=i.node.getPriority(),c=o.compareTo(u);return c===0?Xr(t.name,i.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(dr,new Ge("[PRIORITY-POST]",Tm))}makePost(t,i){const o=km(t);return new ae(i,new Ge("[PRIORITY-POST]",o))}toString(){return".priority"}}const ot=new PE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=Math.log(2);class OE{constructor(t){const i=c=>parseInt(Math.log(c)/DE,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const u=o(this.count);this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Mo=function(r,t,i,o){r.sort(t);const u=function(p,g){const y=g-p;let v,T;if(y===0)return null;if(y===1)return v=r[p],T=i?i(v):v,new Ke(T,v.node,Ke.BLACK,null,null);{const x=parseInt(y/2,10)+p,P=u(p,x),z=u(x+1,g);return v=r[x],T=i?i(v):v,new Ke(T,v.node,Ke.BLACK,P,z)}},c=function(p){let g=null,y=null,v=r.length;const T=function(P,z){const F=v-P,Y=v;v-=P;const J=u(F+1,Y),ee=r[F],te=i?i(ee):ee;x(new Ke(te,ee.node,z,null,J))},x=function(P){g?(g.left=P,g=P):(y=P,g=P)};for(let P=0;P<p.count;++P){const z=p.nextBitIsOne(),F=Math.pow(2,p.count-(P+1));z?T(F,Ke.BLACK):(T(F,Ke.BLACK),T(F,Ke.RED))}return y},f=new OE(r.length),h=c(f);return new _t(o||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da;const Bi={};class an{static get Default(){return b(ot,"ChildrenNode.ts has not been loaded"),da=da||new an({".priority":Bi},{".priority":ot}),da}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=Gr(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof _t?i:null}hasIndex(t){return mn(this.indexSet_,t.toString())}addIndex(t,i){b(t!==Vr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const c=i.getIterator(ae.Wrap);let f=c.getNext();for(;f;)u=u||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let h;u?h=Mo(o,t.getCompare()):h=Bi;const p=t.toString(),g=Object.assign({},this.indexSet_);g[p]=t;const y=Object.assign({},this.indexes_);return y[p]=h,new an(y,g)}addToIndexes(t,i){const o=Ro(this.indexes_,(u,c)=>{const f=Gr(this.indexSet_,c);if(b(f,"Missing index implementation for "+c),u===Bi)if(f.isDefinedOn(t.node)){const h=[],p=i.getIterator(ae.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&h.push(g),g=p.getNext();return h.push(t),Mo(h,f.getCompare())}else return Bi;else{const h=i.get(t.name);let p=u;return h&&(p=p.remove(new ae(t.name,h))),p.insert(t,t.node)}});return new an(o,this.indexSet_)}removeFromIndexes(t,i){const o=Ro(this.indexes_,u=>{if(u===Bi)return u;{const c=i.get(t.name);return c?u.remove(new ae(t.name,c)):u}});return new an(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wi;class pe{static get EMPTY_NODE(){return Wi||(Wi=new pe(new _t(Ja),null,an.Default))}constructor(t,i,o){this.children_=t,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Cm(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wi}updatePriority(t){return this.children_.isEmpty()?this:new pe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Wi:i}}getChild(t){const i=se(t);return i===null?this:this.getImmediateChild(i).getChild(Te(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(b(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const o=new ae(t,i);let u,c;i.isEmpty()?(u=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(o,this.children_));const f=u.isEmpty()?Wi:this.priorityNode_;return new pe(u,f,c)}}updateChild(t,i){const o=se(t);if(o===null)return i;{b(se(t)!==".priority"||$n(t)===1,".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(Te(t),i);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let o=0,u=0,c=!0;if(this.forEachChild(ot,(f,h)=>{i[f]=h.val(t),o++,c&&pe.INTEGER_REGEXP_.test(f)?u=Math.max(u,Number(f)):c=!1}),!t&&c&&u<2*o){const f=[];for(const h in i)f[h]=i[h];return f}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Sm(this.getPriority().val())+":"),this.forEachChild(ot,(i,o)=>{const u=o.hash();u!==""&&(t+=":"+i+":"+u)}),this.lazyHash_=t===""?"":Qp(t)}return this.lazyHash_}getPredecessorChildName(t,i,o){const u=this.resolveIndex_(o);if(u){const c=u.getPredecessorKey(new ae(t,i));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ae(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const o=i.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ae(i,this.children_.get(i)):null}forEachChild(t,i){const o=this.resolveIndex_(t);return o?o.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,ae.Wrap);let c=u.peek();for(;c!=null&&i.compare(c,t)<0;)u.getNext(),c=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,ae.Wrap);let c=u.peek();for(;c!=null&&i.compare(c,t)>0;)u.getNext(),c=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===us?-1:0}withIndex(t){if(t===Vr||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new pe(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Vr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const o=this.getIterator(ot),u=i.getIterator(ot);let c=o.getNext(),f=u.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=u.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Vr?null:this.indexMap_.get(t.toString())}}pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AE extends pe{constructor(){super(new _t(Ja),pe.EMPTY_NODE,an.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return pe.EMPTY_NODE}isEmpty(){return!1}}const us=new AE;Object.defineProperties(ae,{MIN:{value:new ae(Kr,pe.EMPTY_NODE)},MAX:{value:new ae(dr,us)}});Em.__EMPTY_NODE=pe.EMPTY_NODE;Ge.__childrenNodeConstructor=pe;NE(us);RE(us);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=!0;function Xe(r,t=null){if(r===null)return pe.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(t=r[".priority"]),b(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const i=r;return new Ge(i,Xe(t))}if(!(r instanceof Array)&&ME){const i=[];let o=!1;if(At(r,(f,h)=>{if(f.substring(0,1)!=="."){const p=Xe(h);p.isEmpty()||(o=o||!p.getPriority().isEmpty(),i.push(new ae(f,p)))}}),i.length===0)return pe.EMPTY_NODE;const c=Mo(i,IE,f=>f.name,Ja);if(o){const f=Mo(i,ot.getCompare());return new pe(c,Xe(t),new an({".priority":f},{".priority":ot}))}else return new pe(c,Xe(t),an.Default)}else{let i=pe.EMPTY_NODE;return At(r,(o,u)=>{if(mn(r,o)&&o.substring(0,1)!=="."){const c=Xe(u);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(o,c))}}),i.updatePriority(Xe(t))}}xE(Xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends Vo{constructor(t){super(),this.indexPath_=t,b(!oe(t)&&se(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const o=this.extractChild(t.node),u=this.extractChild(i.node),c=o.compareTo(u);return c===0?Xr(t.name,i.name):c}makePost(t,i){const o=Xe(t),u=pe.EMPTY_NODE.updateChild(this.indexPath_,o);return new ae(i,u)}maxPost(){const t=pe.EMPTY_NODE.updateChild(this.indexPath_,us);return new ae(dr,t)}toString(){return _m(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends Vo{compare(t,i){const o=t.node.compareTo(i.node);return o===0?Xr(t.name,i.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(t,i){const o=Xe(t);return new ae(i,o)}toString(){return".value"}}const bE=new FE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r){return{type:"value",snapshotNode:r}}function jE(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function $E(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function np(r,t,i){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:i}}function UE(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ot}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kr}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ot}copy(){const t=new Za;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function rp(r){const t={};if(r.isDefault())return t;let i;if(r.index_===ot?i="$priority":r.index_===bE?i="$value":r.index_===Vr?i="$key":(b(r.index_ instanceof LE,"Unrecognized index type!"),i=r.index_.toString()),t.orderBy=Je(i),r.startSet_){const o=r.startAfterSet_?"startAfter":"startAt";t[o]=Je(r.indexStartValue_),r.startNameSet_&&(t[o]+=","+Je(r.indexStartName_))}if(r.endSet_){const o=r.endBeforeSet_?"endBefore":"endAt";t[o]=Je(r.indexEndValue_),r.endNameSet_&&(t[o]+=","+Je(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function ip(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_),t.sin=!r.startAfterSet_),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_),t.ein=!r.endBeforeSet_),r.limitSet_){t.l=r.limit_;let i=r.viewFrom_;i===""&&(r.isViewFromLeft()?i="l":i="r"),t.vf=i}return r.index_!==ot&&(t.i=r.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends pm{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(b(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,o,u){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=ls("p:rest:"),this.listens_={}}listen(t,i,o,u){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=Lo.getListenId_(t,o),h={};this.listens_[f]=h;const p=rp(t._queryParams);this.restRequest_(c+".json",p,(g,y)=>{let v=y;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(c,v,!1,o),Gr(this.listens_,f)===h){let T;g?g===401?T="permission_denied":T="rest_error:"+g:T="ok",u(T,null)}})}unlisten(t,i){const o=Lo.getListenId_(t,i);delete this.listens_[o]}get(t){const i=rp(t._queryParams),o=t._path.toString(),u=new Bo;return this.restRequest_(o+".json",i,(c,f)=>{let h=f;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(o,h,!1,null),u.resolve(h)):u.reject(new Error(h))}),u.promise}refreshAuthToken(t){}restRequest_(t,i={},o){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,c])=>{u&&u.accessToken&&(i.auth=u.accessToken),c&&c.token&&(i.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+pv(i);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(o&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=es(h.responseText)}catch{yt("Failed to parse JSON response for "+f+": "+h.responseText)}o(null,p)}else h.status!==401&&h.status!==404&&yt("Got unsuccessful REST response for "+f+" Status: "+h.status),o(h.status);o=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.rootNode_=pe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(){return{value:null,children:new Map}}function Im(r,t,i){if(oe(t))r.value=i,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(t,i);else{const o=se(t);r.children.has(o)||r.children.set(o,Fo());const u=r.children.get(o);t=Te(t),Im(u,t,i)}}function Na(r,t,i){r.value!==null?i(t,r.value):BE(r,(o,u)=>{const c=new Ie(t.toString()+"/"+o);Na(u,c,i)})}function BE(r,t){r.children.forEach((i,o)=>{t(o,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i=Object.assign({},t);return this.last_&&At(this.last_,(o,u)=>{i[o]=i[o]-u}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=10*1e3,VE=30*1e3,GE=5*60*1e3;class KE{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new WE(t);const o=sp+(VE-sp)*Math.random();qi(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),i={};let o=!1;At(t,(u,c)=>{c>0&&mn(this.statsToReport_,u)&&(i[u]=c,o=!0)}),o&&this.server_.reportStats(i),qi(this.reportStats_.bind(this),Math.floor(Math.random()*2*GE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Xt||(Xt={}));function Nm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rm(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,i,o){this.path=t,this.affectedTree=i,this.revert=o,this.type=Xt.ACK_USER_WRITE,this.source=Nm()}operationForChild(t){if(oe(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ie(t));return new bo(ge(),i,this.revert)}}else return b(se(this.path)===t,"operationForChild called for unrelated child."),new bo(Te(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,i,o){this.source=t,this.path=i,this.snap=o,this.type=Xt.OVERWRITE}operationForChild(t){return oe(this.path)?new fr(this.source,ge(),this.snap.getImmediateChild(t)):new fr(this.source,Te(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,i,o){this.source=t,this.path=i,this.children=o,this.type=Xt.MERGE}operationForChild(t){if(oe(this.path)){const i=this.children.subtree(new Ie(t));return i.isEmpty()?null:i.value?new fr(this.source,ge(),i.value):new is(this.source,ge(),i)}else return b(se(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new is(this.source,Te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,i,o){this.node_=t,this.fullyInitialized_=i,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(oe(t))return this.isFullyInitialized()&&!this.filtered_;const i=se(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function QE(r,t,i,o){const u=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&r.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(UE(f.childName,f.snapshotNode))}),Vi(r,u,"child_removed",t,o,i),Vi(r,u,"child_added",t,o,i),Vi(r,u,"child_moved",c,o,i),Vi(r,u,"child_changed",t,o,i),Vi(r,u,"value",t,o,i),u}function Vi(r,t,i,o,u,c){const f=o.filter(h=>h.type===i);f.sort((h,p)=>YE(r,h,p)),f.forEach(h=>{const p=qE(r,h,c);u.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(p,r.query_))})})}function qE(r,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}function YE(r,t,i){if(t.childName==null||i.childName==null)throw qr("Should only compare child_ events.");const o=new ae(t.childName,t.snapshotNode),u=new ae(i.childName,i.snapshotNode);return r.index_.compare(o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(r,t){return{eventCache:r,serverCache:t}}function Yi(r,t,i,o){return Pm(new ec(t,i,o),r.serverCache)}function Dm(r,t,i,o){return Pm(r.eventCache,new ec(t,i,o))}function xa(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function hr(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa;const XE=()=>(fa||(fa=new _t(bw)),fa);class ke{static fromObject(t){let i=new ke(null);return At(t,(o,u)=>{i=i.set(new Ie(o),u)}),i}constructor(t,i=XE()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ge(),value:this.value};if(oe(t))return null;{const o=se(t),u=this.children.get(o);if(u!==null){const c=u.findRootMostMatchingPathAndValue(Te(t),i);return c!=null?{path:Ue(new Ie(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(oe(t))return this;{const i=se(t),o=this.children.get(i);return o!==null?o.subtree(Te(t)):new ke(null)}}set(t,i){if(oe(t))return new ke(i,this.children);{const o=se(t),c=(this.children.get(o)||new ke(null)).set(Te(t),i),f=this.children.insert(o,c);return new ke(this.value,f)}}remove(t){if(oe(t))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const i=se(t),o=this.children.get(i);if(o){const u=o.remove(Te(t));let c;return u.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,u),this.value===null&&c.isEmpty()?new ke(null):new ke(this.value,c)}else return this}}get(t){if(oe(t))return this.value;{const i=se(t),o=this.children.get(i);return o?o.get(Te(t)):null}}setTree(t,i){if(oe(t))return i;{const o=se(t),c=(this.children.get(o)||new ke(null)).setTree(Te(t),i);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new ke(this.value,f)}}fold(t){return this.fold_(ge(),t)}fold_(t,i){const o={};return this.children.inorderTraversal((u,c)=>{o[u]=c.fold_(Ue(t,u),i)}),i(t,this.value,o)}findOnPath(t,i){return this.findOnPath_(t,ge(),i)}findOnPath_(t,i,o){const u=this.value?o(i,this.value):!1;if(u)return u;if(oe(t))return null;{const c=se(t),f=this.children.get(c);return f?f.findOnPath_(Te(t),Ue(i,c),o):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ge(),i)}foreachOnPath_(t,i,o){if(oe(t))return this;{this.value&&o(i,this.value);const u=se(t),c=this.children.get(u);return c?c.foreachOnPath_(Te(t),Ue(i,u),o):new ke(null)}}foreach(t){this.foreach_(ge(),t)}foreach_(t,i){this.children.inorderTraversal((o,u)=>{u.foreach_(Ue(t,o),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,o)=>{o.value&&t(i,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.writeTree_=t}static empty(){return new Wt(new ke(null))}}function Xi(r,t,i){if(oe(t))return new Wt(new ke(i));{const o=r.writeTree_.findRootMostValueAndPath(t);if(o!=null){const u=o.path;let c=o.value;const f=Ot(u,t);return c=c.updateChild(f,i),new Wt(r.writeTree_.set(u,c))}else{const u=new ke(i),c=r.writeTree_.setTree(t,u);return new Wt(c)}}}function op(r,t,i){let o=r;return At(i,(u,c)=>{o=Xi(o,Ue(t,u),c)}),o}function lp(r,t){if(oe(t))return Wt.empty();{const i=r.writeTree_.setTree(t,new ke(null));return new Wt(i)}}function Ra(r,t){return pr(r,t)!=null}function pr(r,t){const i=r.writeTree_.findRootMostValueAndPath(t);return i!=null?r.writeTree_.get(i.path).getChild(Ot(i.path,t)):null}function up(r){const t=[],i=r.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ot,(o,u)=>{t.push(new ae(o,u))}):r.writeTree_.children.inorderTraversal((o,u)=>{u.value!=null&&t.push(new ae(o,u.value))}),t}function jn(r,t){if(oe(t))return r;{const i=pr(r,t);return i!=null?new Wt(new ke(i)):new Wt(r.writeTree_.subtree(t))}}function Pa(r){return r.writeTree_.isEmpty()}function Qr(r,t){return Om(ge(),r.writeTree_,t)}function Om(r,t,i){if(t.value!=null)return i.updateChild(r,t.value);{let o=null;return t.children.inorderTraversal((u,c)=>{u===".priority"?(b(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):i=Om(Ue(r,u),c,i)}),!i.getChild(r).isEmpty()&&o!==null&&(i=i.updateChild(Ue(r,".priority"),o)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(r,t){return zm(t,r)}function JE(r,t,i,o,u){b(o>r.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),r.allWrites.push({path:t,snap:i,writeId:o,visible:u}),u&&(r.visibleWrites=Xi(r.visibleWrites,t,i)),r.lastWriteId=o}function ZE(r,t){for(let i=0;i<r.allWrites.length;i++){const o=r.allWrites[i];if(o.writeId===t)return o}return null}function eS(r,t){const i=r.allWrites.findIndex(h=>h.writeId===t);b(i>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[i];r.allWrites.splice(i,1);let u=o.visible,c=!1,f=r.allWrites.length-1;for(;u&&f>=0;){const h=r.allWrites[f];h.visible&&(f>=i&&tS(h,o.path)?u=!1:Ht(o.path,h.path)&&(c=!0)),f--}if(u){if(c)return nS(r),!0;if(o.snap)r.visibleWrites=lp(r.visibleWrites,o.path);else{const h=o.children;At(h,p=>{r.visibleWrites=lp(r.visibleWrites,Ue(o.path,p))})}return!0}else return!1}function tS(r,t){if(r.snap)return Ht(r.path,t);for(const i in r.children)if(r.children.hasOwnProperty(i)&&Ht(Ue(r.path,i),t))return!0;return!1}function nS(r){r.visibleWrites=Mm(r.allWrites,rS,ge()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function rS(r){return r.visible}function Mm(r,t,i){let o=Wt.empty();for(let u=0;u<r.length;++u){const c=r[u];if(t(c)){const f=c.path;let h;if(c.snap)Ht(i,f)?(h=Ot(i,f),o=Xi(o,h,c.snap)):Ht(f,i)&&(h=Ot(f,i),o=Xi(o,ge(),c.snap.getChild(h)));else if(c.children){if(Ht(i,f))h=Ot(i,f),o=op(o,h,c.children);else if(Ht(f,i))if(h=Ot(f,i),oe(h))o=op(o,ge(),c.children);else{const p=Gr(c.children,se(h));if(p){const g=p.getChild(Te(h));o=Xi(o,ge(),g)}}}else throw qr("WriteRecord should have .snap or .children")}}return o}function Lm(r,t,i,o,u){if(!o&&!u){const c=pr(r.visibleWrites,t);if(c!=null)return c;{const f=jn(r.visibleWrites,t);if(Pa(f))return i;if(i==null&&!Ra(f,ge()))return null;{const h=i||pe.EMPTY_NODE;return Qr(f,h)}}}else{const c=jn(r.visibleWrites,t);if(!u&&Pa(c))return i;if(!u&&i==null&&!Ra(c,ge()))return null;{const f=function(g){return(g.visible||u)&&(!o||!~o.indexOf(g.writeId))&&(Ht(g.path,t)||Ht(t,g.path))},h=Mm(r.allWrites,f,t),p=i||pe.EMPTY_NODE;return Qr(h,p)}}}function iS(r,t,i){let o=pe.EMPTY_NODE;const u=pr(r.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(ot,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(i){const c=jn(r.visibleWrites,t);return i.forEachChild(ot,(f,h)=>{const p=Qr(jn(c,new Ie(f)),h);o=o.updateImmediateChild(f,p)}),up(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=jn(r.visibleWrites,t);return up(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function sS(r,t,i,o,u){b(o||u,"Either existingEventSnap or existingServerSnap must exist");const c=Ue(t,i);if(Ra(r.visibleWrites,c))return null;{const f=jn(r.visibleWrites,c);return Pa(f)?u.getChild(i):Qr(f,u.getChild(i))}}function oS(r,t,i,o){const u=Ue(t,i),c=pr(r.visibleWrites,u);if(c!=null)return c;if(o.isCompleteForChild(i)){const f=jn(r.visibleWrites,u);return Qr(f,o.getNode().getImmediateChild(i))}else return null}function lS(r,t){return pr(r.visibleWrites,t)}function uS(r,t,i,o,u,c,f){let h;const p=jn(r.visibleWrites,t),g=pr(p,ge());if(g!=null)h=g;else if(i!=null)h=Qr(p,i);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const y=[],v=f.getCompare(),T=c?h.getReverseIteratorFrom(o,f):h.getIteratorFrom(o,f);let x=T.getNext();for(;x&&y.length<u;)v(x,o)!==0&&y.push(x),x=T.getNext();return y}else return[]}function aS(){return{visibleWrites:Wt.empty(),allWrites:[],lastWriteId:-1}}function Da(r,t,i,o){return Lm(r.writeTree,r.treePath,t,i,o)}function Fm(r,t){return iS(r.writeTree,r.treePath,t)}function ap(r,t,i,o){return sS(r.writeTree,r.treePath,t,i,o)}function zo(r,t){return lS(r.writeTree,Ue(r.treePath,t))}function cS(r,t,i,o,u,c){return uS(r.writeTree,r.treePath,t,i,o,u,c)}function tc(r,t,i){return oS(r.writeTree,r.treePath,t,i)}function bm(r,t){return zm(Ue(r.treePath,t),r.writeTree)}function zm(r,t){return{treePath:r,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,o=t.childName;b(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),b(o!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const c=u.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(o,np(o,t.snapshotNode,u.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(o,$E(o,u.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(o,jE(o,t.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(o,np(o,t.snapshotNode,u.oldSnap));else throw qr("Illegal combination of changes: "+t+" occurred after "+u)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{getCompleteChild(t){return null}getChildAfterChild(t,i,o){return null}}const jm=new fS;class nc{constructor(t,i,o=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=o}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new ec(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tc(this.writes_,t,o)}}getChildAfterChild(t,i,o){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hr(this.viewCache_),c=cS(this.writes_,u,i,1,o,t);return c.length===0?null:c[0]}}function hS(r,t){b(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),b(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function pS(r,t,i,o,u){const c=new dS;let f,h;if(i.type===Xt.OVERWRITE){const g=i;g.source.fromUser?f=Oa(r,t,g.path,g.snap,o,u,c):(b(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!oe(g.path),f=jo(r,t,g.path,g.snap,o,u,h,c))}else if(i.type===Xt.MERGE){const g=i;g.source.fromUser?f=gS(r,t,g.path,g.children,o,u,c):(b(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),f=Aa(r,t,g.path,g.children,o,u,h,c))}else if(i.type===Xt.ACK_USER_WRITE){const g=i;g.revert?f=vS(r,t,g.path,o,u,c):f=_S(r,t,g.path,g.affectedTree,o,u,c)}else if(i.type===Xt.LISTEN_COMPLETE)f=yS(r,t,i.path,o,c);else throw qr("Unknown operation type: "+i.type);const p=c.getChanges();return mS(t,f,p),{viewCache:f,changes:p}}function mS(r,t,i){const o=t.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=xa(r);(i.length>0||!r.eventCache.isFullyInitialized()||u&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&i.push(zE(xa(t)))}}function $m(r,t,i,o,u,c){const f=t.eventCache;if(zo(o,i)!=null)return t;{let h,p;if(oe(i))if(b(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=hr(t),y=g instanceof pe?g:pe.EMPTY_NODE,v=Fm(o,y);h=r.filter.updateFullNode(t.eventCache.getNode(),v,c)}else{const g=Da(o,hr(t));h=r.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=se(i);if(g===".priority"){b($n(i)===1,"Can't have a priority with additional path components");const y=f.getNode();p=t.serverCache.getNode();const v=ap(o,i,y,p);v!=null?h=r.filter.updatePriority(y,v):h=f.getNode()}else{const y=Te(i);let v;if(f.isCompleteForChild(g)){p=t.serverCache.getNode();const T=ap(o,i,f.getNode(),p);T!=null?v=f.getNode().getImmediateChild(g).updateChild(y,T):v=f.getNode().getImmediateChild(g)}else v=tc(o,g,t.serverCache);v!=null?h=r.filter.updateChild(f.getNode(),g,v,y,u,c):h=f.getNode()}}return Yi(t,h,f.isFullyInitialized()||oe(i),r.filter.filtersNodes())}}function jo(r,t,i,o,u,c,f,h){const p=t.serverCache;let g;const y=f?r.filter:r.filter.getIndexedFilter();if(oe(i))g=y.updateFullNode(p.getNode(),o,null);else if(y.filtersNodes()&&!p.isFiltered()){const x=p.getNode().updateChild(i,o);g=y.updateFullNode(p.getNode(),x,null)}else{const x=se(i);if(!p.isCompleteForPath(i)&&$n(i)>1)return t;const P=Te(i),F=p.getNode().getImmediateChild(x).updateChild(P,o);x===".priority"?g=y.updatePriority(p.getNode(),F):g=y.updateChild(p.getNode(),x,F,P,jm,null)}const v=Dm(t,g,p.isFullyInitialized()||oe(i),y.filtersNodes()),T=new nc(u,v,c);return $m(r,v,i,u,T,h)}function Oa(r,t,i,o,u,c,f){const h=t.eventCache;let p,g;const y=new nc(u,t,c);if(oe(i))g=r.filter.updateFullNode(t.eventCache.getNode(),o,f),p=Yi(t,g,!0,r.filter.filtersNodes());else{const v=se(i);if(v===".priority")g=r.filter.updatePriority(t.eventCache.getNode(),o),p=Yi(t,g,h.isFullyInitialized(),h.isFiltered());else{const T=Te(i),x=h.getNode().getImmediateChild(v);let P;if(oe(T))P=o;else{const z=y.getCompleteChild(v);z!=null?gm(T)===".priority"&&z.getChild(ym(T)).isEmpty()?P=z:P=z.updateChild(T,o):P=pe.EMPTY_NODE}if(x.equals(P))p=t;else{const z=r.filter.updateChild(h.getNode(),v,P,T,y,f);p=Yi(t,z,h.isFullyInitialized(),r.filter.filtersNodes())}}}return p}function cp(r,t){return r.eventCache.isCompleteForChild(t)}function gS(r,t,i,o,u,c,f){let h=t;return o.foreach((p,g)=>{const y=Ue(i,p);cp(t,se(y))&&(h=Oa(r,h,y,g,u,c,f))}),o.foreach((p,g)=>{const y=Ue(i,p);cp(t,se(y))||(h=Oa(r,h,y,g,u,c,f))}),h}function dp(r,t,i){return i.foreach((o,u)=>{t=t.updateChild(o,u)}),t}function Aa(r,t,i,o,u,c,f,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;oe(i)?g=o:g=new ke(null).setTree(i,o);const y=t.serverCache.getNode();return g.children.inorderTraversal((v,T)=>{if(y.hasChild(v)){const x=t.serverCache.getNode().getImmediateChild(v),P=dp(r,x,T);p=jo(r,p,new Ie(v),P,u,c,f,h)}}),g.children.inorderTraversal((v,T)=>{const x=!t.serverCache.isCompleteForChild(v)&&T.value===null;if(!y.hasChild(v)&&!x){const P=t.serverCache.getNode().getImmediateChild(v),z=dp(r,P,T);p=jo(r,p,new Ie(v),z,u,c,f,h)}}),p}function _S(r,t,i,o,u,c,f){if(zo(u,i)!=null)return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(o.value!=null){if(oe(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return jo(r,t,i,p.getNode().getChild(i),u,c,h,f);if(oe(i)){let g=new ke(null);return p.getNode().forEachChild(Vr,(y,v)=>{g=g.set(new Ie(y),v)}),Aa(r,t,i,g,u,c,h,f)}else return t}else{let g=new ke(null);return o.foreach((y,v)=>{const T=Ue(i,y);p.isCompleteForPath(T)&&(g=g.set(y,p.getNode().getChild(T)))}),Aa(r,t,i,g,u,c,h,f)}}function yS(r,t,i,o,u){const c=t.serverCache,f=Dm(t,c.getNode(),c.isFullyInitialized()||oe(i),c.isFiltered());return $m(r,f,i,o,jm,u)}function vS(r,t,i,o,u,c){let f;if(zo(o,i)!=null)return t;{const h=new nc(o,t,u),p=t.eventCache.getNode();let g;if(oe(i)||se(i)===".priority"){let y;if(t.serverCache.isFullyInitialized())y=Da(o,hr(t));else{const v=t.serverCache.getNode();b(v instanceof pe,"serverChildren would be complete if leaf node"),y=Fm(o,v)}y=y,g=r.filter.updateFullNode(p,y,c)}else{const y=se(i);let v=tc(o,y,t.serverCache);v==null&&t.serverCache.isCompleteForChild(y)&&(v=p.getImmediateChild(y)),v!=null?g=r.filter.updateChild(p,y,v,Te(i),h,c):t.eventCache.getNode().hasChild(y)?g=r.filter.updateChild(p,y,pe.EMPTY_NODE,Te(i),h,c):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Da(o,hr(t)),f.isLeafNode()&&(g=r.filter.updateFullNode(g,f,c)))}return f=t.serverCache.isFullyInitialized()||zo(o,ge())!=null,Yi(t,g,f,r.filter.filtersNodes())}}function wS(r,t){const i=hr(r.viewCache_);return i&&(r.query._queryParams.loadsAllData()||!oe(t)&&!i.getImmediateChild(se(t)).isEmpty())?i.getChild(t):null}function fp(r,t,i,o){t.type===Xt.MERGE&&t.source.queryId!==null&&(b(hr(r.viewCache_),"We should always have a full cache before handling merges"),b(xa(r.viewCache_),"Missing event cache, even though we have a server cache"));const u=r.viewCache_,c=pS(r.processor_,u,t,i,o);return hS(r.processor_,c.viewCache),b(c.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=c.viewCache,ES(r,c.changes,c.viewCache.eventCache.getNode())}function ES(r,t,i,o){const u=r.eventRegistrations_;return QE(r.eventGenerator_,t,i,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp;function SS(r){b(!hp,"__referenceConstructor has already been defined"),hp=r}function rc(r,t,i,o){const u=t.source.queryId;if(u!==null){const c=r.views.get(u);return b(c!=null,"SyncTree gave us an op for an invalid query."),fp(c,t,i,o)}else{let c=[];for(const f of r.views.values())c=c.concat(fp(f,t,i,o));return c}}function ic(r,t){let i=null;for(const o of r.views.values())i=i||wS(o,t);return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp;function CS(r){b(!pp,"__referenceConstructor has already been defined"),pp=r}class mp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ke(null),this.pendingWriteTree_=aS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Um(r,t,i,o,u){return JE(r.pendingWriteTree_,t,i,o,u),u?Ko(r,new fr(Nm(),t,i)):[]}function lr(r,t,i=!1){const o=ZE(r.pendingWriteTree_,t);if(eS(r.pendingWriteTree_,t)){let c=new ke(null);return o.snap!=null?c=c.set(ge(),!0):At(o.children,f=>{c=c.set(new Ie(f),!0)}),Ko(r,new bo(o.path,c,i))}else return[]}function Go(r,t,i){return Ko(r,new fr(xm(),t,i))}function kS(r,t,i){const o=ke.fromObject(i);return Ko(r,new is(xm(),t,o))}function TS(r,t,i,o){const u=Wm(r,o);if(u!=null){const c=Vm(u),f=c.path,h=c.queryId,p=Ot(f,t),g=new fr(Rm(h),p,i);return Gm(r,f,g)}else return[]}function IS(r,t,i,o){const u=Wm(r,o);if(u){const c=Vm(u),f=c.path,h=c.queryId,p=Ot(f,t),g=ke.fromObject(i),y=new is(Rm(h),p,g);return Gm(r,f,y)}else return[]}function sc(r,t,i){const u=r.pendingWriteTree_,c=r.syncPointTree_.findOnPath(t,(f,h)=>{const p=Ot(f,t),g=ic(h,p);if(g)return g});return Lm(u,t,c,i,!0)}function Ko(r,t){return Hm(t,r.syncPointTree_,null,Am(r.pendingWriteTree_,ge()))}function Hm(r,t,i,o){if(oe(r.path))return Bm(r,t,i,o);{const u=t.get(ge());i==null&&u!=null&&(i=ic(u,ge()));let c=[];const f=se(r.path),h=r.operationForChild(f),p=t.children.get(f);if(p&&h){const g=i?i.getImmediateChild(f):null,y=bm(o,f);c=c.concat(Hm(h,p,g,y))}return u&&(c=c.concat(rc(u,r,o,i))),c}}function Bm(r,t,i,o){const u=t.get(ge());i==null&&u!=null&&(i=ic(u,ge()));let c=[];return t.children.inorderTraversal((f,h)=>{const p=i?i.getImmediateChild(f):null,g=bm(o,f),y=r.operationForChild(f);y&&(c=c.concat(Bm(y,h,p,g)))}),u&&(c=c.concat(rc(u,r,o,i))),c}function Wm(r,t){return r.tagToQueryMap.get(t)}function Vm(r){const t=r.indexOf("$");return b(t!==-1&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new Ie(r.substr(0,t))}}function Gm(r,t,i){const o=r.syncPointTree_.get(t);b(o,"Missing sync point for query tag that we're tracking");const u=Am(r.pendingWriteTree_,t);return rc(o,i,u,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new oc(i)}node(){return this.node_}}class lc{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Ue(this.path_,t);return new lc(this.syncTree_,i)}node(){return sc(this.syncTree_,this.path_)}}const NS=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},gp=function(r,t,i){if(!r||typeof r!="object")return r;if(b(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return xS(r[".sv"],t,i);if(typeof r[".sv"]=="object")return RS(r[".sv"],t);b(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},xS=function(r,t,i){switch(r){case"timestamp":return i.timestamp;default:b(!1,"Unexpected server value: "+r)}},RS=function(r,t,i){r.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;typeof o!="number"&&b(!1,"Unexpected increment value: "+o);const u=t.node();if(b(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const f=u.getValue();return typeof f!="number"?o:f+o},PS=function(r,t,i,o){return uc(t,new lc(i,r),o)},Km=function(r,t,i){return uc(r,new oc(t),i)};function uc(r,t,i){const o=r.getPriority().val(),u=gp(o,t.getImmediateChild(".priority"),i);let c;if(r.isLeafNode()){const f=r,h=gp(f.getValue(),t,i);return h!==f.getValue()||u!==f.getPriority().val()?new Ge(h,Xe(u)):r}else{const f=r;return c=f,u!==f.getPriority().val()&&(c=c.updatePriority(new Ge(u))),f.forEachChild(ot,(h,p)=>{const g=uc(p,t.getImmediateChild(h),i);g!==p&&(c=c.updateImmediateChild(h,g))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t="",i=null,o={children:{},childCount:0}){this.name=t,this.parent=i,this.node=o}}function cc(r,t){let i=t instanceof Ie?t:new Ie(t),o=r,u=se(i);for(;u!==null;){const c=Gr(o.node.children,u)||{children:{},childCount:0};o=new ac(u,o,c),i=Te(i),u=se(i)}return o}function Zr(r){return r.node.value}function Qm(r,t){r.node.value=t,Ma(r)}function qm(r){return r.node.childCount>0}function DS(r){return Zr(r)===void 0&&!qm(r)}function Qo(r,t){At(r.node.children,(i,o)=>{t(new ac(i,r,o))})}function Ym(r,t,i,o){i&&t(r),Qo(r,u=>{Ym(u,t,!0)})}function OS(r,t,i){let o=r.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function as(r){return new Ie(r.parent===null?r.name:as(r.parent)+"/"+r.name)}function Ma(r){r.parent!==null&&AS(r.parent,r.name,r)}function AS(r,t,i){const o=DS(i),u=mn(r.node.children,t);o&&u?(delete r.node.children[t],r.node.childCount--,Ma(r)):!o&&!u&&(r.node.children[t]=i.node,r.node.childCount++,Ma(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=/[\[\].#$\/\u0000-\u001F\u007F]/,LS=/[\[\].#$\u0000-\u001F\u007F]/,ha=10*1024*1024,Xm=function(r){return typeof r=="string"&&r.length!==0&&!MS.test(r)},Jm=function(r){return typeof r=="string"&&r.length!==0&&!LS.test(r)},FS=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Jm(r)},Zm=function(r,t,i,o){o&&t===void 0||dc(Va(r,"value"),t,i)},dc=function(r,t,i){const o=i instanceof Ie?new yE(i,r):i;if(t===void 0)throw new Error(r+"contains undefined "+rr(o));if(typeof t=="function")throw new Error(r+"contains a function "+rr(o)+" with contents = "+t.toString());if(qp(t))throw new Error(r+"contains "+t.toString()+" "+rr(o));if(typeof t=="string"&&t.length>ha/3&&Wo(t)>ha)throw new Error(r+"contains a string greater than "+ha+" utf8 bytes "+rr(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let u=!1,c=!1;if(At(t,(f,h)=>{if(f===".value")u=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!Xm(f)))throw new Error(r+" contains an invalid key ("+f+") "+rr(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vE(o,f),dc(r,h,o),wE(o)}),u&&c)throw new Error(r+' contains ".value" child '+rr(o)+" in addition to actual children.")}},eg=function(r,t,i,o){if(!Jm(i))throw new Error(Va(r,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},bS=function(r,t,i,o){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),eg(r,t,i)},tg=function(r,t){if(se(t)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},zS=function(r,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Xm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!FS(i))throw new Error(Va(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ng(r,t){let i=null;for(let o=0;o<t.length;o++){const u=t[o],c=u.getPath();i!==null&&!vm(c,i.path)&&(r.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(u)}i&&r.eventLists_.push(i)}function pn(r,t,i){ng(r,i),$S(r,o=>Ht(o,t)||Ht(t,o))}function $S(r,t){r.recursionDepth_++;let i=!0;for(let o=0;o<r.eventLists_.length;o++){const u=r.eventLists_[o];if(u){const c=u.path;t(c)?(US(r.eventLists_[o]),r.eventLists_[o]=null):i=!1}}i&&(r.eventLists_=[]),r.recursionDepth_--}function US(r){for(let t=0;t<r.events.length;t++){const i=r.events[t];if(i!==null){r.events[t]=null;const o=i.getEventRunner();Qi&&st("event: "+i.toString()),Jr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="repo_interrupt",BS=25;class WS{constructor(t,i,o,u){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fo(),this.transactionQueueTree_=new ac,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VS(r,t,i){if(r.stats_=qa(r.repoInfo_),r.forceRestClient_||Bw())r.server_=new Lo(r.repoInfo_,(o,u,c,f)=>{_p(r,o,u,c,f)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>yp(r,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Je(i)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new cn(r.repoInfo_,t,(o,u,c,f)=>{_p(r,o,u,c,f)},o=>{yp(r,o)},o=>{GS(r,o)},r.authTokenProvider_,r.appCheckProvider_,i),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=Qw(r.repoInfo_,()=>new KE(r.stats_,r.server_)),r.infoData_=new HE,r.infoSyncTree_=new mp({startListening:(o,u,c,f)=>{let h=[];const p=r.infoData_.getNode(o._path);return p.isEmpty()||(h=Go(r.infoSyncTree_,o._path,p),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),hc(r,"connected",!1),r.serverSyncTree_=new mp({startListening:(o,u,c,f)=>(r.server_.listen(o,c,u,(h,p)=>{const g=f(h,p);pn(r.eventQueue_,o._path,g)}),[]),stopListening:(o,u)=>{r.server_.unlisten(o,u)}})}function rg(r){const i=r.infoData_.getNode(new Ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function fc(r){return NS({timestamp:rg(r)})}function _p(r,t,i,o,u){r.dataUpdateCount++;const c=new Ie(t);i=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,i):i;let f=[];if(u)if(o){const p=Ro(i,g=>Xe(g));f=IS(r.serverSyncTree_,c,p,u)}else{const p=Xe(i);f=TS(r.serverSyncTree_,c,p,u)}else if(o){const p=Ro(i,g=>Xe(g));f=kS(r.serverSyncTree_,c,p)}else{const p=Xe(i);f=Go(r.serverSyncTree_,c,p)}let h=c;f.length>0&&(h=qo(r,c)),pn(r.eventQueue_,h,f)}function yp(r,t){hc(r,"connected",t),t===!1&&QS(r)}function GS(r,t){At(t,(i,o)=>{hc(r,i,o)})}function hc(r,t,i){const o=new Ie("/.info/"+t),u=Xe(i);r.infoData_.updateSnapshot(o,u);const c=Go(r.infoSyncTree_,o,u);pn(r.eventQueue_,o,c)}function ig(r){return r.nextWriteId_++}function KS(r,t,i,o,u){pc(r,"set",{path:t.toString(),value:i,priority:o});const c=fc(r),f=Xe(i,o),h=sc(r.serverSyncTree_,t),p=Km(f,h,c),g=ig(r),y=Um(r.serverSyncTree_,t,p,g,!0);ng(r.eventQueue_,y),r.server_.put(t.toString(),f.val(!0),(T,x)=>{const P=T==="ok";P||yt("set at "+t+" failed: "+T);const z=lr(r.serverSyncTree_,g,!P);pn(r.eventQueue_,t,z),YS(r,u,T,x)});const v=ag(r,t);qo(r,v),pn(r.eventQueue_,v,[])}function QS(r){pc(r,"onDisconnectEvents");const t=fc(r),i=Fo();Na(r.onDisconnect_,ge(),(u,c)=>{const f=PS(u,c,r.serverSyncTree_,t);Im(i,u,f)});let o=[];Na(i,ge(),(u,c)=>{o=o.concat(Go(r.serverSyncTree_,u,c));const f=ag(r,u);qo(r,f)}),r.onDisconnect_=Fo(),pn(r.eventQueue_,ge(),o)}function qS(r){r.persistentConnection_&&r.persistentConnection_.interrupt(HS)}function pc(r,...t){let i="";r.persistentConnection_&&(i=r.persistentConnection_.id+":"),st(i,...t)}function YS(r,t,i,o){t&&Jr(()=>{if(i==="ok")t(null);else{const u=(i||"error").toUpperCase();let c=u;o&&(c+=": "+o);const f=new Error(c);f.code=u,t(f)}})}function sg(r,t,i){return sc(r.serverSyncTree_,t,i)||pe.EMPTY_NODE}function mc(r,t=r.transactionQueueTree_){if(t||Yo(r,t),Zr(t)){const i=lg(r,t);b(i.length>0,"Sending zero length transaction queue"),i.every(u=>u.status===0)&&XS(r,as(t),i)}else qm(t)&&Qo(t,i=>{mc(r,i)})}function XS(r,t,i){const o=i.map(g=>g.currentWriteId),u=sg(r,t,o);let c=u;const f=u.hash();for(let g=0;g<i.length;g++){const y=i[g];b(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Ot(t,y.path);c=c.updateChild(v,y.currentOutputSnapshotRaw)}const h=c.val(!0),p=t;r.server_.put(p.toString(),h,g=>{pc(r,"transaction put response",{path:p.toString(),status:g});let y=[];if(g==="ok"){const v=[];for(let T=0;T<i.length;T++)i[T].status=2,y=y.concat(lr(r.serverSyncTree_,i[T].currentWriteId)),i[T].onComplete&&v.push(()=>i[T].onComplete(null,!0,i[T].currentOutputSnapshotResolved)),i[T].unwatcher();Yo(r,cc(r.transactionQueueTree_,t)),mc(r,r.transactionQueueTree_),pn(r.eventQueue_,t,y);for(let T=0;T<v.length;T++)Jr(v[T])}else{if(g==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{yt("transaction at "+p.toString()+" failed: "+g);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=g}qo(r,t)}},f)}function qo(r,t){const i=og(r,t),o=as(i),u=lg(r,i);return JS(r,u,o),o}function JS(r,t,i){if(t.length===0)return;const o=[];let u=[];const f=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],g=Ot(i,p.path);let y=!1,v;if(b(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,v=p.abortReason,u=u.concat(lr(r.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=BS)y=!0,v="maxretry",u=u.concat(lr(r.serverSyncTree_,p.currentWriteId,!0));else{const T=sg(r,p.path,f);p.currentInputSnapshot=T;const x=t[h].update(T.val());if(x!==void 0){dc("transaction failed: Data returned ",x,p.path);let P=Xe(x);typeof x=="object"&&x!=null&&mn(x,".priority")||(P=P.updatePriority(T.getPriority()));const F=p.currentWriteId,Y=fc(r),J=Km(P,T,Y);p.currentOutputSnapshotRaw=P,p.currentOutputSnapshotResolved=J,p.currentWriteId=ig(r),f.splice(f.indexOf(F),1),u=u.concat(Um(r.serverSyncTree_,p.path,J,p.currentWriteId,p.applyLocally)),u=u.concat(lr(r.serverSyncTree_,F,!0))}else y=!0,v="nodata",u=u.concat(lr(r.serverSyncTree_,p.currentWriteId,!0))}pn(r.eventQueue_,i,u),u=[],y&&(t[h].status=2,function(T){setTimeout(T,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(v==="nodata"?o.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):o.push(()=>t[h].onComplete(new Error(v),!1,null))))}Yo(r,r.transactionQueueTree_);for(let h=0;h<o.length;h++)Jr(o[h]);mc(r,r.transactionQueueTree_)}function og(r,t){let i,o=r.transactionQueueTree_;for(i=se(t);i!==null&&Zr(o)===void 0;)o=cc(o,i),t=Te(t),i=se(t);return o}function lg(r,t){const i=[];return ug(r,t,i),i.sort((o,u)=>o.order-u.order),i}function ug(r,t,i){const o=Zr(t);if(o)for(let u=0;u<o.length;u++)i.push(o[u]);Qo(t,u=>{ug(r,u,i)})}function Yo(r,t){const i=Zr(t);if(i){let o=0;for(let u=0;u<i.length;u++)i[u].status!==2&&(i[o]=i[u],o++);i.length=o,Qm(t,i.length>0?i:void 0)}Qo(t,o=>{Yo(r,o)})}function ag(r,t){const i=as(og(r,t)),o=cc(r.transactionQueueTree_,t);return OS(o,u=>{pa(r,u)}),pa(r,o),Ym(o,u=>{pa(r,u)}),i}function pa(r,t){const i=Zr(t);if(i){const o=[];let u=[],c=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(b(c===f-1,"All SENT items should be at beginning of queue."),c=f,i[f].status=3,i[f].abortReason="set"):(b(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),u=u.concat(lr(r.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&o.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?Qm(t,void 0):i.length=c+1,pn(r.eventQueue_,as(t),u);for(let f=0;f<o.length;f++)Jr(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(r){let t="";const i=r.split("/");for(let o=0;o<i.length;o++)if(i[o].length>0){let u=i[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}t+="/"+u}return t}function e0(r){const t={};r.charAt(0)==="?"&&(r=r.substring(1));for(const i of r.split("&")){if(i.length===0)continue;const o=i.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):yt(`Invalid query segment '${i}' in query '${r}'`)}return t}const vp=function(r,t){const i=t0(r),o=i.namespace;i.domain==="firebase.com"&&hn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&i.domain!=="localhost"&&hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||Lw();const u=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new lm(i.host,i.secure,o,u,t,"",o!==i.subdomain),path:new Ie(i.pathString)}},t0=function(r){let t="",i="",o="",u="",c="",f=!0,h="https",p=443;if(typeof r=="string"){let g=r.indexOf("//");g>=0&&(h=r.substring(0,g-1),r=r.substring(g+2));let y=r.indexOf("/");y===-1&&(y=r.length);let v=r.indexOf("?");v===-1&&(v=r.length),t=r.substring(0,Math.min(y,v)),y<v&&(u=ZS(r.substring(y,v)));const T=e0(r.substring(Math.min(r.length,v)));g=t.indexOf(":"),g>=0?(f=h==="https"||h==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const x=t.slice(0,g);if(x.toLowerCase()==="localhost")i="localhost";else if(x.split(".").length<=2)i=x;else{const P=t.indexOf(".");o=t.substring(0,P).toLowerCase(),i=t.substring(P+1),c=o}"ns"in T&&(c=T.ns)}return{host:t,port:p,domain:i,subdomain:o,secure:f,scheme:h,pathString:u,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",n0=function(){let r=0;const t=[];return function(i){const o=i===r;r=i;let u;const c=new Array(8);for(u=7;u>=0;u--)c[u]=wp.charAt(i%64),i=Math.floor(i/64);b(i===0,"Cannot push at time == 0");let f=c.join("");if(o){for(u=11;u>=0&&t[u]===63;u--)t[u]=0;t[u]++}else for(u=0;u<12;u++)t[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)f+=wp.charAt(t[u]);return b(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,i,o,u){this._repo=t,this._path=i,this._queryParams=o,this._orderByCalled=u}get key(){return oe(this._path)?null:gm(this._path)}get ref(){return new mr(this._repo,this._path)}get _queryIdentifier(){const t=ip(this._queryParams),i=Ka(t);return i==="{}"?"default":i}get _queryObject(){return ip(this._queryParams)}isEqual(t){if(t=Yr(t),!(t instanceof gc))return!1;const i=this._repo===t._repo,o=vm(this._path,t._path),u=this._queryIdentifier===t._queryIdentifier;return i&&o&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+_E(this._path)}}class mr extends gc{constructor(t,i){super(t,i,new Za,!1)}get parent(){const t=ym(this._path);return t===null?null:new mr(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}function r0(r,t){return r=Yr(r),r._checkNotDeleted("ref"),La(r._root,t)}function La(r,t){return r=Yr(r),se(r._path)===null?bS("child","path",t):eg("child","path",t),new mr(r._repo,Ue(r._path,t))}function i0(r,t){r=Yr(r),tg("push",r._path),Zm("push",t,r._path,!0);const i=rg(r._repo),o=n0(i),u=La(r,o),c=La(r,o);let f;return t!=null?f=s0(c,t).then(()=>c):f=Promise.resolve(c),u.then=f.then.bind(f),u.catch=f.then.bind(f,void 0),u}function s0(r,t){r=Yr(r),tg("set",r._path),Zm("set",t,r._path,!1);const i=new Bo;return KS(r._repo,r._path,t,null,i.wrapCallback(()=>{})),i.promise}SS(mr);CS(mr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="FIREBASE_DATABASE_EMULATOR_HOST",Fa={};let l0=!1;function u0(r,t,i,o){r.repoInfo_=new lm(`${t}:${i}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),o&&(r.authTokenProvider_=o)}function a0(r,t,i,o,u){let c=o||r.options.databaseURL;c===void 0&&(r.options.projectId||hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),st("Using default host for project ",r.options.projectId),c=`${r.options.projectId}-default-rtdb.firebaseio.com`);let f=vp(c,u),h=f.repoInfo,p;typeof process<"u"&&jh&&(p=jh[o0]),p?(c=`http://${p}?ns=${h.namespace}`,f=vp(c,u),h=f.repoInfo):f.repoInfo.secure;const g=new Vw(r.name,r.options,t);zS("Invalid Firebase Database URL",f),oe(f.path)||hn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=d0(h,r,g,new Ww(r.name,i));return new f0(y,r)}function c0(r,t){const i=Fa[t];(!i||i[r.key]!==r)&&hn(`Database ${t}(${r.repoInfo_}) has already been deleted.`),qS(r),delete i[r.key]}function d0(r,t,i,o){let u=Fa[t.name];u||(u={},Fa[t.name]=u);let c=u[r.toURLString()];return c&&hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new WS(r,l0,i,o),u[r.toURLString()]=c,c}class f0{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mr(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(c0(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&hn("Cannot call "+t+" on a deleted database.")}}function h0(r=_w(),t){const i=hw(r,"database").getImmediate({identifier:t});if(!i._instanceStarted){const o=nv("database");o&&p0(i,...o)}return i}function p0(r,t,i,o={}){r=Yr(r),r._checkNotDeleted("useEmulator"),r._instanceStarted&&hn("Cannot call useEmulator() after instance has already been initialized.");const u=r._repoInternal;let c;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new No(No.OWNER);else if(o.mockUserToken){const f=typeof o.mockUserToken=="string"?o.mockUserToken:rv(o.mockUserToken,r.app.options.projectId);c=new No(f)}u0(u,t,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r){Rw(gw),Do(new ts("database",(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return a0(o,u,c,i)},"PUBLIC").setMultipleInstances(!0)),Br($h,Uh,r),Br($h,Uh,"esm2017")}cn.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)};cn.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)};m0();const g0={apiKey:"AIzaSyCNEJDVMHQY8BnaO2ZKkGBQbvoEHXhZBeo",authDomain:"diri-9ed53.firebaseapp.com",databaseURL:"https://diri-9ed53-default-rtdb.firebaseio.com",projectId:"diri-9ed53",storageBucket:"diri-9ed53.firebasestorage.app",messagingSenderId:"710505225558",appId:"1:710505225558:web:a1489ff5c4b458c28b4af7",measurementId:"G-4SMWBK22RK"},_0=Bp(g0),y0=h0(_0);function v0(r){if(r.food.quantity<=0)throw new Error("Ya no quedan hamburguesas "+r.food.name+" ,tenemos "+r.food.quantity+" ahora mismo");const[t,i]=N.useState({timeZone:"",dateTime:""}),[o,u]=N.useState(1),[c,f]=N.useState(0),h=N.useContext(bg),[p,g]=N.useState(void 0),[y,v]=N.useState(!1),T="Europe/Amsterdam",x=async()=>{const Y=h.find(J=>J.id===r.food.id);if(Y)try{i(await Gy(T,i,g)),Y.quantity=Y.quantity-o}catch{ar.error("Error en fetchData: ");return}else ar.warn("No se encontró el item con id: "+r.food.id)},P=()=>{ar.debug("Entendido el excede"),f(0),v(!1),g(!1)},z=Y=>{const J=Y.target.value,ee=parseInt(J,10);isNaN(ee)?J===""&&u(0):ee<r.food.quantity-1?(f(0),v(!1),u(ee)):(f(ee),v(!0))},F=async()=>{let Y=null;if(Y={fecha:t.dateTime.toString(),id_menu:r.food.id,nombre_menu:r.food.name,cantidad:o,precio_total:r.food.price*o},Y){console.log("Pedido listo para enviar:",Y);const J=r0(y0,"pedidos");await i0(J,Y)}};return N.useEffect(()=>{if(p===!1&&t){async function Y(){try{await F(),v(!1)}catch(J){console.error("Error al crear pedido:",J)}}Y()}},[F,p,t]),j.jsxs(j.Fragment,{children:[p===!0?j.jsx("p",{children:"Realizando petición de datos..."}):p===!1&&t?j.jsxs("div",{children:[j.jsx("h4",{children:"Pedido realizado"}),j.jsxs("p",{children:["Hora actual: ",t.dateTime]})]}):p===!1&&!t?j.jsx("p",{children:"No se pudieron obtener los datos."}):null,y===!0&&j.jsxs("div",{children:[j.jsxs("h4",{children:["Excedes la cantidad total de hamburguesas que puedes pedir: ",r.food.quantity-1,"y estas ingresando ",c]}),j.jsx("button",{onClick:()=>P(),children:"Entendido"})]}),j.jsxs("div",{children:[j.jsx("img",{className:"foodImg",src:Pp,alt:r.food.name}),j.jsx("h5",{children:"Nombre: "}),j.jsx("p",{children:r.food.name}),j.jsx("h5",{children:"Precio: "}),j.jsx("p",{children:r.food.price*o}),j.jsx("h5",{children:"Cantidad total que se puede pedir: "}),j.jsx("p",{children:r.food.quantity-1}),j.jsx("br",{}),j.jsxs("div",{children:[j.jsx("label",{children:"Cantidad a ordenar: "}),j.jsx("input",{"data-testid":"foodPriceF",type:"number",id:"cantidad",className:"number",value:o,onChange:z,min:"0"}),j.jsx("button",{onClick:async()=>{await x()},children:"Ordenar"})]}),j.jsx("button",{onClick:r.onReturnToMenu,children:"Volver al menú"})]})]})}class w0 extends Z.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,i){ar.warn("Error capturado por ErrorBoundary: "+t.message),ar.debug("Detalles del error: "+i.componentStack)}render(){return this.state.hasError?this.props.fallback:this.props.children}}function E0(r){const[t,i]=N.useState(!1),[o,u]=N.useState(),c=()=>{i(!t)},f=h=>{ar.debug("El usuario quiere ordenar: "+h.name),u(h),i(!t)};return j.jsxs(j.Fragment,{children:[!t&&j.jsxs(j.Fragment,{children:[j.jsx("h4",{className:"foodTitle",children:"Choose from our Menu"}),j.jsx("br",{}),j.jsx("br",{}),j.jsx("ul",{className:"space-y-10 grid grid-cols-1 md:grid-cols-2 gap-10",children:r.foodItems.map(h=>j.jsx(j.Fragment,{children:j.jsxs("div",{className:"relative flex w-60 flex-col rounded-xl bg-white bg-clip-border text-gray-700 shadow-md",children:[j.jsx("img",{className:`relative mx-4 -mt-6 h-40 overflow-hidden rounded-xl bg-blue-gray-500 bg-clip-border \r
                                        text-white shadow-lg shadow-blue-gray-500/40 bg-gradient-to-r from-blue-500 to-blue-600`,src:Pp,alt:h.name}),j.jsxs("div",{className:"p-6",children:[j.jsx("h5",{className:"mb-2 block font-sans text-xl font-semibold leading-snug tracking-normal text-blue-gray-900 antialiased",children:h.name}),j.jsx("p",{className:"block font-sans text-base font-light leading-relaxed text-inherit antialiased",children:h.desc}),j.jsxs("h5",{className:"mb-2 block font-sans text-xl font-semibold leading-snug tracking-normal text-blue-gray-900 antialiased",children:[h.price,"$"]})]}),j.jsx("div",{className:"p-6 pt-0",children:j.jsx("button",{"data-ripple-light":"true",type:"button",className:`select-none rounded-lg bg-blue-500 py-3 px-6 text-center align-middle \r
                                            font-sans text-xs font-bold uppercase text-white shadow-md shadow-blue-500/20 transition-all \r
                                            hover:shadow-lg hover:shadow-blue-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] \r
                                            active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none`,onClick:()=>f(h),children:"Pedir"})})]})}))})]}),t&&j.jsx(w0,{fallback:j.jsx("div",{children:"¡No nos quedan de esas hamburguesas!"}),children:j.jsx(v0,{food:o,onReturnToMenu:c})})]})}var S0=Rp(),C0=Object.defineProperty,k0=(r,t,i)=>t in r?C0(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i,ma=(r,t,i)=>(k0(r,typeof t!="symbol"?t+"":t,i),i);let T0=class{constructor(){ma(this,"current",this.detect()),ma(this,"handoffState","pending"),ma(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},cr=new T0;function Xo(r){return cr.isServer?null:r instanceof Node?r.ownerDocument:r!=null&&r.hasOwnProperty("current")&&r.current instanceof Node?r.current.ownerDocument:document}function Jo(r){typeof queueMicrotask=="function"?queueMicrotask(r):Promise.resolve().then(r).catch(t=>setTimeout(()=>{throw t}))}function Hn(){let r=[],t={addEventListener(i,o,u,c){return i.addEventListener(o,u,c),t.add(()=>i.removeEventListener(o,u,c))},requestAnimationFrame(...i){let o=requestAnimationFrame(...i);return t.add(()=>cancelAnimationFrame(o))},nextFrame(...i){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...i))},setTimeout(...i){let o=setTimeout(...i);return t.add(()=>clearTimeout(o))},microTask(...i){let o={current:!0};return Jo(()=>{o.current&&i[0]()}),t.add(()=>{o.current=!1})},style(i,o,u){let c=i.style.getPropertyValue(o);return Object.assign(i.style,{[o]:u}),this.add(()=>{Object.assign(i.style,{[o]:c})})},group(i){let o=Hn();return i(o),this.add(()=>o.dispose())},add(i){return r.includes(i)||r.push(i),()=>{let o=r.indexOf(i);if(o>=0)for(let u of r.splice(o,1))u()}},dispose(){for(let i of r.splice(0))i()}};return t}function _c(){let[r]=N.useState(Hn);return N.useEffect(()=>()=>r.dispose(),[r]),r}let ct=(r,t)=>{cr.isServer?N.useEffect(r,t):N.useLayoutEffect(r,t)};function gr(r){let t=N.useRef(r);return ct(()=>{t.current=r},[r]),t}let Pe=function(r){let t=gr(r);return Z.useCallback((...i)=>t.current(...i),[t])},I0=N.createContext(void 0);function N0(){return N.useContext(I0)}function ba(...r){return Array.from(new Set(r.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Un(r,t,...i){if(r in t){let u=t[r];return typeof u=="function"?u(...i):u}let o=new Error(`Tried to handle "${r}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(u=>`"${u}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Un),o}var $o=(r=>(r[r.None=0]="None",r[r.RenderStrategy=1]="RenderStrategy",r[r.Static=2]="Static",r))($o||{}),Fn=(r=>(r[r.Unmount=0]="Unmount",r[r.Hidden=1]="Hidden",r))(Fn||{});function Mt(){let r=R0();return N.useCallback(t=>x0({mergeRefs:r,...t}),[r])}function x0({ourProps:r,theirProps:t,slot:i,defaultTag:o,features:u,visible:c=!0,name:f,mergeRefs:h}){h=h??P0;let p=cg(t,r);if(c)return Io(p,i,o,f,h);let g=u??0;if(g&2){let{static:y=!1,...v}=p;if(y)return Io(v,i,o,f,h)}if(g&1){let{unmount:y=!0,...v}=p;return Un(y?0:1,{0(){return null},1(){return Io({...v,hidden:!0,style:{display:"none"}},i,o,f,h)}})}return Io(p,i,o,f,h)}function Io(r,t={},i,o,u){let{as:c=i,children:f,refName:h="ref",...p}=ga(r,["unmount","static"]),g=r.ref!==void 0?{[h]:r.ref}:{},y=typeof f=="function"?f(t):f;"className"in p&&p.className&&typeof p.className=="function"&&(p.className=p.className(t)),p["aria-labelledby"]&&p["aria-labelledby"]===p.id&&(p["aria-labelledby"]=void 0);let v={};if(t){let T=!1,x=[];for(let[P,z]of Object.entries(t))typeof z=="boolean"&&(T=!0),z===!0&&x.push(P.replace(/([A-Z])/g,F=>`-${F.toLowerCase()}`));if(T){v["data-headlessui-state"]=x.join(" ");for(let P of x)v[`data-${P}`]=""}}if(c===N.Fragment&&(Object.keys(ir(p)).length>0||Object.keys(ir(v)).length>0))if(!N.isValidElement(y)||Array.isArray(y)&&y.length>1){if(Object.keys(ir(p)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${o} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ir(p)).concat(Object.keys(ir(v))).map(T=>`  - ${T}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(T=>`  - ${T}`).join(`
`)].join(`
`))}else{let T=y.props,x=T==null?void 0:T.className,P=typeof x=="function"?(...Y)=>ba(x(...Y),p.className):ba(x,p.className),z=P?{className:P}:{},F=cg(y.props,ir(ga(p,["ref"])));for(let Y in v)Y in F&&delete v[Y];return N.cloneElement(y,Object.assign({},F,v,g,{ref:u(D0(y),g.ref)},z))}return N.createElement(c,Object.assign({},ga(p,["ref"]),c!==N.Fragment&&g,c!==N.Fragment&&v),y)}function R0(){let r=N.useRef([]),t=N.useCallback(i=>{for(let o of r.current)o!=null&&(typeof o=="function"?o(i):o.current=i)},[]);return(...i)=>{if(!i.every(o=>o==null))return r.current=i,t}}function P0(...r){return r.every(t=>t==null)?void 0:t=>{for(let i of r)i!=null&&(typeof i=="function"?i(t):i.current=t)}}function cg(...r){if(r.length===0)return{};if(r.length===1)return r[0];let t={},i={};for(let o of r)for(let u in o)u.startsWith("on")&&typeof o[u]=="function"?(i[u]!=null||(i[u]=[]),i[u].push(o[u])):t[u]=o[u];if(t.disabled||t["aria-disabled"])for(let o in i)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(o)&&(i[o]=[u=>{var c;return(c=u==null?void 0:u.preventDefault)==null?void 0:c.call(u)}]);for(let o in i)Object.assign(t,{[o](u,...c){let f=i[o];for(let h of f){if((u instanceof Event||(u==null?void 0:u.nativeEvent)instanceof Event)&&u.defaultPrevented)return;h(u,...c)}}});return t}function vt(r){var t;return Object.assign(N.forwardRef(r),{displayName:(t=r.displayName)!=null?t:r.name})}function ir(r){let t=Object.assign({},r);for(let i in t)t[i]===void 0&&delete t[i];return t}function ga(r,t=[]){let i=Object.assign({},r);for(let o of t)o in i&&delete i[o];return i}function D0(r){return Z.version.split(".")[0]>="19"?r.props.ref:r.ref}let O0="span";var Uo=(r=>(r[r.None=1]="None",r[r.Focusable=2]="Focusable",r[r.Hidden=4]="Hidden",r))(Uo||{});function A0(r,t){var i;let{features:o=1,...u}=r,c={ref:t,"aria-hidden":(o&2)===2?!0:(i=u["aria-hidden"])!=null?i:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return Mt()({ourProps:c,theirProps:u,slot:{},defaultTag:O0,name:"Hidden"})}let za=vt(A0),dg=Symbol();function M0(r,t=!0){return Object.assign(r,{[dg]:t})}function Jt(...r){let t=N.useRef(r);N.useEffect(()=>{t.current=r},[r]);let i=Pe(o=>{for(let u of t.current)u!=null&&(typeof u=="function"?u(o):u.current=o)});return r.every(o=>o==null||(o==null?void 0:o[dg]))?void 0:i}let yc=N.createContext(null);yc.displayName="DescriptionContext";function fg(){let r=N.useContext(yc);if(r===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,fg),t}return r}function L0(){let[r,t]=N.useState([]);return[r.length>0?r.join(" "):void 0,N.useMemo(()=>function(i){let o=Pe(c=>(t(f=>[...f,c]),()=>t(f=>{let h=f.slice(),p=h.indexOf(c);return p!==-1&&h.splice(p,1),h}))),u=N.useMemo(()=>({register:o,slot:i.slot,name:i.name,props:i.props,value:i.value}),[o,i.slot,i.name,i.props,i.value]);return Z.createElement(yc.Provider,{value:u},i.children)},[t])]}let F0="p";function b0(r,t){let i=N.useId(),o=N0(),{id:u=`headlessui-description-${i}`,...c}=r,f=fg(),h=Jt(t);ct(()=>f.register(u),[u,f.register]);let p=o||!1,g=N.useMemo(()=>({...f.slot,disabled:p}),[f.slot,p]),y={ref:h,...f.props,id:u};return Mt()({ourProps:y,theirProps:c,slot:g,defaultTag:F0,name:f.name||"Description"})}let z0=vt(b0),hg=Object.assign(z0,{});var pg=(r=>(r.Space=" ",r.Enter="Enter",r.Escape="Escape",r.Backspace="Backspace",r.Delete="Delete",r.ArrowLeft="ArrowLeft",r.ArrowUp="ArrowUp",r.ArrowRight="ArrowRight",r.ArrowDown="ArrowDown",r.Home="Home",r.End="End",r.PageUp="PageUp",r.PageDown="PageDown",r.Tab="Tab",r))(pg||{});let j0=N.createContext(()=>{});function $0({value:r,children:t}){return Z.createElement(j0.Provider,{value:r},t)}let U0=class extends Map{constructor(t){super(),this.factory=t}get(t){let i=super.get(t);return i===void 0&&(i=this.factory(t),this.set(t,i)),i}};function mg(r,t){let i=r(),o=new Set;return{getSnapshot(){return i},subscribe(u){return o.add(u),()=>o.delete(u)},dispatch(u,...c){let f=t[u].call(i,...c);f&&(i=f,o.forEach(h=>h()))}}}function gg(r){return N.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot)}let H0=new U0(()=>mg(()=>[],{ADD(r){return this.includes(r)?this:[...this,r]},REMOVE(r){let t=this.indexOf(r);if(t===-1)return this;let i=this.slice();return i.splice(t,1),i}}));function ei(r,t){let i=H0.get(t),o=N.useId(),u=gg(i);if(ct(()=>{if(r)return i.dispatch("ADD",o),()=>i.dispatch("REMOVE",o)},[i,r]),!r)return!1;let c=u.indexOf(o),f=u.length;return c===-1&&(c=f,f+=1),c===f-1}let ja=new Map,Ji=new Map;function Ep(r){var t;let i=(t=Ji.get(r))!=null?t:0;return Ji.set(r,i+1),i!==0?()=>Sp(r):(ja.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0,()=>Sp(r))}function Sp(r){var t;let i=(t=Ji.get(r))!=null?t:1;if(i===1?Ji.delete(r):Ji.set(r,i-1),i!==1)return;let o=ja.get(r);o&&(o["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",o["aria-hidden"]),r.inert=o.inert,ja.delete(r))}function B0(r,{allowed:t,disallowed:i}={}){let o=ei(r,"inert-others");ct(()=>{var u,c;if(!o)return;let f=Hn();for(let p of(u=i==null?void 0:i())!=null?u:[])p&&f.add(Ep(p));let h=(c=t==null?void 0:t())!=null?c:[];for(let p of h){if(!p)continue;let g=Xo(p);if(!g)continue;let y=p.parentElement;for(;y&&y!==g.body;){for(let v of y.children)h.some(T=>v.contains(T))||f.add(Ep(v));y=y.parentElement}}return f.dispose},[o,t,i])}function W0(r,t,i){let o=gr(u=>{let c=u.getBoundingClientRect();c.x===0&&c.y===0&&c.width===0&&c.height===0&&i()});N.useEffect(()=>{if(!r)return;let u=t===null?null:t instanceof HTMLElement?t:t.current;if(!u)return;let c=Hn();if(typeof ResizeObserver<"u"){let f=new ResizeObserver(()=>o.current(u));f.observe(u),c.add(()=>f.disconnect())}if(typeof IntersectionObserver<"u"){let f=new IntersectionObserver(()=>o.current(u));f.observe(u),c.add(()=>f.disconnect())}return()=>c.dispose()},[t,o,r])}let Ho=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(r=>`${r}:not([tabindex='-1'])`).join(","),V0=["[data-autofocus]"].map(r=>`${r}:not([tabindex='-1'])`).join(",");var un=(r=>(r[r.First=1]="First",r[r.Previous=2]="Previous",r[r.Next=4]="Next",r[r.Last=8]="Last",r[r.WrapAround=16]="WrapAround",r[r.NoScroll=32]="NoScroll",r[r.AutoFocus=64]="AutoFocus",r))(un||{}),$a=(r=>(r[r.Error=0]="Error",r[r.Overflow=1]="Overflow",r[r.Success=2]="Success",r[r.Underflow=3]="Underflow",r))($a||{}),G0=(r=>(r[r.Previous=-1]="Previous",r[r.Next=1]="Next",r))(G0||{});function K0(r=document.body){return r==null?[]:Array.from(r.querySelectorAll(Ho)).sort((t,i)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(i.tabIndex||Number.MAX_SAFE_INTEGER)))}function Q0(r=document.body){return r==null?[]:Array.from(r.querySelectorAll(V0)).sort((t,i)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(i.tabIndex||Number.MAX_SAFE_INTEGER)))}var _g=(r=>(r[r.Strict=0]="Strict",r[r.Loose=1]="Loose",r))(_g||{});function q0(r,t=0){var i;return r===((i=Xo(r))==null?void 0:i.body)?!1:Un(t,{0(){return r.matches(Ho)},1(){let o=r;for(;o!==null;){if(o.matches(Ho))return!0;o=o.parentElement}return!1}})}var Y0=(r=>(r[r.Keyboard=0]="Keyboard",r[r.Mouse=1]="Mouse",r))(Y0||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",r=>{r.metaKey||r.altKey||r.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",r=>{r.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:r.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function dn(r){r==null||r.focus({preventScroll:!0})}let X0=["textarea","input"].join(",");function J0(r){var t,i;return(i=(t=r==null?void 0:r.matches)==null?void 0:t.call(r,X0))!=null?i:!1}function Z0(r,t=i=>i){return r.slice().sort((i,o)=>{let u=t(i),c=t(o);if(u===null||c===null)return 0;let f=u.compareDocumentPosition(c);return f&Node.DOCUMENT_POSITION_FOLLOWING?-1:f&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Zi(r,t,{sorted:i=!0,relativeTo:o=null,skipElements:u=[]}={}){let c=Array.isArray(r)?r.length>0?r[0].ownerDocument:document:r.ownerDocument,f=Array.isArray(r)?i?Z0(r):r:t&64?Q0(r):K0(r);u.length>0&&f.length>1&&(f=f.filter(x=>!u.some(P=>P!=null&&"current"in P?(P==null?void 0:P.current)===x:P===x))),o=o??c.activeElement;let h=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,f.indexOf(o))-1;if(t&4)return Math.max(0,f.indexOf(o))+1;if(t&8)return f.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=t&32?{preventScroll:!0}:{},y=0,v=f.length,T;do{if(y>=v||y+v<=0)return 0;let x=p+y;if(t&16)x=(x+v)%v;else{if(x<0)return 3;if(x>=v)return 1}T=f[x],T==null||T.focus(g),y+=h}while(T!==c.activeElement);return t&6&&J0(T)&&T.select(),2}function yg(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function eC(){return/Android/gi.test(window.navigator.userAgent)}function tC(){return yg()||eC()}function Gi(r,t,i,o){let u=gr(i);N.useEffect(()=>{if(!r)return;function c(f){u.current(f)}return document.addEventListener(t,c,o),()=>document.removeEventListener(t,c,o)},[r,t,o])}function vg(r,t,i,o){let u=gr(i);N.useEffect(()=>{if(!r)return;function c(f){u.current(f)}return window.addEventListener(t,c,o),()=>window.removeEventListener(t,c,o)},[r,t,o])}const Cp=30;function nC(r,t,i){let o=ei(r,"outside-click"),u=gr(i),c=N.useCallback(function(p,g){if(p.defaultPrevented)return;let y=g(p);if(y===null||!y.getRootNode().contains(y)||!y.isConnected)return;let v=function T(x){return typeof x=="function"?T(x()):Array.isArray(x)||x instanceof Set?x:[x]}(t);for(let T of v)if(T!==null&&(T.contains(y)||p.composed&&p.composedPath().includes(T)))return;return!q0(y,_g.Loose)&&y.tabIndex!==-1&&p.preventDefault(),u.current(p,y)},[u,t]),f=N.useRef(null);Gi(o,"pointerdown",p=>{var g,y;f.current=((y=(g=p.composedPath)==null?void 0:g.call(p))==null?void 0:y[0])||p.target},!0),Gi(o,"mousedown",p=>{var g,y;f.current=((y=(g=p.composedPath)==null?void 0:g.call(p))==null?void 0:y[0])||p.target},!0),Gi(o,"click",p=>{tC()||f.current&&(c(p,()=>f.current),f.current=null)},!0);let h=N.useRef({x:0,y:0});Gi(o,"touchstart",p=>{h.current.x=p.touches[0].clientX,h.current.y=p.touches[0].clientY},!0),Gi(o,"touchend",p=>{let g={x:p.changedTouches[0].clientX,y:p.changedTouches[0].clientY};if(!(Math.abs(g.x-h.current.x)>=Cp||Math.abs(g.y-h.current.y)>=Cp))return c(p,()=>p.target instanceof HTMLElement?p.target:null)},!0),vg(o,"blur",p=>c(p,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function cs(...r){return N.useMemo(()=>Xo(...r),[...r])}function wg(r,t,i,o){let u=gr(i);N.useEffect(()=>{r=r??window;function c(f){u.current(f)}return r.addEventListener(t,c,o),()=>r.removeEventListener(t,c,o)},[r,t,o])}function rC(){let r;return{before({doc:t}){var i;let o=t.documentElement,u=(i=t.defaultView)!=null?i:window;r=Math.max(0,u.innerWidth-o.clientWidth)},after({doc:t,d:i}){let o=t.documentElement,u=Math.max(0,o.clientWidth-o.offsetWidth),c=Math.max(0,r-u);i.style(o,"paddingRight",`${c}px`)}}}function iC(){return yg()?{before({doc:r,d:t,meta:i}){function o(u){return i.containers.flatMap(c=>c()).some(c=>c.contains(u))}t.microTask(()=>{var u;if(window.getComputedStyle(r.documentElement).scrollBehavior!=="auto"){let h=Hn();h.style(r.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>h.dispose()))}let c=(u=window.scrollY)!=null?u:window.pageYOffset,f=null;t.addEventListener(r,"click",h=>{if(h.target instanceof HTMLElement)try{let p=h.target.closest("a");if(!p)return;let{hash:g}=new URL(p.href),y=r.querySelector(g);y&&!o(y)&&(f=y)}catch{}},!0),t.addEventListener(r,"touchstart",h=>{if(h.target instanceof HTMLElement)if(o(h.target)){let p=h.target;for(;p.parentElement&&o(p.parentElement);)p=p.parentElement;t.style(p,"overscrollBehavior","contain")}else t.style(h.target,"touchAction","none")}),t.addEventListener(r,"touchmove",h=>{if(h.target instanceof HTMLElement){if(h.target.tagName==="INPUT")return;if(o(h.target)){let p=h.target;for(;p.parentElement&&p.dataset.headlessuiPortal!==""&&!(p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth);)p=p.parentElement;p.dataset.headlessuiPortal===""&&h.preventDefault()}else h.preventDefault()}},{passive:!1}),t.add(()=>{var h;let p=(h=window.scrollY)!=null?h:window.pageYOffset;c!==p&&window.scrollTo(0,c),f&&f.isConnected&&(f.scrollIntoView({block:"nearest"}),f=null)})})}}:{}}function sC(){return{before({doc:r,d:t}){t.style(r.documentElement,"overflow","hidden")}}}function oC(r){let t={};for(let i of r)Object.assign(t,i(t));return t}let ur=mg(()=>new Map,{PUSH(r,t){var i;let o=(i=this.get(r))!=null?i:{doc:r,count:0,d:Hn(),meta:new Set};return o.count++,o.meta.add(t),this.set(r,o),this},POP(r,t){let i=this.get(r);return i&&(i.count--,i.meta.delete(t)),this},SCROLL_PREVENT({doc:r,d:t,meta:i}){let o={doc:r,d:t,meta:oC(i)},u=[iC(),rC(),sC()];u.forEach(({before:c})=>c==null?void 0:c(o)),u.forEach(({after:c})=>c==null?void 0:c(o))},SCROLL_ALLOW({d:r}){r.dispose()},TEARDOWN({doc:r}){this.delete(r)}});ur.subscribe(()=>{let r=ur.getSnapshot(),t=new Map;for(let[i]of r)t.set(i,i.documentElement.style.overflow);for(let i of r.values()){let o=t.get(i.doc)==="hidden",u=i.count!==0;(u&&!o||!u&&o)&&ur.dispatch(i.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",i),i.count===0&&ur.dispatch("TEARDOWN",i)}});function lC(r,t,i=()=>({containers:[]})){let o=gg(ur),u=t?o.get(t):void 0,c=u?u.count>0:!1;return ct(()=>{if(!(!t||!r))return ur.dispatch("PUSH",t,i),()=>ur.dispatch("POP",t,i)},[r,t]),c}function uC(r,t,i=()=>[document.body]){let o=ei(r,"scroll-lock");lC(o,t,u=>{var c;return{containers:[...(c=u.containers)!=null?c:[],i]}})}function aC(r=0){let[t,i]=N.useState(r),o=N.useCallback(p=>i(p),[t]),u=N.useCallback(p=>i(g=>g|p),[t]),c=N.useCallback(p=>(t&p)===p,[t]),f=N.useCallback(p=>i(g=>g&~p),[i]),h=N.useCallback(p=>i(g=>g^p),[i]);return{flags:t,setFlag:o,addFlag:u,hasFlag:c,removeFlag:f,toggleFlag:h}}var cC={},kp,Tp;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((kp=process==null?void 0:cC)==null?void 0:kp.NODE_ENV)==="test"&&typeof((Tp=Element==null?void 0:Element.prototype)==null?void 0:Tp.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var dC=(r=>(r[r.None=0]="None",r[r.Closed=1]="Closed",r[r.Enter=2]="Enter",r[r.Leave=4]="Leave",r))(dC||{});function fC(r){let t={};for(let i in r)r[i]===!0&&(t[`data-${i}`]="");return t}function hC(r,t,i,o){let[u,c]=N.useState(i),{hasFlag:f,addFlag:h,removeFlag:p}=aC(r&&u?3:0),g=N.useRef(!1),y=N.useRef(!1),v=_c();return ct(()=>{var T;if(r){if(i&&c(!0),!t){i&&h(3);return}return(T=o==null?void 0:o.start)==null||T.call(o,i),pC(t,{inFlight:g,prepare(){y.current?y.current=!1:y.current=g.current,g.current=!0,!y.current&&(i?(h(3),p(4)):(h(4),p(2)))},run(){y.current?i?(p(3),h(4)):(p(4),h(3)):i?p(1):h(1)},done(){var x;y.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(g.current=!1,p(7),i||c(!1),(x=o==null?void 0:o.end)==null||x.call(o,i))}})}},[r,i,t,v]),r?[u,{closed:f(1),enter:f(2),leave:f(4),transition:f(2)||f(4)}]:[i,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function pC(r,{prepare:t,run:i,done:o,inFlight:u}){let c=Hn();return gC(r,{prepare:t,inFlight:u}),c.nextFrame(()=>{i(),c.requestAnimationFrame(()=>{c.add(mC(r,o))})}),c.dispose}function mC(r,t){var i,o;let u=Hn();if(!r)return u.dispose;let c=!1;u.add(()=>{c=!0});let f=(o=(i=r.getAnimations)==null?void 0:i.call(r).filter(h=>h instanceof CSSTransition))!=null?o:[];return f.length===0?(t(),u.dispose):(Promise.allSettled(f.map(h=>h.finished)).then(()=>{c||t()}),u.dispose)}function gC(r,{inFlight:t,prepare:i}){if(t!=null&&t.current){i();return}let o=r.style.transition;r.style.transition="none",i(),r.offsetHeight,r.style.transition=o}function vc(r,t){let i=N.useRef([]),o=Pe(r);N.useEffect(()=>{let u=[...i.current];for(let[c,f]of t.entries())if(i.current[c]!==f){let h=o(t,u);return i.current=t,h}},[o,...t])}let Zo=N.createContext(null);Zo.displayName="OpenClosedContext";var Bt=(r=>(r[r.Open=1]="Open",r[r.Closed=2]="Closed",r[r.Closing=4]="Closing",r[r.Opening=8]="Opening",r))(Bt||{});function el(){return N.useContext(Zo)}function _C({value:r,children:t}){return Z.createElement(Zo.Provider,{value:r},t)}function yC({children:r}){return Z.createElement(Zo.Provider,{value:null},r)}function vC(r){function t(){document.readyState!=="loading"&&(r(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ln=[];vC(()=>{function r(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||Ln[0]===t.target)return;let i=t.target;i=i.closest(Ho),Ln.unshift(i??t.target),Ln=Ln.filter(o=>o!=null&&o.isConnected),Ln.splice(10)}window.addEventListener("click",r,{capture:!0}),window.addEventListener("mousedown",r,{capture:!0}),window.addEventListener("focus",r,{capture:!0}),document.body.addEventListener("click",r,{capture:!0}),document.body.addEventListener("mousedown",r,{capture:!0}),document.body.addEventListener("focus",r,{capture:!0})});function Eg(r){let t=Pe(r),i=N.useRef(!1);N.useEffect(()=>(i.current=!1,()=>{i.current=!0,Jo(()=>{i.current&&t()})}),[t])}function wC(){let r=typeof document>"u";return"useSyncExternalStore"in Sh?(t=>t.useSyncExternalStore)(Sh)(()=>()=>{},()=>!1,()=>!r):!1}function ds(){let r=wC(),[t,i]=N.useState(cr.isHandoffComplete);return t&&cr.isHandoffComplete===!1&&i(!1),N.useEffect(()=>{t!==!0&&i(!0)},[t]),N.useEffect(()=>cr.handoff(),[]),r?!1:t}let Sg=N.createContext(!1);function EC(){return N.useContext(Sg)}function Ip(r){return Z.createElement(Sg.Provider,{value:r.force},r.children)}function SC(r){let t=EC(),i=N.useContext(kg),o=cs(r),[u,c]=N.useState(()=>{var f;if(!t&&i!==null)return(f=i.current)!=null?f:null;if(cr.isServer)return null;let h=o==null?void 0:o.getElementById("headlessui-portal-root");if(h)return h;if(o===null)return null;let p=o.createElement("div");return p.setAttribute("id","headlessui-portal-root"),o.body.appendChild(p)});return N.useEffect(()=>{u!==null&&(o!=null&&o.body.contains(u)||o==null||o.body.appendChild(u))},[u,o]),N.useEffect(()=>{t||i!==null&&c(i.current)},[i,c,t]),u}let Cg=N.Fragment,CC=vt(function(r,t){let i=r,o=N.useRef(null),u=Jt(M0(v=>{o.current=v}),t),c=cs(o),f=SC(o),[h]=N.useState(()=>{var v;return cr.isServer?null:(v=c==null?void 0:c.createElement("div"))!=null?v:null}),p=N.useContext(Ua),g=ds();ct(()=>{!f||!h||f.contains(h)||(h.setAttribute("data-headlessui-portal",""),f.appendChild(h))},[f,h]),ct(()=>{if(h&&p)return p.register(h)},[p,h]),Eg(()=>{var v;!f||!h||(h instanceof Node&&f.contains(h)&&f.removeChild(h),f.childNodes.length<=0&&((v=f.parentElement)==null||v.removeChild(f)))});let y=Mt();return g?!f||!h?null:S0.createPortal(y({ourProps:{ref:u},theirProps:i,slot:{},defaultTag:Cg,name:"Portal"}),h):null});function kC(r,t){let i=Jt(t),{enabled:o=!0,...u}=r,c=Mt();return o?Z.createElement(CC,{...u,ref:i}):c({ourProps:{ref:i},theirProps:u,slot:{},defaultTag:Cg,name:"Portal"})}let TC=N.Fragment,kg=N.createContext(null);function IC(r,t){let{target:i,...o}=r,u={ref:Jt(t)},c=Mt();return Z.createElement(kg.Provider,{value:i},c({ourProps:u,theirProps:o,defaultTag:TC,name:"Popover.Group"}))}let Ua=N.createContext(null);function NC(){let r=N.useContext(Ua),t=N.useRef([]),i=Pe(c=>(t.current.push(c),r&&r.register(c),()=>o(c))),o=Pe(c=>{let f=t.current.indexOf(c);f!==-1&&t.current.splice(f,1),r&&r.unregister(c)}),u=N.useMemo(()=>({register:i,unregister:o,portals:t}),[i,o,t]);return[t,N.useMemo(()=>function({children:c}){return Z.createElement(Ua.Provider,{value:u},c)},[u])]}let xC=vt(kC),Tg=vt(IC),RC=Object.assign(xC,{Group:Tg});function PC(r,t=typeof document<"u"?document.defaultView:null,i){let o=ei(r,"escape");wg(t,"keydown",u=>{o&&(u.defaultPrevented||u.key===pg.Escape&&i(u))})}function DC(){var r;let[t]=N.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[i,o]=N.useState((r=t==null?void 0:t.matches)!=null?r:!1);return ct(()=>{if(!t)return;function u(c){o(c.matches)}return t.addEventListener("change",u),()=>t.removeEventListener("change",u)},[t]),i}function OC({defaultContainers:r=[],portals:t,mainTreeNode:i}={}){let o=cs(i),u=Pe(()=>{var c,f;let h=[];for(let p of r)p!==null&&(p instanceof HTMLElement?h.push(p):"current"in p&&p.current instanceof HTMLElement&&h.push(p.current));if(t!=null&&t.current)for(let p of t.current)h.push(p);for(let p of(c=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?c:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(i&&(p.contains(i)||p.contains((f=i==null?void 0:i.getRootNode())==null?void 0:f.host))||h.some(g=>p.contains(g))||h.push(p));return h});return{resolveContainers:u,contains:Pe(c=>u().some(f=>f.contains(c)))}}let Ig=N.createContext(null);function Np({children:r,node:t}){let[i,o]=N.useState(null),u=Ng(t??i);return Z.createElement(Ig.Provider,{value:u},r,u===null&&Z.createElement(za,{features:Uo.Hidden,ref:c=>{var f,h;if(c){for(let p of(h=(f=Xo(c))==null?void 0:f.querySelectorAll("html > *, body > *"))!=null?h:[])if(p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p!=null&&p.contains(c)){o(p);break}}}}))}function Ng(r=null){var t;return(t=N.useContext(Ig))!=null?t:r}function wc(){let r=N.useRef(!1);return ct(()=>(r.current=!0,()=>{r.current=!1}),[]),r}var Ki=(r=>(r[r.Forwards=0]="Forwards",r[r.Backwards=1]="Backwards",r))(Ki||{});function AC(){let r=N.useRef(0);return vg(!0,"keydown",t=>{t.key==="Tab"&&(r.current=t.shiftKey?1:0)},!0),r}function xg(r){if(!r)return new Set;if(typeof r=="function")return new Set(r());let t=new Set;for(let i of r.current)i.current instanceof HTMLElement&&t.add(i.current);return t}let MC="div";var sr=(r=>(r[r.None=0]="None",r[r.InitialFocus=1]="InitialFocus",r[r.TabLock=2]="TabLock",r[r.FocusLock=4]="FocusLock",r[r.RestoreFocus=8]="RestoreFocus",r[r.AutoFocus=16]="AutoFocus",r))(sr||{});function LC(r,t){let i=N.useRef(null),o=Jt(i,t),{initialFocus:u,initialFocusFallback:c,containers:f,features:h=15,...p}=r;ds()||(h=0);let g=cs(i);jC(h,{ownerDocument:g});let y=$C(h,{ownerDocument:g,container:i,initialFocus:u,initialFocusFallback:c});UC(h,{ownerDocument:g,container:i,containers:f,previousActiveElement:y});let v=AC(),T=Pe(J=>{let ee=i.current;ee&&(te=>te())(()=>{Un(v.current,{[Ki.Forwards]:()=>{Zi(ee,un.First,{skipElements:[J.relatedTarget,c]})},[Ki.Backwards]:()=>{Zi(ee,un.Last,{skipElements:[J.relatedTarget,c]})}})})}),x=ei(!!(h&2),"focus-trap#tab-lock"),P=_c(),z=N.useRef(!1),F={ref:o,onKeyDown(J){J.key=="Tab"&&(z.current=!0,P.requestAnimationFrame(()=>{z.current=!1}))},onBlur(J){if(!(h&4))return;let ee=xg(f);i.current instanceof HTMLElement&&ee.add(i.current);let te=J.relatedTarget;te instanceof HTMLElement&&te.dataset.headlessuiFocusGuard!=="true"&&(Rg(ee,te)||(z.current?Zi(i.current,Un(v.current,{[Ki.Forwards]:()=>un.Next,[Ki.Backwards]:()=>un.Previous})|un.WrapAround,{relativeTo:J.target}):J.target instanceof HTMLElement&&dn(J.target)))}},Y=Mt();return Z.createElement(Z.Fragment,null,x&&Z.createElement(za,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:T,features:Uo.Focusable}),Y({ourProps:F,theirProps:p,defaultTag:MC,name:"FocusTrap"}),x&&Z.createElement(za,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:T,features:Uo.Focusable}))}let FC=vt(LC),bC=Object.assign(FC,{features:sr});function zC(r=!0){let t=N.useRef(Ln.slice());return vc(([i],[o])=>{o===!0&&i===!1&&Jo(()=>{t.current.splice(0)}),o===!1&&i===!0&&(t.current=Ln.slice())},[r,Ln,t]),Pe(()=>{var i;return(i=t.current.find(o=>o!=null&&o.isConnected))!=null?i:null})}function jC(r,{ownerDocument:t}){let i=!!(r&8),o=zC(i);vc(()=>{i||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&dn(o())},[i]),Eg(()=>{i&&dn(o())})}function $C(r,{ownerDocument:t,container:i,initialFocus:o,initialFocusFallback:u}){let c=N.useRef(null),f=ei(!!(r&1),"focus-trap#initial-focus"),h=wc();return vc(()=>{if(r===0)return;if(!f){u!=null&&u.current&&dn(u.current);return}let p=i.current;p&&Jo(()=>{if(!h.current)return;let g=t==null?void 0:t.activeElement;if(o!=null&&o.current){if((o==null?void 0:o.current)===g){c.current=g;return}}else if(p.contains(g)){c.current=g;return}if(o!=null&&o.current)dn(o.current);else{if(r&16){if(Zi(p,un.First|un.AutoFocus)!==$a.Error)return}else if(Zi(p,un.First)!==$a.Error)return;if(u!=null&&u.current&&(dn(u.current),(t==null?void 0:t.activeElement)===u.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}c.current=t==null?void 0:t.activeElement})},[u,f,r]),c}function UC(r,{ownerDocument:t,container:i,containers:o,previousActiveElement:u}){let c=wc(),f=!!(r&4);wg(t==null?void 0:t.defaultView,"focus",h=>{if(!f||!c.current)return;let p=xg(o);i.current instanceof HTMLElement&&p.add(i.current);let g=u.current;if(!g)return;let y=h.target;y&&y instanceof HTMLElement?Rg(p,y)?(u.current=y,dn(y)):(h.preventDefault(),h.stopPropagation(),dn(g)):dn(u.current)},!0)}function Rg(r,t){for(let i of r)if(i.contains(t))return!0;return!1}function Pg(r){var t;return!!(r.enter||r.enterFrom||r.enterTo||r.leave||r.leaveFrom||r.leaveTo)||((t=r.as)!=null?t:Og)!==N.Fragment||Z.Children.count(r.children)===1}let tl=N.createContext(null);tl.displayName="TransitionContext";var HC=(r=>(r.Visible="visible",r.Hidden="hidden",r))(HC||{});function BC(){let r=N.useContext(tl);if(r===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return r}function WC(){let r=N.useContext(nl);if(r===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return r}let nl=N.createContext(null);nl.displayName="NestingContext";function rl(r){return"children"in r?rl(r.children):r.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Dg(r,t){let i=gr(r),o=N.useRef([]),u=wc(),c=_c(),f=Pe((x,P=Fn.Hidden)=>{let z=o.current.findIndex(({el:F})=>F===x);z!==-1&&(Un(P,{[Fn.Unmount](){o.current.splice(z,1)},[Fn.Hidden](){o.current[z].state="hidden"}}),c.microTask(()=>{var F;!rl(o)&&u.current&&((F=i.current)==null||F.call(i))}))}),h=Pe(x=>{let P=o.current.find(({el:z})=>z===x);return P?P.state!=="visible"&&(P.state="visible"):o.current.push({el:x,state:"visible"}),()=>f(x,Fn.Unmount)}),p=N.useRef([]),g=N.useRef(Promise.resolve()),y=N.useRef({enter:[],leave:[]}),v=Pe((x,P,z)=>{p.current.splice(0),t&&(t.chains.current[P]=t.chains.current[P].filter(([F])=>F!==x)),t==null||t.chains.current[P].push([x,new Promise(F=>{p.current.push(F)})]),t==null||t.chains.current[P].push([x,new Promise(F=>{Promise.all(y.current[P].map(([Y,J])=>J)).then(()=>F())})]),P==="enter"?g.current=g.current.then(()=>t==null?void 0:t.wait.current).then(()=>z(P)):z(P)}),T=Pe((x,P,z)=>{Promise.all(y.current[P].splice(0).map(([F,Y])=>Y)).then(()=>{var F;(F=p.current.shift())==null||F()}).then(()=>z(P))});return N.useMemo(()=>({children:o,register:h,unregister:f,onStart:v,onStop:T,wait:g,chains:y}),[h,f,o,v,T,y,g])}let Og=N.Fragment,Ag=$o.RenderStrategy;function VC(r,t){var i,o;let{transition:u=!0,beforeEnter:c,afterEnter:f,beforeLeave:h,afterLeave:p,enter:g,enterFrom:y,enterTo:v,entered:T,leave:x,leaveFrom:P,leaveTo:z,...F}=r,[Y,J]=N.useState(null),ee=N.useRef(null),te=Pg(r),De=Jt(...te?[ee,t,J]:t===null?[]:[t]),Ee=(i=F.unmount)==null||i?Fn.Unmount:Fn.Hidden,{show:ye,appear:Qe,initial:wt}=BC(),[Oe,lt]=N.useState(ye?"visible":"hidden"),Ze=WC(),{register:Fe,unregister:He}=Ze;ct(()=>Fe(ee),[Fe,ee]),ct(()=>{if(Ee===Fn.Hidden&&ee.current){if(ye&&Oe!=="visible"){lt("visible");return}return Un(Oe,{hidden:()=>He(ee),visible:()=>Fe(ee)})}},[Oe,ee,Fe,He,ye,Ee]);let et=ds();ct(()=>{if(te&&et&&Oe==="visible"&&ee.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[ee,Oe,et,te]);let ze=wt&&!Qe,_e=Qe&&ye&&wt,L=N.useRef(!1),V=Dg(()=>{L.current||(lt("hidden"),He(ee))},Ze),$=Pe(fe=>{L.current=!0;let ue=fe?"enter":"leave";V.onStart(ee,ue,he=>{he==="enter"?c==null||c():he==="leave"&&(h==null||h())})}),S=Pe(fe=>{let ue=fe?"enter":"leave";L.current=!1,V.onStop(ee,ue,he=>{he==="enter"?f==null||f():he==="leave"&&(p==null||p())}),ue==="leave"&&!rl(V)&&(lt("hidden"),He(ee))});N.useEffect(()=>{te&&u||($(ye),S(ye))},[ye,te,u]);let R=!(!u||!te||!et||ze),[,K]=hC(R,Y,ye,{start:$,end:S}),ne=ir({ref:De,className:((o=ba(F.className,_e&&g,_e&&y,K.enter&&g,K.enter&&K.closed&&y,K.enter&&!K.closed&&v,K.leave&&x,K.leave&&!K.closed&&P,K.leave&&K.closed&&z,!K.transition&&ye&&T))==null?void 0:o.trim())||void 0,...fC(K)}),re=0;Oe==="visible"&&(re|=Bt.Open),Oe==="hidden"&&(re|=Bt.Closed),K.enter&&(re|=Bt.Opening),K.leave&&(re|=Bt.Closing);let le=Mt();return Z.createElement(nl.Provider,{value:V},Z.createElement(_C,{value:re},le({ourProps:ne,theirProps:F,defaultTag:Og,features:Ag,visible:Oe==="visible",name:"Transition.Child"})))}function GC(r,t){let{show:i,appear:o=!1,unmount:u=!0,...c}=r,f=N.useRef(null),h=Pg(r),p=Jt(...h?[f,t]:t===null?[]:[t]);ds();let g=el();if(i===void 0&&g!==null&&(i=(g&Bt.Open)===Bt.Open),i===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[y,v]=N.useState(i?"visible":"hidden"),T=Dg(()=>{i||v("hidden")}),[x,P]=N.useState(!0),z=N.useRef([i]);ct(()=>{x!==!1&&z.current[z.current.length-1]!==i&&(z.current.push(i),P(!1))},[z,i]);let F=N.useMemo(()=>({show:i,appear:o,initial:x}),[i,o,x]);ct(()=>{i?v("visible"):!rl(T)&&f.current!==null&&v("hidden")},[i,T]);let Y={unmount:u},J=Pe(()=>{var De;x&&P(!1),(De=r.beforeEnter)==null||De.call(r)}),ee=Pe(()=>{var De;x&&P(!1),(De=r.beforeLeave)==null||De.call(r)}),te=Mt();return Z.createElement(nl.Provider,{value:T},Z.createElement(tl.Provider,{value:F},te({ourProps:{...Y,as:N.Fragment,children:Z.createElement(Mg,{ref:p,...Y,...c,beforeEnter:J,beforeLeave:ee})},theirProps:{},defaultTag:N.Fragment,features:Ag,visible:y==="visible",name:"Transition"})))}function KC(r,t){let i=N.useContext(tl)!==null,o=el()!==null;return Z.createElement(Z.Fragment,null,!i&&o?Z.createElement(Ha,{ref:t,...r}):Z.createElement(Mg,{ref:t,...r}))}let Ha=vt(GC),Mg=vt(VC),Ec=vt(KC),QC=Object.assign(Ha,{Child:Ec,Root:Ha});var qC=(r=>(r[r.Open=0]="Open",r[r.Closed=1]="Closed",r))(qC||{}),YC=(r=>(r[r.SetTitleId=0]="SetTitleId",r))(YC||{});let XC={0(r,t){return r.titleId===t.id?r:{...r,titleId:t.id}}},Sc=N.createContext(null);Sc.displayName="DialogContext";function il(r){let t=N.useContext(Sc);if(t===null){let i=new Error(`<${r} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,il),i}return t}function JC(r,t){return Un(t.type,XC,r,t)}let xp=vt(function(r,t){let i=N.useId(),{id:o=`headlessui-dialog-${i}`,open:u,onClose:c,initialFocus:f,role:h="dialog",autoFocus:p=!0,__demoMode:g=!1,unmount:y=!1,...v}=r,T=N.useRef(!1);h=function(){return h==="dialog"||h==="alertdialog"?h:(T.current||(T.current=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let x=el();u===void 0&&x!==null&&(u=(x&Bt.Open)===Bt.Open);let P=N.useRef(null),z=Jt(P,t),F=cs(P),Y=u?0:1,[J,ee]=N.useReducer(JC,{titleId:null,descriptionId:null,panelRef:N.createRef()}),te=Pe(()=>c(!1)),De=Pe(S=>ee({type:0,id:S})),Ee=ds()?Y===0:!1,[ye,Qe]=NC(),wt={get current(){var S;return(S=J.panelRef.current)!=null?S:P.current}},Oe=Ng(),{resolveContainers:lt}=OC({mainTreeNode:Oe,portals:ye,defaultContainers:[wt]}),Ze=x!==null?(x&Bt.Closing)===Bt.Closing:!1;B0(g||Ze?!1:Ee,{allowed:Pe(()=>{var S,R;return[(R=(S=P.current)==null?void 0:S.closest("[data-headlessui-portal]"))!=null?R:null]}),disallowed:Pe(()=>{var S;return[(S=Oe==null?void 0:Oe.closest("body > *:not(#headlessui-portal-root)"))!=null?S:null]})}),nC(Ee,lt,S=>{S.preventDefault(),te()}),PC(Ee,F==null?void 0:F.defaultView,S=>{S.preventDefault(),S.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),te()}),uC(g||Ze?!1:Ee,F,lt),W0(Ee,P,te);let[Fe,He]=L0(),et=N.useMemo(()=>[{dialogState:Y,close:te,setTitleId:De,unmount:y},J],[Y,J,te,De,y]),ze=N.useMemo(()=>({open:Y===0}),[Y]),_e={ref:z,id:o,role:h,tabIndex:-1,"aria-modal":g?void 0:Y===0?!0:void 0,"aria-labelledby":J.titleId,"aria-describedby":Fe,unmount:y},L=!DC(),V=sr.None;Ee&&!g&&(V|=sr.RestoreFocus,V|=sr.TabLock,p&&(V|=sr.AutoFocus),L&&(V|=sr.InitialFocus));let $=Mt();return Z.createElement(yC,null,Z.createElement(Ip,{force:!0},Z.createElement(RC,null,Z.createElement(Sc.Provider,{value:et},Z.createElement(Tg,{target:P},Z.createElement(Ip,{force:!1},Z.createElement(He,{slot:ze},Z.createElement(Qe,null,Z.createElement(bC,{initialFocus:f,initialFocusFallback:P,containers:lt,features:V},Z.createElement($0,{value:te},$({ourProps:_e,theirProps:v,slot:ze,defaultTag:ZC,features:e1,visible:Y===0,name:"Dialog"})))))))))))}),ZC="div",e1=$o.RenderStrategy|$o.Static;function t1(r,t){let{transition:i=!1,open:o,...u}=r,c=el(),f=r.hasOwnProperty("open")||c!==null,h=r.hasOwnProperty("onClose");if(!f&&!h)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!f)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!h)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!c&&typeof r.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r.open}`);if(typeof r.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${r.onClose}`);return(o!==void 0||i)&&!u.static?Z.createElement(Np,null,Z.createElement(QC,{show:o,transition:i,unmount:u.unmount},Z.createElement(xp,{ref:t,...u}))):Z.createElement(Np,null,Z.createElement(xp,{ref:t,open:o,...u}))}let n1="div";function r1(r,t){let i=N.useId(),{id:o=`headlessui-dialog-panel-${i}`,transition:u=!1,...c}=r,[{dialogState:f,unmount:h},p]=il("Dialog.Panel"),g=Jt(t,p.panelRef),y=N.useMemo(()=>({open:f===0}),[f]),v=Pe(F=>{F.stopPropagation()}),T={ref:g,id:o,onClick:v},x=u?Ec:N.Fragment,P=u?{unmount:h}:{},z=Mt();return Z.createElement(x,{...P},z({ourProps:T,theirProps:c,slot:y,defaultTag:n1,name:"Dialog.Panel"}))}let i1="div";function s1(r,t){let{transition:i=!1,...o}=r,[{dialogState:u,unmount:c}]=il("Dialog.Backdrop"),f=N.useMemo(()=>({open:u===0}),[u]),h={ref:t,"aria-hidden":!0},p=i?Ec:N.Fragment,g=i?{unmount:c}:{},y=Mt();return Z.createElement(p,{...g},y({ourProps:h,theirProps:o,slot:f,defaultTag:i1,name:"Dialog.Backdrop"}))}let o1="h2";function l1(r,t){let i=N.useId(),{id:o=`headlessui-dialog-title-${i}`,...u}=r,[{dialogState:c,setTitleId:f}]=il("Dialog.Title"),h=Jt(t);N.useEffect(()=>(f(o),()=>f(null)),[o,f]);let p=N.useMemo(()=>({open:c===0}),[c]),g={ref:h,id:o};return Mt()({ourProps:g,theirProps:u,slot:p,defaultTag:o1,name:"Dialog.Title"})}let u1=vt(t1),Lg=vt(r1);vt(s1);let Fg=vt(l1),a1=Object.assign(u1,{Panel:Lg,Title:Fg,Description:hg});function c1(r){var t,i,o,u;return j.jsx(a1,{open:r.isOpen,onClose:r.onClose,className:"bg-gray-900 bg-opacity-50 fixed inset-0 z-10 flex items-center justify-center",children:j.jsxs(Lg,{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[j.jsx(Fg,{className:"text-lg font-semibold text-gray-900",children:(t=r.itemM)==null?void 0:t.name}),j.jsx(hg,{className:"mt-2 text-gray-600",children:(i=r.itemM)==null?void 0:i.desc}),j.jsxs("p",{className:"mt-4 text-sm text-gray-700",children:["Precio por cada una: ",(o=r.itemM)==null?void 0:o.price,"$"]}),j.jsxs("p",{className:"mt-4 text-sm text-gray-700",children:["Quedan en total: ",(u=r.itemM)==null?void 0:u.quantity]}),j.jsx("div",{className:"mt-6 flex justify-end",children:j.jsx("button",{onClick:r.onClose,className:"px-4 py-2 bg-blue-600 text-white rounded-md shadow hover:bg-blue-700",children:"Cerra"})})]})})}const bg=Z.createContext([]);function d1(){const[r,t]=N.useState(!1),[i,o]=N.useState(!1),[u,c]=N.useState(),[f]=N.useState([{id:1,name:"Hamburguesa de Pollo",quantity:40,desc:"Hamburguesa de pollo frito con lechuga, tomate y mayonesa",price:24,image:"Hamburg.jpg"},{id:2,name:"Hamburguesa de Vacuno",quantity:50,desc:"Hamburguesa de Vacuno frito con tomate y mayonesa",price:26,image:"Hamburg.jpg"},{id:3,name:"Hamburguesa de Cerdo",quantity:60,desc:"Hamburguesa de Cerdo frito con tocino y mayonesa",price:26,image:"Hamburg.jpg"},{id:4,name:"Hamburguesa de Hormiga",quantity:70,desc:"Hamburguesa de Hormiga frita con tierra, tomate y mayonesa",price:26,image:"Hamburg.jpg"}]);return j.jsxs(bg.Provider,{value:f,children:[j.jsxs("div",{className:"App",children:[j.jsx("button",{className:"toggleButton",onClick:()=>{t(!r),o(!1)},children:r?"Disponibilidad":"Pedir Comida"}),j.jsx("h3",{className:"title",children:"Comida Rápida Online"}),!r&&j.jsxs(j.Fragment,{children:[j.jsx("h4",{className:"subTitle",children:"Menús"}),j.jsx("ul",{className:"ulApp",children:f.map(h=>j.jsx(j.Fragment,{children:j.jsxs("li",{className:"liApp",children:[j.jsx("p",{children:h.name}),j.jsxs("p",{children:["#",h.quantity]}),j.jsx("button",{onClick:()=>{o(!0),c(h)},className:"border rounded-2xl bg-cyan-700 text-white shadow-sm p-1 px-2 m-2",children:"Ver detalle"})]},h.id)}))})]}),r&&j.jsx(E0,{foodItems:f})]}),j.jsx("div",{children:j.jsx(c1,{isOpen:i,onClose:()=>{o(!1)},itemM:u})})]})}Wy.createRoot(document.getElementById("root")).render(j.jsx(N.StrictMode,{children:j.jsx(d1,{})}));
