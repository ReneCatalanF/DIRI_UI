var v0=Object.defineProperty;var _0=(t,e,r)=>e in t?v0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Cu=(t,e,r)=>_0(t,typeof e!="symbol"?e+"":e,r);function E0(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function S0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tu={exports:{}},ss={},xu={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function w0(){if(dp)return le;dp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function D(C,A,Z){this.props=C,this.context=A,this.refs=P,this.updater=Z||R}D.prototype.isReactComponent={},D.prototype.setState=function(C,A){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,A,"setState")},D.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function $(){}$.prototype=D.prototype;function G(C,A,Z){this.props=C,this.context=A,this.refs=P,this.updater=Z||R}var B=G.prototype=new $;B.constructor=G,k(B,D.prototype),B.isPureReactComponent=!0;var J=Array.isArray,L=Object.prototype.hasOwnProperty,ie={current:null},ye={key:!0,ref:!0,__self:!0,__source:!0};function Qe(C,A,Z){var se,oe={},fe=null,ve=null;if(A!=null)for(se in A.ref!==void 0&&(ve=A.ref),A.key!==void 0&&(fe=""+A.key),A)L.call(A,se)&&!ye.hasOwnProperty(se)&&(oe[se]=A[se]);var de=arguments.length-2;if(de===1)oe.children=Z;else if(1<de){for(var _e=Array(de),Nt=0;Nt<de;Nt++)_e[Nt]=arguments[Nt+2];oe.children=_e}if(C&&C.defaultProps)for(se in de=C.defaultProps,de)oe[se]===void 0&&(oe[se]=de[se]);return{$$typeof:t,type:C,key:fe,ref:ve,props:oe,_owner:ie.current}}function It(C,A){return{$$typeof:t,type:C.type,key:A,ref:C.ref,props:C.props,_owner:C._owner}}function Fe(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function dt(C){var A={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Z){return A[Z]})}var it=/\/+/g;function je(C,A){return typeof C=="object"&&C!==null&&C.key!=null?dt(""+C.key):A.toString(36)}function qe(C,A,Z,se,oe){var fe=typeof C;(fe==="undefined"||fe==="boolean")&&(C=null);var ve=!1;if(C===null)ve=!0;else switch(fe){case"string":case"number":ve=!0;break;case"object":switch(C.$$typeof){case t:case e:ve=!0}}if(ve)return ve=C,oe=oe(ve),C=se===""?"."+je(ve,0):se,J(oe)?(Z="",C!=null&&(Z=C.replace(it,"$&/")+"/"),qe(oe,A,Z,"",function(Nt){return Nt})):oe!=null&&(Fe(oe)&&(oe=It(oe,Z+(!oe.key||ve&&ve.key===oe.key?"":(""+oe.key).replace(it,"$&/")+"/")+C)),A.push(oe)),1;if(ve=0,se=se===""?".":se+":",J(C))for(var de=0;de<C.length;de++){fe=C[de];var _e=se+je(fe,de);ve+=qe(fe,A,Z,_e,oe)}else if(_e=S(C),typeof _e=="function")for(C=_e.call(C),de=0;!(fe=C.next()).done;)fe=fe.value,_e=se+je(fe,de++),ve+=qe(fe,A,Z,_e,oe);else if(fe==="object")throw A=String(C),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return ve}function st(C,A,Z){if(C==null)return C;var se=[],oe=0;return qe(C,se,"","",function(fe){return A.call(Z,fe,oe++)}),se}function ze(C){if(C._status===-1){var A=C._result;A=A(),A.then(function(Z){(C._status===0||C._status===-1)&&(C._status=1,C._result=Z)},function(Z){(C._status===0||C._status===-1)&&(C._status=2,C._result=Z)}),C._status===-1&&(C._status=0,C._result=A)}if(C._status===1)return C._result.default;throw C._result}var Te={current:null},U={transition:null},K={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:U,ReactCurrentOwner:ie};function z(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:st,forEach:function(C,A,Z){st(C,function(){A.apply(this,arguments)},Z)},count:function(C){var A=0;return st(C,function(){A++}),A},toArray:function(C){return st(C,function(A){return A})||[]},only:function(C){if(!Fe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},le.Component=D,le.Fragment=r,le.Profiler=l,le.PureComponent=G,le.StrictMode=s,le.Suspense=p,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,le.act=z,le.cloneElement=function(C,A,Z){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var se=k({},C.props),oe=C.key,fe=C.ref,ve=C._owner;if(A!=null){if(A.ref!==void 0&&(fe=A.ref,ve=ie.current),A.key!==void 0&&(oe=""+A.key),C.type&&C.type.defaultProps)var de=C.type.defaultProps;for(_e in A)L.call(A,_e)&&!ye.hasOwnProperty(_e)&&(se[_e]=A[_e]===void 0&&de!==void 0?de[_e]:A[_e])}var _e=arguments.length-2;if(_e===1)se.children=Z;else if(1<_e){de=Array(_e);for(var Nt=0;Nt<_e;Nt++)de[Nt]=arguments[Nt+2];se.children=de}return{$$typeof:t,type:C.type,key:oe,ref:fe,props:se,_owner:ve}},le.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:u,_context:C},C.Consumer=C},le.createElement=Qe,le.createFactory=function(C){var A=Qe.bind(null,C);return A.type=C,A},le.createRef=function(){return{current:null}},le.forwardRef=function(C){return{$$typeof:h,render:C}},le.isValidElement=Fe,le.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:ze}},le.memo=function(C,A){return{$$typeof:g,type:C,compare:A===void 0?null:A}},le.startTransition=function(C){var A=U.transition;U.transition={};try{C()}finally{U.transition=A}},le.unstable_act=z,le.useCallback=function(C,A){return Te.current.useCallback(C,A)},le.useContext=function(C){return Te.current.useContext(C)},le.useDebugValue=function(){},le.useDeferredValue=function(C){return Te.current.useDeferredValue(C)},le.useEffect=function(C,A){return Te.current.useEffect(C,A)},le.useId=function(){return Te.current.useId()},le.useImperativeHandle=function(C,A,Z){return Te.current.useImperativeHandle(C,A,Z)},le.useInsertionEffect=function(C,A){return Te.current.useInsertionEffect(C,A)},le.useLayoutEffect=function(C,A){return Te.current.useLayoutEffect(C,A)},le.useMemo=function(C,A){return Te.current.useMemo(C,A)},le.useReducer=function(C,A,Z){return Te.current.useReducer(C,A,Z)},le.useRef=function(C){return Te.current.useRef(C)},le.useState=function(C){return Te.current.useState(C)},le.useSyncExternalStore=function(C,A,Z){return Te.current.useSyncExternalStore(C,A,Z)},le.useTransition=function(){return Te.current.useTransition()},le.version="18.3.1",le}var hp;function Ac(){return hp||(hp=1,xu.exports=w0()),xu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function C0(){if(pp)return ss;pp=1;var t=Ac(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,p,g){var y,v={},S=null,R=null;g!==void 0&&(S=""+g),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(R=p.ref);for(y in p)s.call(p,y)&&!u.hasOwnProperty(y)&&(v[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:e,type:h,key:S,ref:R,props:v,_owner:l.current}}return ss.Fragment=r,ss.jsx=f,ss.jsxs=f,ss}var mp;function T0(){return mp||(mp=1,Tu.exports=C0()),Tu.exports}var F=T0(),x=Ac();const re=S0(x),gp=E0({__proto__:null,default:re},[x]);var Go={},Iu={exports:{}},wt={},Nu={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function x0(){return yp||(yp=1,function(t){function e(U,K){var z=U.length;U.push(K);e:for(;0<z;){var C=z-1>>>1,A=U[C];if(0<l(A,K))U[C]=K,U[z]=A,z=C;else break e}}function r(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var K=U[0],z=U.pop();if(z!==K){U[0]=z;e:for(var C=0,A=U.length,Z=A>>>1;C<Z;){var se=2*(C+1)-1,oe=U[se],fe=se+1,ve=U[fe];if(0>l(oe,z))fe<A&&0>l(ve,oe)?(U[C]=ve,U[fe]=z,C=fe):(U[C]=oe,U[se]=z,C=se);else if(fe<A&&0>l(ve,z))U[C]=ve,U[fe]=z,C=fe;else break e}}return K}function l(U,K){var z=U.sortIndex-K.sortIndex;return z!==0?z:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();t.unstable_now=function(){return f.now()-h}}var p=[],g=[],y=1,v=null,S=3,R=!1,k=!1,P=!1,D=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(U){for(var K=r(g);K!==null;){if(K.callback===null)s(g);else if(K.startTime<=U)s(g),K.sortIndex=K.expirationTime,e(p,K);else break;K=r(g)}}function J(U){if(P=!1,B(U),!k)if(r(p)!==null)k=!0,ze(L);else{var K=r(g);K!==null&&Te(J,K.startTime-U)}}function L(U,K){k=!1,P&&(P=!1,$(Qe),Qe=-1),R=!0;var z=S;try{for(B(K),v=r(p);v!==null&&(!(v.expirationTime>K)||U&&!dt());){var C=v.callback;if(typeof C=="function"){v.callback=null,S=v.priorityLevel;var A=C(v.expirationTime<=K);K=t.unstable_now(),typeof A=="function"?v.callback=A:v===r(p)&&s(p),B(K)}else s(p);v=r(p)}if(v!==null)var Z=!0;else{var se=r(g);se!==null&&Te(J,se.startTime-K),Z=!1}return Z}finally{v=null,S=z,R=!1}}var ie=!1,ye=null,Qe=-1,It=5,Fe=-1;function dt(){return!(t.unstable_now()-Fe<It)}function it(){if(ye!==null){var U=t.unstable_now();Fe=U;var K=!0;try{K=ye(!0,U)}finally{K?je():(ie=!1,ye=null)}}else ie=!1}var je;if(typeof G=="function")je=function(){G(it)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,st=qe.port2;qe.port1.onmessage=it,je=function(){st.postMessage(null)}}else je=function(){D(it,0)};function ze(U){ye=U,ie||(ie=!0,je())}function Te(U,K){Qe=D(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){k||R||(k=!0,ze(L))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):It=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return r(p)},t.unstable_next=function(U){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var z=S;S=K;try{return U()}finally{S=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var z=S;S=U;try{return K()}finally{S=z}},t.unstable_scheduleCallback=function(U,K,z){var C=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?C+z:C):z=C,U){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=z+A,U={id:y++,callback:K,priorityLevel:U,startTime:z,expirationTime:A,sortIndex:-1},z>C?(U.sortIndex=z,e(g,U),r(p)===null&&U===r(g)&&(P?($(Qe),Qe=-1):P=!0,Te(J,z-C))):(U.sortIndex=A,e(p,U),k||R||(k=!0,ze(L))),U},t.unstable_shouldYield=dt,t.unstable_wrapCallback=function(U){var K=S;return function(){var z=S;S=K;try{return U.apply(this,arguments)}finally{S=z}}}}(Ru)),Ru}var vp;function I0(){return vp||(vp=1,Nu.exports=x0()),Nu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function N0(){if(_p)return wt;_p=1;var t=Ac(),e=I0();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(n,i){f(n,i),f(n+"Capture",i)}function f(n,i){for(l[n]=i,n=0;n<i.length;n++)s.add(i[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function S(n){return p.call(v,n)?!0:p.call(y,n)?!1:g.test(n)?v[n]=!0:(y[n]=!0,!1)}function R(n,i,o,a){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,i,o,a){if(i===null||typeof i>"u"||R(n,i,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function P(n,i,o,a,c,d,m){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=n,this.type=i,this.sanitizeURL=d,this.removeEmptyString=m}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){D[n]=new P(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];D[i]=new P(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){D[n]=new P(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){D[n]=new P(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){D[n]=new P(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){D[n]=new P(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){D[n]=new P(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){D[n]=new P(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){D[n]=new P(n,5,!1,n.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function G(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace($,G);D[i]=new P(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace($,G);D[i]=new P(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace($,G);D[i]=new P(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){D[n]=new P(n,1,!1,n.toLowerCase(),null,!1,!1)}),D.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){D[n]=new P(n,1,!1,n.toLowerCase(),null,!0,!0)});function B(n,i,o,a){var c=D.hasOwnProperty(i)?D[i]:null;(c!==null?c.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,o,c,a)&&(o=null),a||c===null?S(i)&&(o===null?n.removeAttribute(i):n.setAttribute(i,""+o)):c.mustUseProperty?n[c.propertyName]=o===null?c.type===3?!1:"":o:(i=c.attributeName,a=c.attributeNamespace,o===null?n.removeAttribute(i):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?n.setAttributeNS(a,i,o):n.setAttribute(i,o))))}var J=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),ie=Symbol.for("react.portal"),ye=Symbol.for("react.fragment"),Qe=Symbol.for("react.strict_mode"),It=Symbol.for("react.profiler"),Fe=Symbol.for("react.provider"),dt=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),U=Symbol.iterator;function K(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var z=Object.assign,C;function A(n){if(C===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);C=i&&i[1]||""}return`
`+C+n}var Z=!1;function se(n,i){if(!n||Z)return"";Z=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(N){var a=N}Reflect.construct(n,[],i)}else{try{i.call()}catch(N){a=N}n.call(i.prototype)}else{try{throw Error()}catch(N){a=N}n()}}catch(N){if(N&&a&&typeof N.stack=="string"){for(var c=N.stack.split(`
`),d=a.stack.split(`
`),m=c.length-1,_=d.length-1;1<=m&&0<=_&&c[m]!==d[_];)_--;for(;1<=m&&0<=_;m--,_--)if(c[m]!==d[_]){if(m!==1||_!==1)do if(m--,_--,0>_||c[m]!==d[_]){var E=`
`+c[m].replace(" at new "," at ");return n.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",n.displayName)),E}while(1<=m&&0<=_);break}}}finally{Z=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?A(n):""}function oe(n){switch(n.tag){case 5:return A(n.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return n=se(n.type,!1),n;case 11:return n=se(n.type.render,!1),n;case 1:return n=se(n.type,!0),n;default:return""}}function fe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ye:return"Fragment";case ie:return"Portal";case It:return"Profiler";case Qe:return"StrictMode";case je:return"Suspense";case qe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case dt:return(n.displayName||"Context")+".Consumer";case Fe:return(n._context.displayName||"Context")+".Provider";case it:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case st:return i=n.displayName||null,i!==null?i:fe(n.type)||"Memo";case ze:i=n._payload,n=n._init;try{return fe(n(i))}catch{}}return null}function ve(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(i);case 8:return i===Qe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function de(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _e(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Nt(n){var i=_e(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),a=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,d.call(this,m)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ds(n){n._valueTracker||(n._valueTracker=Nt(n))}function vf(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),a="";return n&&(a=_e(n)?n.checked?"true":"false":n.value),n=a,n!==o?(i.setValue(n),!0):!1}function Ls(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Pl(n,i){var o=i.checked;return z({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function _f(n,i){var o=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;o=de(i.value!=null?i.value:o),n._wrapperState={initialChecked:a,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ef(n,i){i=i.checked,i!=null&&B(n,"checked",i,!1)}function Al(n,i){Ef(n,i);var o=de(i.value),a=i.type;if(o!=null)a==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(a==="submit"||a==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?bl(n,i.type,o):i.hasOwnProperty("defaultValue")&&bl(n,i.type,de(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Sf(n,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,o||i===n.value||(n.value=i),n.defaultValue=i}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function bl(n,i,o){(i!=="number"||Ls(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var Ei=Array.isArray;function Or(n,i,o,a){if(n=n.options,i){i={};for(var c=0;c<o.length;c++)i["$"+o[c]]=!0;for(o=0;o<n.length;o++)c=i.hasOwnProperty("$"+n[o].value),n[o].selected!==c&&(n[o].selected=c),c&&a&&(n[o].defaultSelected=!0)}else{for(o=""+de(o),i=null,c=0;c<n.length;c++){if(n[c].value===o){n[c].selected=!0,a&&(n[c].defaultSelected=!0);return}i!==null||n[c].disabled||(i=n[c])}i!==null&&(i.selected=!0)}}function Ol(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return z({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function wf(n,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(r(92));if(Ei(o)){if(1<o.length)throw Error(r(93));o=o[0]}i=o}i==null&&(i=""),o=i}n._wrapperState={initialValue:de(o)}}function Cf(n,i){var o=de(i.value),a=de(i.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),i.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),a!=null&&(n.defaultValue=""+a)}function Tf(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function xf(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dl(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?xf(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ms,If=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,a,c){MSApp.execUnsafeLocalFunction(function(){return n(i,o,a,c)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Ms=Ms||document.createElement("div"),Ms.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ms.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Si(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cv=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(n){Cv.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),wi[i]=wi[n]})});function Nf(n,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||wi.hasOwnProperty(n)&&wi[n]?(""+i).trim():i+"px"}function Rf(n,i){n=n.style;for(var o in i)if(i.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=Nf(o,i[o],a);o==="float"&&(o="cssFloat"),a?n.setProperty(o,c):n[o]=c}}var Tv=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(n,i){if(i){if(Tv[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Ml(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function Hl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Bl=null,Dr=null,Lr=null;function kf(n){if(n=Wi(n)){if(typeof Bl!="function")throw Error(r(280));var i=n.stateNode;i&&(i=so(i),Bl(n.stateNode,n.type,i))}}function Pf(n){Dr?Lr?Lr.push(n):Lr=[n]:Dr=n}function Af(){if(Dr){var n=Dr,i=Lr;if(Lr=Dr=null,kf(n),i)for(n=0;n<i.length;n++)kf(i[n])}}function bf(n,i){return n(i)}function Of(){}var Ul=!1;function Df(n,i,o){if(Ul)return n(i,o);Ul=!0;try{return bf(n,i,o)}finally{Ul=!1,(Dr!==null||Lr!==null)&&(Of(),Af())}}function Ci(n,i){var o=n.stateNode;if(o===null)return null;var a=so(o);if(a===null)return null;o=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(n=n.type,a=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!a;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var jl=!1;if(h)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){jl=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{jl=!1}function xv(n,i,o,a,c,d,m,_,E){var N=Array.prototype.slice.call(arguments,3);try{i.apply(o,N)}catch(O){this.onError(O)}}var xi=!1,Fs=null,Hs=!1,$l=null,Iv={onError:function(n){xi=!0,Fs=n}};function Nv(n,i,o,a,c,d,m,_,E){xi=!1,Fs=null,xv.apply(Iv,arguments)}function Rv(n,i,o,a,c,d,m,_,E){if(Nv.apply(this,arguments),xi){if(xi){var N=Fs;xi=!1,Fs=null}else throw Error(r(198));Hs||(Hs=!0,$l=N)}}function rr(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function Lf(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Mf(n){if(rr(n)!==n)throw Error(r(188))}function kv(n){var i=n.alternate;if(!i){if(i=rr(n),i===null)throw Error(r(188));return i!==n?null:n}for(var o=n,a=i;;){var c=o.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===o)return Mf(c),n;if(d===a)return Mf(c),i;d=d.sibling}throw Error(r(188))}if(o.return!==a.return)o=c,a=d;else{for(var m=!1,_=c.child;_;){if(_===o){m=!0,o=c,a=d;break}if(_===a){m=!0,a=c,o=d;break}_=_.sibling}if(!m){for(_=d.child;_;){if(_===o){m=!0,o=d,a=c;break}if(_===a){m=!0,a=d,o=c;break}_=_.sibling}if(!m)throw Error(r(189))}}if(o.alternate!==a)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:i}function Ff(n){return n=kv(n),n!==null?Hf(n):null}function Hf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Hf(n);if(i!==null)return i;n=n.sibling}return null}var Bf=e.unstable_scheduleCallback,Uf=e.unstable_cancelCallback,Pv=e.unstable_shouldYield,Av=e.unstable_requestPaint,Be=e.unstable_now,bv=e.unstable_getCurrentPriorityLevel,zl=e.unstable_ImmediatePriority,jf=e.unstable_UserBlockingPriority,Bs=e.unstable_NormalPriority,Ov=e.unstable_LowPriority,$f=e.unstable_IdlePriority,Us=null,en=null;function Dv(n){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Us,n,void 0,(n.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Fv,Lv=Math.log,Mv=Math.LN2;function Fv(n){return n>>>=0,n===0?32:31-(Lv(n)/Mv|0)|0}var js=64,$s=4194304;function Ii(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zs(n,i){var o=n.pendingLanes;if(o===0)return 0;var a=0,c=n.suspendedLanes,d=n.pingedLanes,m=o&268435455;if(m!==0){var _=m&~c;_!==0?a=Ii(_):(d&=m,d!==0&&(a=Ii(d)))}else m=o&~c,m!==0?a=Ii(m):d!==0&&(a=Ii(d));if(a===0)return 0;if(i!==0&&i!==a&&!(i&c)&&(c=a&-a,d=i&-i,c>=d||c===16&&(d&4194240)!==0))return i;if(a&4&&(a|=o&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=a;0<i;)o=31-Wt(i),c=1<<o,a|=n[o],i&=~c;return a}function Hv(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bv(n,i){for(var o=n.suspendedLanes,a=n.pingedLanes,c=n.expirationTimes,d=n.pendingLanes;0<d;){var m=31-Wt(d),_=1<<m,E=c[m];E===-1?(!(_&o)||_&a)&&(c[m]=Hv(_,i)):E<=i&&(n.expiredLanes|=_),d&=~_}}function Wl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function zf(){var n=js;return js<<=1,!(js&4194240)&&(js=64),n}function Gl(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Ni(n,i,o){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Wt(i),n[i]=o}function Uv(n,i){var o=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var a=n.eventTimes;for(n=n.expirationTimes;0<o;){var c=31-Wt(o),d=1<<c;i[c]=0,a[c]=-1,n[c]=-1,o&=~d}}function Vl(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var a=31-Wt(o),c=1<<a;c&i|n[a]&i&&(n[a]|=i),o&=~c}}var we=0;function Wf(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Gf,Ql,Vf,Qf,qf,ql=!1,Ws=[],kn=null,Pn=null,An=null,Ri=new Map,ki=new Map,bn=[],jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yf(n,i){switch(n){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Ri.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(i.pointerId)}}function Pi(n,i,o,a,c,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:o,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},i!==null&&(i=Wi(i),i!==null&&Ql(i)),n):(n.eventSystemFlags|=a,i=n.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),n)}function $v(n,i,o,a,c){switch(i){case"focusin":return kn=Pi(kn,n,i,o,a,c),!0;case"dragenter":return Pn=Pi(Pn,n,i,o,a,c),!0;case"mouseover":return An=Pi(An,n,i,o,a,c),!0;case"pointerover":var d=c.pointerId;return Ri.set(d,Pi(Ri.get(d)||null,n,i,o,a,c)),!0;case"gotpointercapture":return d=c.pointerId,ki.set(d,Pi(ki.get(d)||null,n,i,o,a,c)),!0}return!1}function Kf(n){var i=ir(n.target);if(i!==null){var o=rr(i);if(o!==null){if(i=o.tag,i===13){if(i=Lf(o),i!==null){n.blockedOn=i,qf(n.priority,function(){Vf(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gs(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Kl(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var a=new o.constructor(o.type,o);Fl=a,o.target.dispatchEvent(a),Fl=null}else return i=Wi(o),i!==null&&Ql(i),n.blockedOn=o,!1;i.shift()}return!0}function Xf(n,i,o){Gs(n)&&o.delete(i)}function zv(){ql=!1,kn!==null&&Gs(kn)&&(kn=null),Pn!==null&&Gs(Pn)&&(Pn=null),An!==null&&Gs(An)&&(An=null),Ri.forEach(Xf),ki.forEach(Xf)}function Ai(n,i){n.blockedOn===i&&(n.blockedOn=null,ql||(ql=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zv)))}function bi(n){function i(c){return Ai(c,n)}if(0<Ws.length){Ai(Ws[0],n);for(var o=1;o<Ws.length;o++){var a=Ws[o];a.blockedOn===n&&(a.blockedOn=null)}}for(kn!==null&&Ai(kn,n),Pn!==null&&Ai(Pn,n),An!==null&&Ai(An,n),Ri.forEach(i),ki.forEach(i),o=0;o<bn.length;o++)a=bn[o],a.blockedOn===n&&(a.blockedOn=null);for(;0<bn.length&&(o=bn[0],o.blockedOn===null);)Kf(o),o.blockedOn===null&&bn.shift()}var Mr=J.ReactCurrentBatchConfig,Vs=!0;function Wv(n,i,o,a){var c=we,d=Mr.transition;Mr.transition=null;try{we=1,Yl(n,i,o,a)}finally{we=c,Mr.transition=d}}function Gv(n,i,o,a){var c=we,d=Mr.transition;Mr.transition=null;try{we=4,Yl(n,i,o,a)}finally{we=c,Mr.transition=d}}function Yl(n,i,o,a){if(Vs){var c=Kl(n,i,o,a);if(c===null)ha(n,i,a,Qs,o),Yf(n,a);else if($v(c,n,i,o,a))a.stopPropagation();else if(Yf(n,a),i&4&&-1<jv.indexOf(n)){for(;c!==null;){var d=Wi(c);if(d!==null&&Gf(d),d=Kl(n,i,o,a),d===null&&ha(n,i,a,Qs,o),d===c)break;c=d}c!==null&&a.stopPropagation()}else ha(n,i,a,null,o)}}var Qs=null;function Kl(n,i,o,a){if(Qs=null,n=Hl(a),n=ir(n),n!==null)if(i=rr(n),i===null)n=null;else if(o=i.tag,o===13){if(n=Lf(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Qs=n,null}function Zf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bv()){case zl:return 1;case jf:return 4;case Bs:case Ov:return 16;case $f:return 536870912;default:return 16}default:return 16}}var On=null,Xl=null,qs=null;function Jf(){if(qs)return qs;var n,i=Xl,o=i.length,a,c="value"in On?On.value:On.textContent,d=c.length;for(n=0;n<o&&i[n]===c[n];n++);var m=o-n;for(a=1;a<=m&&i[o-a]===c[d-a];a++);return qs=c.slice(n,1<a?1-a:void 0)}function Ys(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ks(){return!0}function ed(){return!1}function Rt(n){function i(o,a,c,d,m){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(o=n[_],this[_]=o?o(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ks:ed,this.isPropagationStopped=ed,this}return z(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),i}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Rt(Fr),Oi=z({},Fr,{view:0,detail:0}),Vv=Rt(Oi),Jl,ea,Di,Xs=z({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Di&&(Di&&n.type==="mousemove"?(Jl=n.screenX-Di.screenX,ea=n.screenY-Di.screenY):ea=Jl=0,Di=n),Jl)},movementY:function(n){return"movementY"in n?n.movementY:ea}}),td=Rt(Xs),Qv=z({},Xs,{dataTransfer:0}),qv=Rt(Qv),Yv=z({},Oi,{relatedTarget:0}),ta=Rt(Yv),Kv=z({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xv=Rt(Kv),Zv=z({},Fr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Jv=Rt(Zv),e_=z({},Fr,{data:0}),nd=Rt(e_),t_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i_(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=r_[n])?!!i[n]:!1}function na(){return i_}var s_=z({},Oi,{key:function(n){if(n.key){var i=t_[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?n_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(n){return n.type==="keypress"?Ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),o_=Rt(s_),l_=z({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=Rt(l_),a_=z({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),u_=Rt(a_),c_=z({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),f_=Rt(c_),d_=z({},Xs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),h_=Rt(d_),p_=[9,13,27,32],ra=h&&"CompositionEvent"in window,Li=null;h&&"documentMode"in document&&(Li=document.documentMode);var m_=h&&"TextEvent"in window&&!Li,id=h&&(!ra||Li&&8<Li&&11>=Li),sd=" ",od=!1;function ld(n,i){switch(n){case"keyup":return p_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ad(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hr=!1;function g_(n,i){switch(n){case"compositionend":return ad(i);case"keypress":return i.which!==32?null:(od=!0,sd);case"textInput":return n=i.data,n===sd&&od?null:n;default:return null}}function y_(n,i){if(Hr)return n==="compositionend"||!ra&&ld(n,i)?(n=Jf(),qs=Xl=On=null,Hr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return id&&i.locale!=="ko"?null:i.data;default:return null}}var v_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ud(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!v_[n.type]:i==="textarea"}function cd(n,i,o,a){Pf(a),i=no(i,"onChange"),0<i.length&&(o=new Zl("onChange","change",null,o,a),n.push({event:o,listeners:i}))}var Mi=null,Fi=null;function __(n){Rd(n,0)}function Zs(n){var i=zr(n);if(vf(i))return n}function E_(n,i){if(n==="change")return i}var fd=!1;if(h){var ia;if(h){var sa="oninput"in document;if(!sa){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),sa=typeof dd.oninput=="function"}ia=sa}else ia=!1;fd=ia&&(!document.documentMode||9<document.documentMode)}function hd(){Mi&&(Mi.detachEvent("onpropertychange",pd),Fi=Mi=null)}function pd(n){if(n.propertyName==="value"&&Zs(Fi)){var i=[];cd(i,Fi,n,Hl(n)),Df(__,i)}}function S_(n,i,o){n==="focusin"?(hd(),Mi=i,Fi=o,Mi.attachEvent("onpropertychange",pd)):n==="focusout"&&hd()}function w_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zs(Fi)}function C_(n,i){if(n==="click")return Zs(i)}function T_(n,i){if(n==="input"||n==="change")return Zs(i)}function x_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Gt=typeof Object.is=="function"?Object.is:x_;function Hi(n,i){if(Gt(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),a=Object.keys(i);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!p.call(i,c)||!Gt(n[c],i[c]))return!1}return!0}function md(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gd(n,i){var o=md(n);n=0;for(var a;o;){if(o.nodeType===3){if(a=n+o.textContent.length,n<=i&&a>=i)return{node:o,offset:i-n};n=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=md(o)}}function yd(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?yd(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function vd(){for(var n=window,i=Ls();i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Ls(n.document)}return i}function oa(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function I_(n){var i=vd(),o=n.focusedElem,a=n.selectionRange;if(i!==o&&o&&o.ownerDocument&&yd(o.ownerDocument.documentElement,o)){if(a!==null&&oa(o)){if(i=a.start,n=a.end,n===void 0&&(n=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(n,o.value.length);else if(n=(i=o.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var c=o.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!n.extend&&d>a&&(c=a,a=d,d=c),c=gd(o,d);var m=gd(o,a);c&&m&&(n.rangeCount!==1||n.anchorNode!==c.node||n.anchorOffset!==c.offset||n.focusNode!==m.node||n.focusOffset!==m.offset)&&(i=i.createRange(),i.setStart(c.node,c.offset),n.removeAllRanges(),d>a?(n.addRange(i),n.extend(m.node,m.offset)):(i.setEnd(m.node,m.offset),n.addRange(i)))}}for(i=[],n=o;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)n=i[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var N_=h&&"documentMode"in document&&11>=document.documentMode,Br=null,la=null,Bi=null,aa=!1;function _d(n,i,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;aa||Br==null||Br!==Ls(a)||(a=Br,"selectionStart"in a&&oa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Bi&&Hi(Bi,a)||(Bi=a,a=no(la,"onSelect"),0<a.length&&(i=new Zl("onSelect","select",null,i,o),n.push({event:i,listeners:a}),i.target=Br)))}function Js(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Ur={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},ua={},Ed={};h&&(Ed=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function eo(n){if(ua[n])return ua[n];if(!Ur[n])return n;var i=Ur[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ed)return ua[n]=i[o];return n}var Sd=eo("animationend"),wd=eo("animationiteration"),Cd=eo("animationstart"),Td=eo("transitionend"),xd=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(n,i){xd.set(n,i),u(i,[n])}for(var ca=0;ca<Id.length;ca++){var fa=Id[ca],R_=fa.toLowerCase(),k_=fa[0].toUpperCase()+fa.slice(1);Dn(R_,"on"+k_)}Dn(Sd,"onAnimationEnd"),Dn(wd,"onAnimationIteration"),Dn(Cd,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(Td,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function Nd(n,i,o){var a=n.type||"unknown-event";n.currentTarget=o,Rv(a,i,void 0,n),n.currentTarget=null}function Rd(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var a=n[o],c=a.event;a=a.listeners;e:{var d=void 0;if(i)for(var m=a.length-1;0<=m;m--){var _=a[m],E=_.instance,N=_.currentTarget;if(_=_.listener,E!==d&&c.isPropagationStopped())break e;Nd(c,_,N),d=E}else for(m=0;m<a.length;m++){if(_=a[m],E=_.instance,N=_.currentTarget,_=_.listener,E!==d&&c.isPropagationStopped())break e;Nd(c,_,N),d=E}}}if(Hs)throw n=$l,Hs=!1,$l=null,n}function Ne(n,i){var o=i[_a];o===void 0&&(o=i[_a]=new Set);var a=n+"__bubble";o.has(a)||(kd(i,n,2,!1),o.add(a))}function da(n,i,o){var a=0;i&&(a|=4),kd(o,n,a,i)}var to="_reactListening"+Math.random().toString(36).slice(2);function ji(n){if(!n[to]){n[to]=!0,s.forEach(function(o){o!=="selectionchange"&&(P_.has(o)||da(o,!1,n),da(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[to]||(i[to]=!0,da("selectionchange",!1,i))}}function kd(n,i,o,a){switch(Zf(i)){case 1:var c=Wv;break;case 4:c=Gv;break;default:c=Yl}o=c.bind(null,i,o,n),c=void 0,!jl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),a?c!==void 0?n.addEventListener(i,o,{capture:!0,passive:c}):n.addEventListener(i,o,!0):c!==void 0?n.addEventListener(i,o,{passive:c}):n.addEventListener(i,o,!1)}function ha(n,i,o,a,c){var d=a;if(!(i&1)&&!(i&2)&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var _=a.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(m===4)for(m=a.return;m!==null;){var E=m.tag;if((E===3||E===4)&&(E=m.stateNode.containerInfo,E===c||E.nodeType===8&&E.parentNode===c))return;m=m.return}for(;_!==null;){if(m=ir(_),m===null)return;if(E=m.tag,E===5||E===6){a=d=m;continue e}_=_.parentNode}}a=a.return}Df(function(){var N=d,O=Hl(o),M=[];e:{var b=xd.get(n);if(b!==void 0){var W=Zl,Q=n;switch(n){case"keypress":if(Ys(o)===0)break e;case"keydown":case"keyup":W=o_;break;case"focusin":Q="focus",W=ta;break;case"focusout":Q="blur",W=ta;break;case"beforeblur":case"afterblur":W=ta;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=u_;break;case Sd:case wd:case Cd:W=Xv;break;case Td:W=f_;break;case"scroll":W=Vv;break;case"wheel":W=h_;break;case"copy":case"cut":case"paste":W=Jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=rd}var q=(i&4)!==0,Ue=!q&&n==="scroll",T=q?b!==null?b+"Capture":null:b;q=[];for(var w=N,I;w!==null;){I=w;var H=I.stateNode;if(I.tag===5&&H!==null&&(I=H,T!==null&&(H=Ci(w,T),H!=null&&q.push($i(w,H,I)))),Ue)break;w=w.return}0<q.length&&(b=new W(b,Q,null,o,O),M.push({event:b,listeners:q}))}}if(!(i&7)){e:{if(b=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",b&&o!==Fl&&(Q=o.relatedTarget||o.fromElement)&&(ir(Q)||Q[hn]))break e;if((W||b)&&(b=O.window===O?O:(b=O.ownerDocument)?b.defaultView||b.parentWindow:window,W?(Q=o.relatedTarget||o.toElement,W=N,Q=Q?ir(Q):null,Q!==null&&(Ue=rr(Q),Q!==Ue||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(W=null,Q=N),W!==Q)){if(q=td,H="onMouseLeave",T="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(q=rd,H="onPointerLeave",T="onPointerEnter",w="pointer"),Ue=W==null?b:zr(W),I=Q==null?b:zr(Q),b=new q(H,w+"leave",W,o,O),b.target=Ue,b.relatedTarget=I,H=null,ir(O)===N&&(q=new q(T,w+"enter",Q,o,O),q.target=I,q.relatedTarget=Ue,H=q),Ue=H,W&&Q)t:{for(q=W,T=Q,w=0,I=q;I;I=jr(I))w++;for(I=0,H=T;H;H=jr(H))I++;for(;0<w-I;)q=jr(q),w--;for(;0<I-w;)T=jr(T),I--;for(;w--;){if(q===T||T!==null&&q===T.alternate)break t;q=jr(q),T=jr(T)}q=null}else q=null;W!==null&&Pd(M,b,W,q,!1),Q!==null&&Ue!==null&&Pd(M,Ue,Q,q,!0)}}e:{if(b=N?zr(N):window,W=b.nodeName&&b.nodeName.toLowerCase(),W==="select"||W==="input"&&b.type==="file")var X=E_;else if(ud(b))if(fd)X=T_;else{X=w_;var ee=S_}else(W=b.nodeName)&&W.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(X=C_);if(X&&(X=X(n,N))){cd(M,X,o,O);break e}ee&&ee(n,b,N),n==="focusout"&&(ee=b._wrapperState)&&ee.controlled&&b.type==="number"&&bl(b,"number",b.value)}switch(ee=N?zr(N):window,n){case"focusin":(ud(ee)||ee.contentEditable==="true")&&(Br=ee,la=N,Bi=null);break;case"focusout":Bi=la=Br=null;break;case"mousedown":aa=!0;break;case"contextmenu":case"mouseup":case"dragend":aa=!1,_d(M,o,O);break;case"selectionchange":if(N_)break;case"keydown":case"keyup":_d(M,o,O)}var te;if(ra)e:{switch(n){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Hr?ld(n,o)&&(ne="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ne="onCompositionStart");ne&&(id&&o.locale!=="ko"&&(Hr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Hr&&(te=Jf()):(On=O,Xl="value"in On?On.value:On.textContent,Hr=!0)),ee=no(N,ne),0<ee.length&&(ne=new nd(ne,n,null,o,O),M.push({event:ne,listeners:ee}),te?ne.data=te:(te=ad(o),te!==null&&(ne.data=te)))),(te=m_?g_(n,o):y_(n,o))&&(N=no(N,"onBeforeInput"),0<N.length&&(O=new nd("onBeforeInput","beforeinput",null,o,O),M.push({event:O,listeners:N}),O.data=te))}Rd(M,i)})}function $i(n,i,o){return{instance:n,listener:i,currentTarget:o}}function no(n,i){for(var o=i+"Capture",a=[];n!==null;){var c=n,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Ci(n,o),d!=null&&a.unshift($i(n,d,c)),d=Ci(n,i),d!=null&&a.push($i(n,d,c))),n=n.return}return a}function jr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Pd(n,i,o,a,c){for(var d=i._reactName,m=[];o!==null&&o!==a;){var _=o,E=_.alternate,N=_.stateNode;if(E!==null&&E===a)break;_.tag===5&&N!==null&&(_=N,c?(E=Ci(o,d),E!=null&&m.unshift($i(o,E,_))):c||(E=Ci(o,d),E!=null&&m.push($i(o,E,_)))),o=o.return}m.length!==0&&n.push({event:i,listeners:m})}var A_=/\r\n?/g,b_=/\u0000|\uFFFD/g;function Ad(n){return(typeof n=="string"?n:""+n).replace(A_,`
`).replace(b_,"")}function ro(n,i,o){if(i=Ad(i),Ad(n)!==i&&o)throw Error(r(425))}function io(){}var pa=null,ma=null;function ga(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ya=typeof setTimeout=="function"?setTimeout:void 0,O_=typeof clearTimeout=="function"?clearTimeout:void 0,bd=typeof Promise=="function"?Promise:void 0,D_=typeof queueMicrotask=="function"?queueMicrotask:typeof bd<"u"?function(n){return bd.resolve(null).then(n).catch(L_)}:ya;function L_(n){setTimeout(function(){throw n})}function va(n,i){var o=i,a=0;do{var c=o.nextSibling;if(n.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){n.removeChild(c),bi(i);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);bi(i)}function Ln(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Od(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}var $r=Math.random().toString(36).slice(2),tn="__reactFiber$"+$r,zi="__reactProps$"+$r,hn="__reactContainer$"+$r,_a="__reactEvents$"+$r,M_="__reactListeners$"+$r,F_="__reactHandles$"+$r;function ir(n){var i=n[tn];if(i)return i;for(var o=n.parentNode;o;){if(i=o[hn]||o[tn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Od(n);n!==null;){if(o=n[tn])return o;n=Od(n)}return i}n=o,o=n.parentNode}return null}function Wi(n){return n=n[tn]||n[hn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function zr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function so(n){return n[zi]||null}var Ea=[],Wr=-1;function Mn(n){return{current:n}}function Re(n){0>Wr||(n.current=Ea[Wr],Ea[Wr]=null,Wr--)}function xe(n,i){Wr++,Ea[Wr]=n.current,n.current=i}var Fn={},ot=Mn(Fn),yt=Mn(!1),sr=Fn;function Gr(n,i){var o=n.type.contextTypes;if(!o)return Fn;var a=n.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in o)c[d]=i[d];return a&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=c),c}function vt(n){return n=n.childContextTypes,n!=null}function oo(){Re(yt),Re(ot)}function Dd(n,i,o){if(ot.current!==Fn)throw Error(r(168));xe(ot,i),xe(yt,o)}function Ld(n,i,o){var a=n.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in i))throw Error(r(108,ve(n)||"Unknown",c));return z({},o,a)}function lo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Fn,sr=ot.current,xe(ot,n),xe(yt,yt.current),!0}function Md(n,i,o){var a=n.stateNode;if(!a)throw Error(r(169));o?(n=Ld(n,i,sr),a.__reactInternalMemoizedMergedChildContext=n,Re(yt),Re(ot),xe(ot,n)):Re(yt),xe(yt,o)}var pn=null,ao=!1,Sa=!1;function Fd(n){pn===null?pn=[n]:pn.push(n)}function H_(n){ao=!0,Fd(n)}function Hn(){if(!Sa&&pn!==null){Sa=!0;var n=0,i=we;try{var o=pn;for(we=1;n<o.length;n++){var a=o[n];do a=a(!0);while(a!==null)}pn=null,ao=!1}catch(c){throw pn!==null&&(pn=pn.slice(n+1)),Bf(zl,Hn),c}finally{we=i,Sa=!1}}return null}var Vr=[],Qr=0,uo=null,co=0,bt=[],Ot=0,or=null,mn=1,gn="";function lr(n,i){Vr[Qr++]=co,Vr[Qr++]=uo,uo=n,co=i}function Hd(n,i,o){bt[Ot++]=mn,bt[Ot++]=gn,bt[Ot++]=or,or=n;var a=mn;n=gn;var c=32-Wt(a)-1;a&=~(1<<c),o+=1;var d=32-Wt(i)+c;if(30<d){var m=c-c%5;d=(a&(1<<m)-1).toString(32),a>>=m,c-=m,mn=1<<32-Wt(i)+c|o<<c|a,gn=d+n}else mn=1<<d|o<<c|a,gn=n}function wa(n){n.return!==null&&(lr(n,1),Hd(n,1,0))}function Ca(n){for(;n===uo;)uo=Vr[--Qr],Vr[Qr]=null,co=Vr[--Qr],Vr[Qr]=null;for(;n===or;)or=bt[--Ot],bt[Ot]=null,gn=bt[--Ot],bt[Ot]=null,mn=bt[--Ot],bt[Ot]=null}var kt=null,Pt=null,Oe=!1,Vt=null;function Bd(n,i){var o=Ft(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=n,i=n.deletions,i===null?(n.deletions=[o],n.flags|=16):i.push(o)}function Ud(n,i){switch(n.tag){case 5:var o=n.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,kt=n,Pt=Ln(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,kt=n,Pt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=or!==null?{id:mn,overflow:gn}:null,n.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Ft(18,null,null,0),o.stateNode=i,o.return=n,n.child=o,kt=n,Pt=null,!0):!1;default:return!1}}function Ta(n){return(n.mode&1)!==0&&(n.flags&128)===0}function xa(n){if(Oe){var i=Pt;if(i){var o=i;if(!Ud(n,i)){if(Ta(n))throw Error(r(418));i=Ln(o.nextSibling);var a=kt;i&&Ud(n,i)?Bd(a,o):(n.flags=n.flags&-4097|2,Oe=!1,kt=n)}}else{if(Ta(n))throw Error(r(418));n.flags=n.flags&-4097|2,Oe=!1,kt=n}}}function jd(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;kt=n}function fo(n){if(n!==kt)return!1;if(!Oe)return jd(n),Oe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!ga(n.type,n.memoizedProps)),i&&(i=Pt)){if(Ta(n))throw $d(),Error(r(418));for(;i;)Bd(n,i),i=Ln(i.nextSibling)}if(jd(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(i===0){Pt=Ln(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}n=n.nextSibling}Pt=null}}else Pt=kt?Ln(n.stateNode.nextSibling):null;return!0}function $d(){for(var n=Pt;n;)n=Ln(n.nextSibling)}function qr(){Pt=kt=null,Oe=!1}function Ia(n){Vt===null?Vt=[n]:Vt.push(n)}var B_=J.ReactCurrentBatchConfig;function Gi(n,i,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var a=o.stateNode}if(!a)throw Error(r(147,n));var c=a,d=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===d?i.ref:(i=function(m){var _=c.refs;m===null?delete _[d]:_[d]=m},i._stringRef=d,i)}if(typeof n!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,n))}return n}function ho(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function zd(n){var i=n._init;return i(n._payload)}function Wd(n){function i(T,w){if(n){var I=T.deletions;I===null?(T.deletions=[w],T.flags|=16):I.push(w)}}function o(T,w){if(!n)return null;for(;w!==null;)i(T,w),w=w.sibling;return null}function a(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function c(T,w){return T=Vn(T,w),T.index=0,T.sibling=null,T}function d(T,w,I){return T.index=I,n?(I=T.alternate,I!==null?(I=I.index,I<w?(T.flags|=2,w):I):(T.flags|=2,w)):(T.flags|=1048576,w)}function m(T){return n&&T.alternate===null&&(T.flags|=2),T}function _(T,w,I,H){return w===null||w.tag!==6?(w=yu(I,T.mode,H),w.return=T,w):(w=c(w,I),w.return=T,w)}function E(T,w,I,H){var X=I.type;return X===ye?O(T,w,I.props.children,H,I.key):w!==null&&(w.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ze&&zd(X)===w.type)?(H=c(w,I.props),H.ref=Gi(T,w,I),H.return=T,H):(H=Fo(I.type,I.key,I.props,null,T.mode,H),H.ref=Gi(T,w,I),H.return=T,H)}function N(T,w,I,H){return w===null||w.tag!==4||w.stateNode.containerInfo!==I.containerInfo||w.stateNode.implementation!==I.implementation?(w=vu(I,T.mode,H),w.return=T,w):(w=c(w,I.children||[]),w.return=T,w)}function O(T,w,I,H,X){return w===null||w.tag!==7?(w=mr(I,T.mode,H,X),w.return=T,w):(w=c(w,I),w.return=T,w)}function M(T,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yu(""+w,T.mode,I),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case L:return I=Fo(w.type,w.key,w.props,null,T.mode,I),I.ref=Gi(T,null,w),I.return=T,I;case ie:return w=vu(w,T.mode,I),w.return=T,w;case ze:var H=w._init;return M(T,H(w._payload),I)}if(Ei(w)||K(w))return w=mr(w,T.mode,I,null),w.return=T,w;ho(T,w)}return null}function b(T,w,I,H){var X=w!==null?w.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return X!==null?null:_(T,w,""+I,H);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case L:return I.key===X?E(T,w,I,H):null;case ie:return I.key===X?N(T,w,I,H):null;case ze:return X=I._init,b(T,w,X(I._payload),H)}if(Ei(I)||K(I))return X!==null?null:O(T,w,I,H,null);ho(T,I)}return null}function W(T,w,I,H,X){if(typeof H=="string"&&H!==""||typeof H=="number")return T=T.get(I)||null,_(w,T,""+H,X);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return T=T.get(H.key===null?I:H.key)||null,E(w,T,H,X);case ie:return T=T.get(H.key===null?I:H.key)||null,N(w,T,H,X);case ze:var ee=H._init;return W(T,w,I,ee(H._payload),X)}if(Ei(H)||K(H))return T=T.get(I)||null,O(w,T,H,X,null);ho(w,H)}return null}function Q(T,w,I,H){for(var X=null,ee=null,te=w,ne=w=0,Xe=null;te!==null&&ne<I.length;ne++){te.index>ne?(Xe=te,te=null):Xe=te.sibling;var ge=b(T,te,I[ne],H);if(ge===null){te===null&&(te=Xe);break}n&&te&&ge.alternate===null&&i(T,te),w=d(ge,w,ne),ee===null?X=ge:ee.sibling=ge,ee=ge,te=Xe}if(ne===I.length)return o(T,te),Oe&&lr(T,ne),X;if(te===null){for(;ne<I.length;ne++)te=M(T,I[ne],H),te!==null&&(w=d(te,w,ne),ee===null?X=te:ee.sibling=te,ee=te);return Oe&&lr(T,ne),X}for(te=a(T,te);ne<I.length;ne++)Xe=W(te,T,ne,I[ne],H),Xe!==null&&(n&&Xe.alternate!==null&&te.delete(Xe.key===null?ne:Xe.key),w=d(Xe,w,ne),ee===null?X=Xe:ee.sibling=Xe,ee=Xe);return n&&te.forEach(function(Qn){return i(T,Qn)}),Oe&&lr(T,ne),X}function q(T,w,I,H){var X=K(I);if(typeof X!="function")throw Error(r(150));if(I=X.call(I),I==null)throw Error(r(151));for(var ee=X=null,te=w,ne=w=0,Xe=null,ge=I.next();te!==null&&!ge.done;ne++,ge=I.next()){te.index>ne?(Xe=te,te=null):Xe=te.sibling;var Qn=b(T,te,ge.value,H);if(Qn===null){te===null&&(te=Xe);break}n&&te&&Qn.alternate===null&&i(T,te),w=d(Qn,w,ne),ee===null?X=Qn:ee.sibling=Qn,ee=Qn,te=Xe}if(ge.done)return o(T,te),Oe&&lr(T,ne),X;if(te===null){for(;!ge.done;ne++,ge=I.next())ge=M(T,ge.value,H),ge!==null&&(w=d(ge,w,ne),ee===null?X=ge:ee.sibling=ge,ee=ge);return Oe&&lr(T,ne),X}for(te=a(T,te);!ge.done;ne++,ge=I.next())ge=W(te,T,ne,ge.value,H),ge!==null&&(n&&ge.alternate!==null&&te.delete(ge.key===null?ne:ge.key),w=d(ge,w,ne),ee===null?X=ge:ee.sibling=ge,ee=ge);return n&&te.forEach(function(y0){return i(T,y0)}),Oe&&lr(T,ne),X}function Ue(T,w,I,H){if(typeof I=="object"&&I!==null&&I.type===ye&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case L:e:{for(var X=I.key,ee=w;ee!==null;){if(ee.key===X){if(X=I.type,X===ye){if(ee.tag===7){o(T,ee.sibling),w=c(ee,I.props.children),w.return=T,T=w;break e}}else if(ee.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ze&&zd(X)===ee.type){o(T,ee.sibling),w=c(ee,I.props),w.ref=Gi(T,ee,I),w.return=T,T=w;break e}o(T,ee);break}else i(T,ee);ee=ee.sibling}I.type===ye?(w=mr(I.props.children,T.mode,H,I.key),w.return=T,T=w):(H=Fo(I.type,I.key,I.props,null,T.mode,H),H.ref=Gi(T,w,I),H.return=T,T=H)}return m(T);case ie:e:{for(ee=I.key;w!==null;){if(w.key===ee)if(w.tag===4&&w.stateNode.containerInfo===I.containerInfo&&w.stateNode.implementation===I.implementation){o(T,w.sibling),w=c(w,I.children||[]),w.return=T,T=w;break e}else{o(T,w);break}else i(T,w);w=w.sibling}w=vu(I,T.mode,H),w.return=T,T=w}return m(T);case ze:return ee=I._init,Ue(T,w,ee(I._payload),H)}if(Ei(I))return Q(T,w,I,H);if(K(I))return q(T,w,I,H);ho(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,w!==null&&w.tag===6?(o(T,w.sibling),w=c(w,I),w.return=T,T=w):(o(T,w),w=yu(I,T.mode,H),w.return=T,T=w),m(T)):o(T,w)}return Ue}var Yr=Wd(!0),Gd=Wd(!1),po=Mn(null),mo=null,Kr=null,Na=null;function Ra(){Na=Kr=mo=null}function ka(n){var i=po.current;Re(po),n._currentValue=i}function Pa(n,i,o){for(;n!==null;){var a=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),n===o)break;n=n.return}}function Xr(n,i){mo=n,Na=Kr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(_t=!0),n.firstContext=null)}function Dt(n){var i=n._currentValue;if(Na!==n)if(n={context:n,memoizedValue:i,next:null},Kr===null){if(mo===null)throw Error(r(308));Kr=n,mo.dependencies={lanes:0,firstContext:n}}else Kr=Kr.next=n;return i}var ar=null;function Aa(n){ar===null?ar=[n]:ar.push(n)}function Vd(n,i,o,a){var c=i.interleaved;return c===null?(o.next=o,Aa(i)):(o.next=c.next,c.next=o),i.interleaved=o,yn(n,a)}function yn(n,i){n.lanes|=i;var o=n.alternate;for(o!==null&&(o.lanes|=i),o=n,n=n.return;n!==null;)n.childLanes|=i,o=n.alternate,o!==null&&(o.childLanes|=i),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Bn=!1;function ba(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function vn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Un(n,i,o){var a=n.updateQueue;if(a===null)return null;if(a=a.shared,me&2){var c=a.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),a.pending=i,yn(n,o)}return c=a.interleaved,c===null?(i.next=i,Aa(a)):(i.next=c.next,c.next=i),a.interleaved=i,yn(n,o)}function go(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var a=i.lanes;a&=n.pendingLanes,o|=a,i.lanes=o,Vl(n,o)}}function qd(n,i){var o=n.updateQueue,a=n.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var m={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?c=d=m:d=d.next=m,o=o.next}while(o!==null);d===null?c=d=i:d=d.next=i}else c=d=i;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}function yo(n,i,o,a){var c=n.updateQueue;Bn=!1;var d=c.firstBaseUpdate,m=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var E=_,N=E.next;E.next=null,m===null?d=N:m.next=N,m=E;var O=n.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==m&&(_===null?O.firstBaseUpdate=N:_.next=N,O.lastBaseUpdate=E))}if(d!==null){var M=c.baseState;m=0,O=N=E=null,_=d;do{var b=_.lane,W=_.eventTime;if((a&b)===b){O!==null&&(O=O.next={eventTime:W,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Q=n,q=_;switch(b=i,W=o,q.tag){case 1:if(Q=q.payload,typeof Q=="function"){M=Q.call(W,M,b);break e}M=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=q.payload,b=typeof Q=="function"?Q.call(W,M,b):Q,b==null)break e;M=z({},M,b);break e;case 2:Bn=!0}}_.callback!==null&&_.lane!==0&&(n.flags|=64,b=c.effects,b===null?c.effects=[_]:b.push(_))}else W={eventTime:W,lane:b,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(N=O=W,E=M):O=O.next=W,m|=b;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;b=_,_=b.next,b.next=null,c.lastBaseUpdate=b,c.shared.pending=null}}while(!0);if(O===null&&(E=M),c.baseState=E,c.firstBaseUpdate=N,c.lastBaseUpdate=O,i=c.shared.interleaved,i!==null){c=i;do m|=c.lane,c=c.next;while(c!==i)}else d===null&&(c.shared.lanes=0);fr|=m,n.lanes=m,n.memoizedState=M}}function Yd(n,i,o){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var a=n[i],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(r(191,c));c.call(a)}}}var Vi={},nn=Mn(Vi),Qi=Mn(Vi),qi=Mn(Vi);function ur(n){if(n===Vi)throw Error(r(174));return n}function Oa(n,i){switch(xe(qi,i),xe(Qi,n),xe(nn,Vi),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Dl(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Dl(i,n)}Re(nn),xe(nn,i)}function Zr(){Re(nn),Re(Qi),Re(qi)}function Kd(n){ur(qi.current);var i=ur(nn.current),o=Dl(i,n.type);i!==o&&(xe(Qi,n),xe(nn,o))}function Da(n){Qi.current===n&&(Re(nn),Re(Qi))}var De=Mn(0);function vo(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var La=[];function Ma(){for(var n=0;n<La.length;n++)La[n]._workInProgressVersionPrimary=null;La.length=0}var _o=J.ReactCurrentDispatcher,Fa=J.ReactCurrentBatchConfig,cr=0,Le=null,We=null,Ye=null,Eo=!1,Yi=!1,Ki=0,U_=0;function lt(){throw Error(r(321))}function Ha(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Gt(n[o],i[o]))return!1;return!0}function Ba(n,i,o,a,c,d){if(cr=d,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,_o.current=n===null||n.memoizedState===null?W_:G_,n=o(a,c),Yi){d=0;do{if(Yi=!1,Ki=0,25<=d)throw Error(r(301));d+=1,Ye=We=null,i.updateQueue=null,_o.current=V_,n=o(a,c)}while(Yi)}if(_o.current=Co,i=We!==null&&We.next!==null,cr=0,Ye=We=Le=null,Eo=!1,i)throw Error(r(300));return n}function Ua(){var n=Ki!==0;return Ki=0,n}function rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Le.memoizedState=Ye=n:Ye=Ye.next=n,Ye}function Lt(){if(We===null){var n=Le.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var i=Ye===null?Le.memoizedState:Ye.next;if(i!==null)Ye=i,We=n;else{if(n===null)throw Error(r(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ye===null?Le.memoizedState=Ye=n:Ye=Ye.next=n}return Ye}function Xi(n,i){return typeof i=="function"?i(n):i}function ja(n){var i=Lt(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var a=We,c=a.baseQueue,d=o.pending;if(d!==null){if(c!==null){var m=c.next;c.next=d.next,d.next=m}a.baseQueue=c=d,o.pending=null}if(c!==null){d=c.next,a=a.baseState;var _=m=null,E=null,N=d;do{var O=N.lane;if((cr&O)===O)E!==null&&(E=E.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),a=N.hasEagerState?N.eagerState:n(a,N.action);else{var M={lane:O,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};E===null?(_=E=M,m=a):E=E.next=M,Le.lanes|=O,fr|=O}N=N.next}while(N!==null&&N!==d);E===null?m=a:E.next=_,Gt(a,i.memoizedState)||(_t=!0),i.memoizedState=a,i.baseState=m,i.baseQueue=E,o.lastRenderedState=a}if(n=o.interleaved,n!==null){c=n;do d=c.lane,Le.lanes|=d,fr|=d,c=c.next;while(c!==n)}else c===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function $a(n){var i=Lt(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var a=o.dispatch,c=o.pending,d=i.memoizedState;if(c!==null){o.pending=null;var m=c=c.next;do d=n(d,m.action),m=m.next;while(m!==c);Gt(d,i.memoizedState)||(_t=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),o.lastRenderedState=d}return[d,a]}function Xd(){}function Zd(n,i){var o=Le,a=Lt(),c=i(),d=!Gt(a.memoizedState,c);if(d&&(a.memoizedState=c,_t=!0),a=a.queue,za(th.bind(null,o,a,n),[n]),a.getSnapshot!==i||d||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Zi(9,eh.bind(null,o,a,c,i),void 0,null),Ke===null)throw Error(r(349));cr&30||Jd(o,i,c)}return c}function Jd(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Le.updateQueue,i===null?(i={lastEffect:null,stores:null},Le.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function eh(n,i,o,a){i.value=o,i.getSnapshot=a,nh(i)&&rh(n)}function th(n,i,o){return o(function(){nh(i)&&rh(n)})}function nh(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Gt(n,o)}catch{return!0}}function rh(n){var i=yn(n,1);i!==null&&Kt(i,n,1,-1)}function ih(n){var i=rn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:n},i.queue=n,n=n.dispatch=z_.bind(null,Le,n),[i.memoizedState,n]}function Zi(n,i,o,a){return n={tag:n,create:i,destroy:o,deps:a,next:null},i=Le.updateQueue,i===null?(i={lastEffect:null,stores:null},Le.updateQueue=i,i.lastEffect=n.next=n):(o=i.lastEffect,o===null?i.lastEffect=n.next=n:(a=o.next,o.next=n,n.next=a,i.lastEffect=n)),n}function sh(){return Lt().memoizedState}function So(n,i,o,a){var c=rn();Le.flags|=n,c.memoizedState=Zi(1|i,o,void 0,a===void 0?null:a)}function wo(n,i,o,a){var c=Lt();a=a===void 0?null:a;var d=void 0;if(We!==null){var m=We.memoizedState;if(d=m.destroy,a!==null&&Ha(a,m.deps)){c.memoizedState=Zi(i,o,d,a);return}}Le.flags|=n,c.memoizedState=Zi(1|i,o,d,a)}function oh(n,i){return So(8390656,8,n,i)}function za(n,i){return wo(2048,8,n,i)}function lh(n,i){return wo(4,2,n,i)}function ah(n,i){return wo(4,4,n,i)}function uh(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ch(n,i,o){return o=o!=null?o.concat([n]):null,wo(4,4,uh.bind(null,i,n),o)}function Wa(){}function fh(n,i){var o=Lt();i=i===void 0?null:i;var a=o.memoizedState;return a!==null&&i!==null&&Ha(i,a[1])?a[0]:(o.memoizedState=[n,i],n)}function dh(n,i){var o=Lt();i=i===void 0?null:i;var a=o.memoizedState;return a!==null&&i!==null&&Ha(i,a[1])?a[0]:(n=n(),o.memoizedState=[n,i],n)}function hh(n,i,o){return cr&21?(Gt(o,i)||(o=zf(),Le.lanes|=o,fr|=o,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,_t=!0),n.memoizedState=o)}function j_(n,i){var o=we;we=o!==0&&4>o?o:4,n(!0);var a=Fa.transition;Fa.transition={};try{n(!1),i()}finally{we=o,Fa.transition=a}}function ph(){return Lt().memoizedState}function $_(n,i,o){var a=Wn(n);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},mh(n))gh(i,o);else if(o=Vd(n,i,o,a),o!==null){var c=pt();Kt(o,n,a,c),yh(o,i,a)}}function z_(n,i,o){var a=Wn(n),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(mh(n))gh(i,c);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var m=i.lastRenderedState,_=d(m,o);if(c.hasEagerState=!0,c.eagerState=_,Gt(_,m)){var E=i.interleaved;E===null?(c.next=c,Aa(i)):(c.next=E.next,E.next=c),i.interleaved=c;return}}catch{}finally{}o=Vd(n,i,c,a),o!==null&&(c=pt(),Kt(o,n,a,c),yh(o,i,a))}}function mh(n){var i=n.alternate;return n===Le||i!==null&&i===Le}function gh(n,i){Yi=Eo=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function yh(n,i,o){if(o&4194240){var a=i.lanes;a&=n.pendingLanes,o|=a,i.lanes=o,Vl(n,o)}}var Co={readContext:Dt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},W_={readContext:Dt,useCallback:function(n,i){return rn().memoizedState=[n,i===void 0?null:i],n},useContext:Dt,useEffect:oh,useImperativeHandle:function(n,i,o){return o=o!=null?o.concat([n]):null,So(4194308,4,uh.bind(null,i,n),o)},useLayoutEffect:function(n,i){return So(4194308,4,n,i)},useInsertionEffect:function(n,i){return So(4,2,n,i)},useMemo:function(n,i){var o=rn();return i=i===void 0?null:i,n=n(),o.memoizedState=[n,i],n},useReducer:function(n,i,o){var a=rn();return i=o!==void 0?o(i):i,a.memoizedState=a.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},a.queue=n,n=n.dispatch=$_.bind(null,Le,n),[a.memoizedState,n]},useRef:function(n){var i=rn();return n={current:n},i.memoizedState=n},useState:ih,useDebugValue:Wa,useDeferredValue:function(n){return rn().memoizedState=n},useTransition:function(){var n=ih(!1),i=n[0];return n=j_.bind(null,n[1]),rn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,o){var a=Le,c=rn();if(Oe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),Ke===null)throw Error(r(349));cr&30||Jd(a,i,o)}c.memoizedState=o;var d={value:o,getSnapshot:i};return c.queue=d,oh(th.bind(null,a,d,n),[n]),a.flags|=2048,Zi(9,eh.bind(null,a,d,o,i),void 0,null),o},useId:function(){var n=rn(),i=Ke.identifierPrefix;if(Oe){var o=gn,a=mn;o=(a&~(1<<32-Wt(a)-1)).toString(32)+o,i=":"+i+"R"+o,o=Ki++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=U_++,i=":"+i+"r"+o.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},G_={readContext:Dt,useCallback:fh,useContext:Dt,useEffect:za,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:dh,useReducer:ja,useRef:sh,useState:function(){return ja(Xi)},useDebugValue:Wa,useDeferredValue:function(n){var i=Lt();return hh(i,We.memoizedState,n)},useTransition:function(){var n=ja(Xi)[0],i=Lt().memoizedState;return[n,i]},useMutableSource:Xd,useSyncExternalStore:Zd,useId:ph,unstable_isNewReconciler:!1},V_={readContext:Dt,useCallback:fh,useContext:Dt,useEffect:za,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:dh,useReducer:$a,useRef:sh,useState:function(){return $a(Xi)},useDebugValue:Wa,useDeferredValue:function(n){var i=Lt();return We===null?i.memoizedState=n:hh(i,We.memoizedState,n)},useTransition:function(){var n=$a(Xi)[0],i=Lt().memoizedState;return[n,i]},useMutableSource:Xd,useSyncExternalStore:Zd,useId:ph,unstable_isNewReconciler:!1};function Qt(n,i){if(n&&n.defaultProps){i=z({},i),n=n.defaultProps;for(var o in n)i[o]===void 0&&(i[o]=n[o]);return i}return i}function Ga(n,i,o,a){i=n.memoizedState,o=o(a,i),o=o==null?i:z({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var To={isMounted:function(n){return(n=n._reactInternals)?rr(n)===n:!1},enqueueSetState:function(n,i,o){n=n._reactInternals;var a=pt(),c=Wn(n),d=vn(a,c);d.payload=i,o!=null&&(d.callback=o),i=Un(n,d,c),i!==null&&(Kt(i,n,c,a),go(i,n,c))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var a=pt(),c=Wn(n),d=vn(a,c);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=Un(n,d,c),i!==null&&(Kt(i,n,c,a),go(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=pt(),a=Wn(n),c=vn(o,a);c.tag=2,i!=null&&(c.callback=i),i=Un(n,c,a),i!==null&&(Kt(i,n,a,o),go(i,n,a))}};function vh(n,i,o,a,c,d,m){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(a,d,m):i.prototype&&i.prototype.isPureReactComponent?!Hi(o,a)||!Hi(c,d):!0}function _h(n,i,o){var a=!1,c=Fn,d=i.contextType;return typeof d=="object"&&d!==null?d=Dt(d):(c=vt(i)?sr:ot.current,a=i.contextTypes,d=(a=a!=null)?Gr(n,c):Fn),i=new i(o,d),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=To,n.stateNode=i,i._reactInternals=n,a&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=c,n.__reactInternalMemoizedMaskedChildContext=d),i}function Eh(n,i,o,a){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,a),i.state!==n&&To.enqueueReplaceState(i,i.state,null)}function Va(n,i,o,a){var c=n.stateNode;c.props=o,c.state=n.memoizedState,c.refs={},ba(n);var d=i.contextType;typeof d=="object"&&d!==null?c.context=Dt(d):(d=vt(i)?sr:ot.current,c.context=Gr(n,d)),c.state=n.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Ga(n,i,d,o),c.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&To.enqueueReplaceState(c,c.state,null),yo(n,o,c,a),c.state=n.memoizedState),typeof c.componentDidMount=="function"&&(n.flags|=4194308)}function Jr(n,i){try{var o="",a=i;do o+=oe(a),a=a.return;while(a);var c=o}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:n,source:i,stack:c,digest:null}}function Qa(n,i,o){return{value:n,source:null,stack:o??null,digest:i??null}}function qa(n,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Q_=typeof WeakMap=="function"?WeakMap:Map;function Sh(n,i,o){o=vn(-1,o),o.tag=3,o.payload={element:null};var a=i.value;return o.callback=function(){Ao||(Ao=!0,uu=a),qa(n,i)},o}function wh(n,i,o){o=vn(-1,o),o.tag=3;var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var c=i.value;o.payload=function(){return a(c)},o.callback=function(){qa(n,i)}}var d=n.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){qa(n,i),typeof a!="function"&&($n===null?$n=new Set([this]):$n.add(this));var m=i.stack;this.componentDidCatch(i.value,{componentStack:m!==null?m:""})}),o}function Ch(n,i,o){var a=n.pingCache;if(a===null){a=n.pingCache=new Q_;var c=new Set;a.set(i,c)}else c=a.get(i),c===void 0&&(c=new Set,a.set(i,c));c.has(o)||(c.add(o),n=l0.bind(null,n,i,o),i.then(n,n))}function Th(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function xh(n,i,o,a,c){return n.mode&1?(n.flags|=65536,n.lanes=c,n):(n===i?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=vn(-1,1),i.tag=2,Un(o,i,1))),o.lanes|=1),n)}var q_=J.ReactCurrentOwner,_t=!1;function ht(n,i,o,a){i.child=n===null?Gd(i,null,o,a):Yr(i,n.child,o,a)}function Ih(n,i,o,a,c){o=o.render;var d=i.ref;return Xr(i,c),a=Ba(n,i,o,a,d,c),o=Ua(),n!==null&&!_t?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~c,_n(n,i,c)):(Oe&&o&&wa(i),i.flags|=1,ht(n,i,a,c),i.child)}function Nh(n,i,o,a,c){if(n===null){var d=o.type;return typeof d=="function"&&!gu(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=d,Rh(n,i,d,a,c)):(n=Fo(o.type,null,a,i,i.mode,c),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!(n.lanes&c)){var m=d.memoizedProps;if(o=o.compare,o=o!==null?o:Hi,o(m,a)&&n.ref===i.ref)return _n(n,i,c)}return i.flags|=1,n=Vn(d,a),n.ref=i.ref,n.return=i,i.child=n}function Rh(n,i,o,a,c){if(n!==null){var d=n.memoizedProps;if(Hi(d,a)&&n.ref===i.ref)if(_t=!1,i.pendingProps=a=d,(n.lanes&c)!==0)n.flags&131072&&(_t=!0);else return i.lanes=n.lanes,_n(n,i,c)}return Ya(n,i,o,a,c)}function kh(n,i,o){var a=i.pendingProps,c=a.children,d=n!==null?n.memoizedState:null;if(a.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(ti,At),At|=o;else{if(!(o&1073741824))return n=d!==null?d.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,xe(ti,At),At|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:o,xe(ti,At),At|=a}else d!==null?(a=d.baseLanes|o,i.memoizedState=null):a=o,xe(ti,At),At|=a;return ht(n,i,c,o),i.child}function Ph(n,i){var o=i.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function Ya(n,i,o,a,c){var d=vt(o)?sr:ot.current;return d=Gr(i,d),Xr(i,c),o=Ba(n,i,o,a,d,c),a=Ua(),n!==null&&!_t?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~c,_n(n,i,c)):(Oe&&a&&wa(i),i.flags|=1,ht(n,i,o,c),i.child)}function Ah(n,i,o,a,c){if(vt(o)){var d=!0;lo(i)}else d=!1;if(Xr(i,c),i.stateNode===null)Io(n,i),_h(i,o,a),Va(i,o,a,c),a=!0;else if(n===null){var m=i.stateNode,_=i.memoizedProps;m.props=_;var E=m.context,N=o.contextType;typeof N=="object"&&N!==null?N=Dt(N):(N=vt(o)?sr:ot.current,N=Gr(i,N));var O=o.getDerivedStateFromProps,M=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function";M||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==a||E!==N)&&Eh(i,m,a,N),Bn=!1;var b=i.memoizedState;m.state=b,yo(i,a,m,c),E=i.memoizedState,_!==a||b!==E||yt.current||Bn?(typeof O=="function"&&(Ga(i,o,O,a),E=i.memoizedState),(_=Bn||vh(i,o,_,a,b,E,N))?(M||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=E),m.props=a,m.state=E,m.context=N,a=_):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{m=i.stateNode,Qd(n,i),_=i.memoizedProps,N=i.type===i.elementType?_:Qt(i.type,_),m.props=N,M=i.pendingProps,b=m.context,E=o.contextType,typeof E=="object"&&E!==null?E=Dt(E):(E=vt(o)?sr:ot.current,E=Gr(i,E));var W=o.getDerivedStateFromProps;(O=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==M||b!==E)&&Eh(i,m,a,E),Bn=!1,b=i.memoizedState,m.state=b,yo(i,a,m,c);var Q=i.memoizedState;_!==M||b!==Q||yt.current||Bn?(typeof W=="function"&&(Ga(i,o,W,a),Q=i.memoizedState),(N=Bn||vh(i,o,N,a,b,Q,E)||!1)?(O||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,Q,E),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,Q,E)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&b===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&b===n.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=Q),m.props=a,m.state=Q,m.context=E,a=N):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&b===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&b===n.memoizedState||(i.flags|=1024),a=!1)}return Ka(n,i,o,a,d,c)}function Ka(n,i,o,a,c,d){Ph(n,i);var m=(i.flags&128)!==0;if(!a&&!m)return c&&Md(i,o,!1),_n(n,i,d);a=i.stateNode,q_.current=i;var _=m&&typeof o.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,n!==null&&m?(i.child=Yr(i,n.child,null,d),i.child=Yr(i,null,_,d)):ht(n,i,_,d),i.memoizedState=a.state,c&&Md(i,o,!0),i.child}function bh(n){var i=n.stateNode;i.pendingContext?Dd(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Dd(n,i.context,!1),Oa(n,i.containerInfo)}function Oh(n,i,o,a,c){return qr(),Ia(c),i.flags|=256,ht(n,i,o,a),i.child}var Xa={dehydrated:null,treeContext:null,retryLane:0};function Za(n){return{baseLanes:n,cachePool:null,transitions:null}}function Dh(n,i,o){var a=i.pendingProps,c=De.current,d=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(c&2)!==0),_?(d=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(c|=1),xe(De,c&1),n===null)return xa(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(m=a.children,n=a.fallback,d?(a=i.mode,d=i.child,m={mode:"hidden",children:m},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=m):d=Ho(m,a,0,null),n=mr(n,a,o,null),d.return=i,n.return=i,d.sibling=n,i.child=d,i.child.memoizedState=Za(o),i.memoizedState=Xa,n):Ja(i,m));if(c=n.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return Y_(n,i,m,a,_,c,o);if(d){d=a.fallback,m=i.mode,c=n.child,_=c.sibling;var E={mode:"hidden",children:a.children};return!(m&1)&&i.child!==c?(a=i.child,a.childLanes=0,a.pendingProps=E,i.deletions=null):(a=Vn(c,E),a.subtreeFlags=c.subtreeFlags&14680064),_!==null?d=Vn(_,d):(d=mr(d,m,o,null),d.flags|=2),d.return=i,a.return=i,a.sibling=d,i.child=a,a=d,d=i.child,m=n.child.memoizedState,m=m===null?Za(o):{baseLanes:m.baseLanes|o,cachePool:null,transitions:m.transitions},d.memoizedState=m,d.childLanes=n.childLanes&~o,i.memoizedState=Xa,a}return d=n.child,n=d.sibling,a=Vn(d,{mode:"visible",children:a.children}),!(i.mode&1)&&(a.lanes=o),a.return=i,a.sibling=null,n!==null&&(o=i.deletions,o===null?(i.deletions=[n],i.flags|=16):o.push(n)),i.child=a,i.memoizedState=null,a}function Ja(n,i){return i=Ho({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function xo(n,i,o,a){return a!==null&&Ia(a),Yr(i,n.child,null,o),n=Ja(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Y_(n,i,o,a,c,d,m){if(o)return i.flags&256?(i.flags&=-257,a=Qa(Error(r(422))),xo(n,i,m,a)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(d=a.fallback,c=i.mode,a=Ho({mode:"visible",children:a.children},c,0,null),d=mr(d,c,m,null),d.flags|=2,a.return=i,d.return=i,a.sibling=d,i.child=a,i.mode&1&&Yr(i,n.child,null,m),i.child.memoizedState=Za(m),i.memoizedState=Xa,d);if(!(i.mode&1))return xo(n,i,m,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var _=a.dgst;return a=_,d=Error(r(419)),a=Qa(d,a,void 0),xo(n,i,m,a)}if(_=(m&n.childLanes)!==0,_t||_){if(a=Ke,a!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|m)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,yn(n,c),Kt(a,n,c,-1))}return mu(),a=Qa(Error(r(421))),xo(n,i,m,a)}return c.data==="$?"?(i.flags|=128,i.child=n.child,i=a0.bind(null,n),c._reactRetry=i,null):(n=d.treeContext,Pt=Ln(c.nextSibling),kt=i,Oe=!0,Vt=null,n!==null&&(bt[Ot++]=mn,bt[Ot++]=gn,bt[Ot++]=or,mn=n.id,gn=n.overflow,or=i),i=Ja(i,a.children),i.flags|=4096,i)}function Lh(n,i,o){n.lanes|=i;var a=n.alternate;a!==null&&(a.lanes|=i),Pa(n.return,i,o)}function eu(n,i,o,a,c){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=o,d.tailMode=c)}function Mh(n,i,o){var a=i.pendingProps,c=a.revealOrder,d=a.tail;if(ht(n,i,a.children,o),a=De.current,a&2)a=a&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lh(n,o,i);else if(n.tag===19)Lh(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}a&=1}if(xe(De,a),!(i.mode&1))i.memoizedState=null;else switch(c){case"forwards":for(o=i.child,c=null;o!==null;)n=o.alternate,n!==null&&vo(n)===null&&(c=o),o=o.sibling;o=c,o===null?(c=i.child,i.child=null):(c=o.sibling,o.sibling=null),eu(i,!1,c,o,d);break;case"backwards":for(o=null,c=i.child,i.child=null;c!==null;){if(n=c.alternate,n!==null&&vo(n)===null){i.child=c;break}n=c.sibling,c.sibling=o,o=c,c=n}eu(i,!0,o,null,d);break;case"together":eu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Io(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function _n(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),fr|=i.lanes,!(o&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,o=Vn(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Vn(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function K_(n,i,o){switch(i.tag){case 3:bh(i),qr();break;case 5:Kd(i);break;case 1:vt(i.type)&&lo(i);break;case 4:Oa(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,c=i.memoizedProps.value;xe(po,a._currentValue),a._currentValue=c;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(xe(De,De.current&1),i.flags|=128,null):o&i.child.childLanes?Dh(n,i,o):(xe(De,De.current&1),n=_n(n,i,o),n!==null?n.sibling:null);xe(De,De.current&1);break;case 19:if(a=(o&i.childLanes)!==0,n.flags&128){if(a)return Mh(n,i,o);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),xe(De,De.current),a)break;return null;case 22:case 23:return i.lanes=0,kh(n,i,o)}return _n(n,i,o)}var Fh,tu,Hh,Bh;Fh=function(n,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},tu=function(){},Hh=function(n,i,o,a){var c=n.memoizedProps;if(c!==a){n=i.stateNode,ur(nn.current);var d=null;switch(o){case"input":c=Pl(n,c),a=Pl(n,a),d=[];break;case"select":c=z({},c,{value:void 0}),a=z({},a,{value:void 0}),d=[];break;case"textarea":c=Ol(n,c),a=Ol(n,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(n.onclick=io)}Ll(o,a);var m;o=null;for(N in c)if(!a.hasOwnProperty(N)&&c.hasOwnProperty(N)&&c[N]!=null)if(N==="style"){var _=c[N];for(m in _)_.hasOwnProperty(m)&&(o||(o={}),o[m]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(l.hasOwnProperty(N)?d||(d=[]):(d=d||[]).push(N,null));for(N in a){var E=a[N];if(_=c!=null?c[N]:void 0,a.hasOwnProperty(N)&&E!==_&&(E!=null||_!=null))if(N==="style")if(_){for(m in _)!_.hasOwnProperty(m)||E&&E.hasOwnProperty(m)||(o||(o={}),o[m]="");for(m in E)E.hasOwnProperty(m)&&_[m]!==E[m]&&(o||(o={}),o[m]=E[m])}else o||(d||(d=[]),d.push(N,o)),o=E;else N==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,_=_?_.__html:void 0,E!=null&&_!==E&&(d=d||[]).push(N,E)):N==="children"?typeof E!="string"&&typeof E!="number"||(d=d||[]).push(N,""+E):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(l.hasOwnProperty(N)?(E!=null&&N==="onScroll"&&Ne("scroll",n),d||_===E||(d=[])):(d=d||[]).push(N,E))}o&&(d=d||[]).push("style",o);var N=d;(i.updateQueue=N)&&(i.flags|=4)}},Bh=function(n,i,o,a){o!==a&&(i.flags|=4)};function Ji(n,i){if(!Oe)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:a.sibling=null}}function at(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,a=0;if(i)for(var c=n.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=n,c=c.sibling;else for(c=n.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=n,c=c.sibling;return n.subtreeFlags|=a,n.childLanes=o,i}function X_(n,i,o){var a=i.pendingProps;switch(Ca(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return vt(i.type)&&oo(),at(i),null;case 3:return a=i.stateNode,Zr(),Re(yt),Re(ot),Ma(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(fo(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Vt!==null&&(du(Vt),Vt=null))),tu(n,i),at(i),null;case 5:Da(i);var c=ur(qi.current);if(o=i.type,n!==null&&i.stateNode!=null)Hh(n,i,o,a,c),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(n=ur(nn.current),fo(i)){a=i.stateNode,o=i.type;var d=i.memoizedProps;switch(a[tn]=i,a[zi]=d,n=(i.mode&1)!==0,o){case"dialog":Ne("cancel",a),Ne("close",a);break;case"iframe":case"object":case"embed":Ne("load",a);break;case"video":case"audio":for(c=0;c<Ui.length;c++)Ne(Ui[c],a);break;case"source":Ne("error",a);break;case"img":case"image":case"link":Ne("error",a),Ne("load",a);break;case"details":Ne("toggle",a);break;case"input":_f(a,d),Ne("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Ne("invalid",a);break;case"textarea":wf(a,d),Ne("invalid",a)}Ll(o,d),c=null;for(var m in d)if(d.hasOwnProperty(m)){var _=d[m];m==="children"?typeof _=="string"?a.textContent!==_&&(d.suppressHydrationWarning!==!0&&ro(a.textContent,_,n),c=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&ro(a.textContent,_,n),c=["children",""+_]):l.hasOwnProperty(m)&&_!=null&&m==="onScroll"&&Ne("scroll",a)}switch(o){case"input":Ds(a),Sf(a,d,!0);break;case"textarea":Ds(a),Tf(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=io)}a=c,i.updateQueue=a,a!==null&&(i.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=xf(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof a.is=="string"?n=m.createElement(o,{is:a.is}):(n=m.createElement(o),o==="select"&&(m=n,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):n=m.createElementNS(n,o),n[tn]=i,n[zi]=a,Fh(n,i,!1,!1),i.stateNode=n;e:{switch(m=Ml(o,a),o){case"dialog":Ne("cancel",n),Ne("close",n),c=a;break;case"iframe":case"object":case"embed":Ne("load",n),c=a;break;case"video":case"audio":for(c=0;c<Ui.length;c++)Ne(Ui[c],n);c=a;break;case"source":Ne("error",n),c=a;break;case"img":case"image":case"link":Ne("error",n),Ne("load",n),c=a;break;case"details":Ne("toggle",n),c=a;break;case"input":_f(n,a),c=Pl(n,a),Ne("invalid",n);break;case"option":c=a;break;case"select":n._wrapperState={wasMultiple:!!a.multiple},c=z({},a,{value:void 0}),Ne("invalid",n);break;case"textarea":wf(n,a),c=Ol(n,a),Ne("invalid",n);break;default:c=a}Ll(o,c),_=c;for(d in _)if(_.hasOwnProperty(d)){var E=_[d];d==="style"?Rf(n,E):d==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&If(n,E)):d==="children"?typeof E=="string"?(o!=="textarea"||E!=="")&&Si(n,E):typeof E=="number"&&Si(n,""+E):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?E!=null&&d==="onScroll"&&Ne("scroll",n):E!=null&&B(n,d,E,m))}switch(o){case"input":Ds(n),Sf(n,a,!1);break;case"textarea":Ds(n),Tf(n);break;case"option":a.value!=null&&n.setAttribute("value",""+de(a.value));break;case"select":n.multiple=!!a.multiple,d=a.value,d!=null?Or(n,!!a.multiple,d,!1):a.defaultValue!=null&&Or(n,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(n.onclick=io)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return at(i),null;case 6:if(n&&i.stateNode!=null)Bh(n,i,n.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(r(166));if(o=ur(qi.current),ur(nn.current),fo(i)){if(a=i.stateNode,o=i.memoizedProps,a[tn]=i,(d=a.nodeValue!==o)&&(n=kt,n!==null))switch(n.tag){case 3:ro(a.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ro(a.nodeValue,o,(n.mode&1)!==0)}d&&(i.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[tn]=i,i.stateNode=a}return at(i),null;case 13:if(Re(De),a=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Oe&&Pt!==null&&i.mode&1&&!(i.flags&128))$d(),qr(),i.flags|=98560,d=!1;else if(d=fo(i),a!==null&&a.dehydrated!==null){if(n===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[tn]=i}else qr(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;at(i),d=!1}else Vt!==null&&(du(Vt),Vt=null),d=!0;if(!d)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(a=a!==null,a!==(n!==null&&n.memoizedState!==null)&&a&&(i.child.flags|=8192,i.mode&1&&(n===null||De.current&1?Ge===0&&(Ge=3):mu())),i.updateQueue!==null&&(i.flags|=4),at(i),null);case 4:return Zr(),tu(n,i),n===null&&ji(i.stateNode.containerInfo),at(i),null;case 10:return ka(i.type._context),at(i),null;case 17:return vt(i.type)&&oo(),at(i),null;case 19:if(Re(De),d=i.memoizedState,d===null)return at(i),null;if(a=(i.flags&128)!==0,m=d.rendering,m===null)if(a)Ji(d,!1);else{if(Ge!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(m=vo(n),m!==null){for(i.flags|=128,Ji(d,!1),a=m.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=o,o=i.child;o!==null;)d=o,n=a,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=n,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,n=m.dependencies,d.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return xe(De,De.current&1|2),i.child}n=n.sibling}d.tail!==null&&Be()>ni&&(i.flags|=128,a=!0,Ji(d,!1),i.lanes=4194304)}else{if(!a)if(n=vo(m),n!==null){if(i.flags|=128,a=!0,o=n.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Ji(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Oe)return at(i),null}else 2*Be()-d.renderingStartTime>ni&&o!==1073741824&&(i.flags|=128,a=!0,Ji(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(o=d.last,o!==null?o.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Be(),i.sibling=null,o=De.current,xe(De,a?o&1|2:o&1),i):(at(i),null);case 22:case 23:return pu(),a=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==a&&(i.flags|=8192),a&&i.mode&1?At&1073741824&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function Z_(n,i){switch(Ca(i),i.tag){case 1:return vt(i.type)&&oo(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Zr(),Re(yt),Re(ot),Ma(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return Da(i),null;case 13:if(Re(De),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));qr()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Re(De),null;case 4:return Zr(),null;case 10:return ka(i.type._context),null;case 22:case 23:return pu(),null;case 24:return null;default:return null}}var No=!1,ut=!1,J_=typeof WeakSet=="function"?WeakSet:Set,V=null;function ei(n,i){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){He(n,i,a)}else o.current=null}function nu(n,i,o){try{o()}catch(a){He(n,i,a)}}var Uh=!1;function e0(n,i){if(pa=Vs,n=vd(),oa(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var m=0,_=-1,E=-1,N=0,O=0,M=n,b=null;t:for(;;){for(var W;M!==o||c!==0&&M.nodeType!==3||(_=m+c),M!==d||a!==0&&M.nodeType!==3||(E=m+a),M.nodeType===3&&(m+=M.nodeValue.length),(W=M.firstChild)!==null;)b=M,M=W;for(;;){if(M===n)break t;if(b===o&&++N===c&&(_=m),b===d&&++O===a&&(E=m),(W=M.nextSibling)!==null)break;M=b,b=M.parentNode}M=W}o=_===-1||E===-1?null:{start:_,end:E}}else o=null}o=o||{start:0,end:0}}else o=null;for(ma={focusedElem:n,selectionRange:o},Vs=!1,V=i;V!==null;)if(i=V,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,V=n;else for(;V!==null;){i=V;try{var Q=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var q=Q.memoizedProps,Ue=Q.memoizedState,T=i.stateNode,w=T.getSnapshotBeforeUpdate(i.elementType===i.type?q:Qt(i.type,q),Ue);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var I=i.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(H){He(i,i.return,H)}if(n=i.sibling,n!==null){n.return=i.return,V=n;break}V=i.return}return Q=Uh,Uh=!1,Q}function es(n,i,o){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&n)===n){var d=c.destroy;c.destroy=void 0,d!==void 0&&nu(i,o,d)}c=c.next}while(c!==a)}}function Ro(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&n)===n){var a=o.create;o.destroy=a()}o=o.next}while(o!==i)}}function ru(n){var i=n.ref;if(i!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof i=="function"?i(n):i.current=n}}function jh(n){var i=n.alternate;i!==null&&(n.alternate=null,jh(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[tn],delete i[zi],delete i[_a],delete i[M_],delete i[F_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function $h(n){return n.tag===5||n.tag===3||n.tag===4}function zh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$h(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function iu(n,i,o){var a=n.tag;if(a===5||a===6)n=n.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(n,i):o.insertBefore(n,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(n,o)):(i=o,i.appendChild(n)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=io));else if(a!==4&&(n=n.child,n!==null))for(iu(n,i,o),n=n.sibling;n!==null;)iu(n,i,o),n=n.sibling}function su(n,i,o){var a=n.tag;if(a===5||a===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(a!==4&&(n=n.child,n!==null))for(su(n,i,o),n=n.sibling;n!==null;)su(n,i,o),n=n.sibling}var et=null,qt=!1;function jn(n,i,o){for(o=o.child;o!==null;)Wh(n,i,o),o=o.sibling}function Wh(n,i,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Us,o)}catch{}switch(o.tag){case 5:ut||ei(o,i);case 6:var a=et,c=qt;et=null,jn(n,i,o),et=a,qt=c,et!==null&&(qt?(n=et,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):et.removeChild(o.stateNode));break;case 18:et!==null&&(qt?(n=et,o=o.stateNode,n.nodeType===8?va(n.parentNode,o):n.nodeType===1&&va(n,o),bi(n)):va(et,o.stateNode));break;case 4:a=et,c=qt,et=o.stateNode.containerInfo,qt=!0,jn(n,i,o),et=a,qt=c;break;case 0:case 11:case 14:case 15:if(!ut&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,m=d.destroy;d=d.tag,m!==void 0&&(d&2||d&4)&&nu(o,i,m),c=c.next}while(c!==a)}jn(n,i,o);break;case 1:if(!ut&&(ei(o,i),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(_){He(o,i,_)}jn(n,i,o);break;case 21:jn(n,i,o);break;case 22:o.mode&1?(ut=(a=ut)||o.memoizedState!==null,jn(n,i,o),ut=a):jn(n,i,o);break;default:jn(n,i,o)}}function Gh(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new J_),i.forEach(function(a){var c=u0.bind(null,n,a);o.has(a)||(o.add(a),a.then(c,c))})}}function Yt(n,i){var o=i.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var d=n,m=i,_=m;e:for(;_!==null;){switch(_.tag){case 5:et=_.stateNode,qt=!1;break e;case 3:et=_.stateNode.containerInfo,qt=!0;break e;case 4:et=_.stateNode.containerInfo,qt=!0;break e}_=_.return}if(et===null)throw Error(r(160));Wh(d,m,c),et=null,qt=!1;var E=c.alternate;E!==null&&(E.return=null),c.return=null}catch(N){He(c,i,N)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Vh(i,n),i=i.sibling}function Vh(n,i){var o=n.alternate,a=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Yt(i,n),sn(n),a&4){try{es(3,n,n.return),Ro(3,n)}catch(q){He(n,n.return,q)}try{es(5,n,n.return)}catch(q){He(n,n.return,q)}}break;case 1:Yt(i,n),sn(n),a&512&&o!==null&&ei(o,o.return);break;case 5:if(Yt(i,n),sn(n),a&512&&o!==null&&ei(o,o.return),n.flags&32){var c=n.stateNode;try{Si(c,"")}catch(q){He(n,n.return,q)}}if(a&4&&(c=n.stateNode,c!=null)){var d=n.memoizedProps,m=o!==null?o.memoizedProps:d,_=n.type,E=n.updateQueue;if(n.updateQueue=null,E!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&Ef(c,d),Ml(_,m);var N=Ml(_,d);for(m=0;m<E.length;m+=2){var O=E[m],M=E[m+1];O==="style"?Rf(c,M):O==="dangerouslySetInnerHTML"?If(c,M):O==="children"?Si(c,M):B(c,O,M,N)}switch(_){case"input":Al(c,d);break;case"textarea":Cf(c,d);break;case"select":var b=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var W=d.value;W!=null?Or(c,!!d.multiple,W,!1):b!==!!d.multiple&&(d.defaultValue!=null?Or(c,!!d.multiple,d.defaultValue,!0):Or(c,!!d.multiple,d.multiple?[]:"",!1))}c[zi]=d}catch(q){He(n,n.return,q)}}break;case 6:if(Yt(i,n),sn(n),a&4){if(n.stateNode===null)throw Error(r(162));c=n.stateNode,d=n.memoizedProps;try{c.nodeValue=d}catch(q){He(n,n.return,q)}}break;case 3:if(Yt(i,n),sn(n),a&4&&o!==null&&o.memoizedState.isDehydrated)try{bi(i.containerInfo)}catch(q){He(n,n.return,q)}break;case 4:Yt(i,n),sn(n);break;case 13:Yt(i,n),sn(n),c=n.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(au=Be())),a&4&&Gh(n);break;case 22:if(O=o!==null&&o.memoizedState!==null,n.mode&1?(ut=(N=ut)||O,Yt(i,n),ut=N):Yt(i,n),sn(n),a&8192){if(N=n.memoizedState!==null,(n.stateNode.isHidden=N)&&!O&&n.mode&1)for(V=n,O=n.child;O!==null;){for(M=V=O;V!==null;){switch(b=V,W=b.child,b.tag){case 0:case 11:case 14:case 15:es(4,b,b.return);break;case 1:ei(b,b.return);var Q=b.stateNode;if(typeof Q.componentWillUnmount=="function"){a=b,o=b.return;try{i=a,Q.props=i.memoizedProps,Q.state=i.memoizedState,Q.componentWillUnmount()}catch(q){He(a,o,q)}}break;case 5:ei(b,b.return);break;case 22:if(b.memoizedState!==null){Yh(M);continue}}W!==null?(W.return=b,V=W):Yh(M)}O=O.sibling}e:for(O=null,M=n;;){if(M.tag===5){if(O===null){O=M;try{c=M.stateNode,N?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=M.stateNode,E=M.memoizedProps.style,m=E!=null&&E.hasOwnProperty("display")?E.display:null,_.style.display=Nf("display",m))}catch(q){He(n,n.return,q)}}}else if(M.tag===6){if(O===null)try{M.stateNode.nodeValue=N?"":M.memoizedProps}catch(q){He(n,n.return,q)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===n)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===n)break e;for(;M.sibling===null;){if(M.return===null||M.return===n)break e;O===M&&(O=null),M=M.return}O===M&&(O=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:Yt(i,n),sn(n),a&4&&Gh(n);break;case 21:break;default:Yt(i,n),sn(n)}}function sn(n){var i=n.flags;if(i&2){try{e:{for(var o=n.return;o!==null;){if($h(o)){var a=o;break e}o=o.return}throw Error(r(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Si(c,""),a.flags&=-33);var d=zh(n);su(n,d,c);break;case 3:case 4:var m=a.stateNode.containerInfo,_=zh(n);iu(n,_,m);break;default:throw Error(r(161))}}catch(E){He(n,n.return,E)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function t0(n,i,o){V=n,Qh(n)}function Qh(n,i,o){for(var a=(n.mode&1)!==0;V!==null;){var c=V,d=c.child;if(c.tag===22&&a){var m=c.memoizedState!==null||No;if(!m){var _=c.alternate,E=_!==null&&_.memoizedState!==null||ut;_=No;var N=ut;if(No=m,(ut=E)&&!N)for(V=c;V!==null;)m=V,E=m.child,m.tag===22&&m.memoizedState!==null?Kh(c):E!==null?(E.return=m,V=E):Kh(c);for(;d!==null;)V=d,Qh(d),d=d.sibling;V=c,No=_,ut=N}qh(n)}else c.subtreeFlags&8772&&d!==null?(d.return=c,V=d):qh(n)}}function qh(n){for(;V!==null;){var i=V;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ut||Ro(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!ut)if(o===null)a.componentDidMount();else{var c=i.elementType===i.type?o.memoizedProps:Qt(i.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=i.updateQueue;d!==null&&Yd(i,d,a);break;case 3:var m=i.updateQueue;if(m!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}Yd(i,m,o)}break;case 5:var _=i.stateNode;if(o===null&&i.flags&4){o=_;var E=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&o.focus();break;case"img":E.src&&(o.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var N=i.alternate;if(N!==null){var O=N.memoizedState;if(O!==null){var M=O.dehydrated;M!==null&&bi(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ut||i.flags&512&&ru(i)}catch(b){He(i,i.return,b)}}if(i===n){V=null;break}if(o=i.sibling,o!==null){o.return=i.return,V=o;break}V=i.return}}function Yh(n){for(;V!==null;){var i=V;if(i===n){V=null;break}var o=i.sibling;if(o!==null){o.return=i.return,V=o;break}V=i.return}}function Kh(n){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Ro(4,i)}catch(E){He(i,o,E)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var c=i.return;try{a.componentDidMount()}catch(E){He(i,c,E)}}var d=i.return;try{ru(i)}catch(E){He(i,d,E)}break;case 5:var m=i.return;try{ru(i)}catch(E){He(i,m,E)}}}catch(E){He(i,i.return,E)}if(i===n){V=null;break}var _=i.sibling;if(_!==null){_.return=i.return,V=_;break}V=i.return}}var n0=Math.ceil,ko=J.ReactCurrentDispatcher,ou=J.ReactCurrentOwner,Mt=J.ReactCurrentBatchConfig,me=0,Ke=null,$e=null,tt=0,At=0,ti=Mn(0),Ge=0,ts=null,fr=0,Po=0,lu=0,ns=null,Et=null,au=0,ni=1/0,En=null,Ao=!1,uu=null,$n=null,bo=!1,zn=null,Oo=0,rs=0,cu=null,Do=-1,Lo=0;function pt(){return me&6?Be():Do!==-1?Do:Do=Be()}function Wn(n){return n.mode&1?me&2&&tt!==0?tt&-tt:B_.transition!==null?(Lo===0&&(Lo=zf()),Lo):(n=we,n!==0||(n=window.event,n=n===void 0?16:Zf(n.type)),n):1}function Kt(n,i,o,a){if(50<rs)throw rs=0,cu=null,Error(r(185));Ni(n,o,a),(!(me&2)||n!==Ke)&&(n===Ke&&(!(me&2)&&(Po|=o),Ge===4&&Gn(n,tt)),St(n,a),o===1&&me===0&&!(i.mode&1)&&(ni=Be()+500,ao&&Hn()))}function St(n,i){var o=n.callbackNode;Bv(n,i);var a=zs(n,n===Ke?tt:0);if(a===0)o!==null&&Uf(o),n.callbackNode=null,n.callbackPriority=0;else if(i=a&-a,n.callbackPriority!==i){if(o!=null&&Uf(o),i===1)n.tag===0?H_(Zh.bind(null,n)):Fd(Zh.bind(null,n)),D_(function(){!(me&6)&&Hn()}),o=null;else{switch(Wf(a)){case 1:o=zl;break;case 4:o=jf;break;case 16:o=Bs;break;case 536870912:o=$f;break;default:o=Bs}o=op(o,Xh.bind(null,n))}n.callbackPriority=i,n.callbackNode=o}}function Xh(n,i){if(Do=-1,Lo=0,me&6)throw Error(r(327));var o=n.callbackNode;if(ri()&&n.callbackNode!==o)return null;var a=zs(n,n===Ke?tt:0);if(a===0)return null;if(a&30||a&n.expiredLanes||i)i=Mo(n,a);else{i=a;var c=me;me|=2;var d=ep();(Ke!==n||tt!==i)&&(En=null,ni=Be()+500,hr(n,i));do try{s0();break}catch(_){Jh(n,_)}while(!0);Ra(),ko.current=d,me=c,$e!==null?i=0:(Ke=null,tt=0,i=Ge)}if(i!==0){if(i===2&&(c=Wl(n),c!==0&&(a=c,i=fu(n,c))),i===1)throw o=ts,hr(n,0),Gn(n,a),St(n,Be()),o;if(i===6)Gn(n,a);else{if(c=n.current.alternate,!(a&30)&&!r0(c)&&(i=Mo(n,a),i===2&&(d=Wl(n),d!==0&&(a=d,i=fu(n,d))),i===1))throw o=ts,hr(n,0),Gn(n,a),St(n,Be()),o;switch(n.finishedWork=c,n.finishedLanes=a,i){case 0:case 1:throw Error(r(345));case 2:pr(n,Et,En);break;case 3:if(Gn(n,a),(a&130023424)===a&&(i=au+500-Be(),10<i)){if(zs(n,0)!==0)break;if(c=n.suspendedLanes,(c&a)!==a){pt(),n.pingedLanes|=n.suspendedLanes&c;break}n.timeoutHandle=ya(pr.bind(null,n,Et,En),i);break}pr(n,Et,En);break;case 4:if(Gn(n,a),(a&4194240)===a)break;for(i=n.eventTimes,c=-1;0<a;){var m=31-Wt(a);d=1<<m,m=i[m],m>c&&(c=m),a&=~d}if(a=c,a=Be()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*n0(a/1960))-a,10<a){n.timeoutHandle=ya(pr.bind(null,n,Et,En),a);break}pr(n,Et,En);break;case 5:pr(n,Et,En);break;default:throw Error(r(329))}}}return St(n,Be()),n.callbackNode===o?Xh.bind(null,n):null}function fu(n,i){var o=ns;return n.current.memoizedState.isDehydrated&&(hr(n,i).flags|=256),n=Mo(n,i),n!==2&&(i=Et,Et=o,i!==null&&du(i)),n}function du(n){Et===null?Et=n:Et.push.apply(Et,n)}function r0(n){for(var i=n;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],d=c.getSnapshot;c=c.value;try{if(!Gt(d(),c))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gn(n,i){for(i&=~lu,i&=~Po,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var o=31-Wt(i),a=1<<o;n[o]=-1,i&=~a}}function Zh(n){if(me&6)throw Error(r(327));ri();var i=zs(n,0);if(!(i&1))return St(n,Be()),null;var o=Mo(n,i);if(n.tag!==0&&o===2){var a=Wl(n);a!==0&&(i=a,o=fu(n,a))}if(o===1)throw o=ts,hr(n,0),Gn(n,i),St(n,Be()),o;if(o===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,pr(n,Et,En),St(n,Be()),null}function hu(n,i){var o=me;me|=1;try{return n(i)}finally{me=o,me===0&&(ni=Be()+500,ao&&Hn())}}function dr(n){zn!==null&&zn.tag===0&&!(me&6)&&ri();var i=me;me|=1;var o=Mt.transition,a=we;try{if(Mt.transition=null,we=1,n)return n()}finally{we=a,Mt.transition=o,me=i,!(me&6)&&Hn()}}function pu(){At=ti.current,Re(ti)}function hr(n,i){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,O_(o)),$e!==null)for(o=$e.return;o!==null;){var a=o;switch(Ca(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&oo();break;case 3:Zr(),Re(yt),Re(ot),Ma();break;case 5:Da(a);break;case 4:Zr();break;case 13:Re(De);break;case 19:Re(De);break;case 10:ka(a.type._context);break;case 22:case 23:pu()}o=o.return}if(Ke=n,$e=n=Vn(n.current,null),tt=At=i,Ge=0,ts=null,lu=Po=fr=0,Et=ns=null,ar!==null){for(i=0;i<ar.length;i++)if(o=ar[i],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,d=o.pending;if(d!==null){var m=d.next;d.next=c,a.next=m}o.pending=a}ar=null}return n}function Jh(n,i){do{var o=$e;try{if(Ra(),_o.current=Co,Eo){for(var a=Le.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Eo=!1}if(cr=0,Ye=We=Le=null,Yi=!1,Ki=0,ou.current=null,o===null||o.return===null){Ge=1,ts=i,$e=null;break}e:{var d=n,m=o.return,_=o,E=i;if(i=tt,_.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var N=E,O=_,M=O.tag;if(!(O.mode&1)&&(M===0||M===11||M===15)){var b=O.alternate;b?(O.updateQueue=b.updateQueue,O.memoizedState=b.memoizedState,O.lanes=b.lanes):(O.updateQueue=null,O.memoizedState=null)}var W=Th(m);if(W!==null){W.flags&=-257,xh(W,m,_,d,i),W.mode&1&&Ch(d,N,i),i=W,E=N;var Q=i.updateQueue;if(Q===null){var q=new Set;q.add(E),i.updateQueue=q}else Q.add(E);break e}else{if(!(i&1)){Ch(d,N,i),mu();break e}E=Error(r(426))}}else if(Oe&&_.mode&1){var Ue=Th(m);if(Ue!==null){!(Ue.flags&65536)&&(Ue.flags|=256),xh(Ue,m,_,d,i),Ia(Jr(E,_));break e}}d=E=Jr(E,_),Ge!==4&&(Ge=2),ns===null?ns=[d]:ns.push(d),d=m;do{switch(d.tag){case 3:d.flags|=65536,i&=-i,d.lanes|=i;var T=Sh(d,E,i);qd(d,T);break e;case 1:_=E;var w=d.type,I=d.stateNode;if(!(d.flags&128)&&(typeof w.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&($n===null||!$n.has(I)))){d.flags|=65536,i&=-i,d.lanes|=i;var H=wh(d,_,i);qd(d,H);break e}}d=d.return}while(d!==null)}np(o)}catch(X){i=X,$e===o&&o!==null&&($e=o=o.return);continue}break}while(!0)}function ep(){var n=ko.current;return ko.current=Co,n===null?Co:n}function mu(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ke===null||!(fr&268435455)&&!(Po&268435455)||Gn(Ke,tt)}function Mo(n,i){var o=me;me|=2;var a=ep();(Ke!==n||tt!==i)&&(En=null,hr(n,i));do try{i0();break}catch(c){Jh(n,c)}while(!0);if(Ra(),me=o,ko.current=a,$e!==null)throw Error(r(261));return Ke=null,tt=0,Ge}function i0(){for(;$e!==null;)tp($e)}function s0(){for(;$e!==null&&!Pv();)tp($e)}function tp(n){var i=sp(n.alternate,n,At);n.memoizedProps=n.pendingProps,i===null?np(n):$e=i,ou.current=null}function np(n){var i=n;do{var o=i.alternate;if(n=i.return,i.flags&32768){if(o=Z_(o,i),o!==null){o.flags&=32767,$e=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ge=6,$e=null;return}}else if(o=X_(o,i,At),o!==null){$e=o;return}if(i=i.sibling,i!==null){$e=i;return}$e=i=n}while(i!==null);Ge===0&&(Ge=5)}function pr(n,i,o){var a=we,c=Mt.transition;try{Mt.transition=null,we=1,o0(n,i,o,a)}finally{Mt.transition=c,we=a}return null}function o0(n,i,o,a){do ri();while(zn!==null);if(me&6)throw Error(r(327));o=n.finishedWork;var c=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var d=o.lanes|o.childLanes;if(Uv(n,d),n===Ke&&($e=Ke=null,tt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||bo||(bo=!0,op(Bs,function(){return ri(),null})),d=(o.flags&15990)!==0,o.subtreeFlags&15990||d){d=Mt.transition,Mt.transition=null;var m=we;we=1;var _=me;me|=4,ou.current=null,e0(n,o),Vh(o,n),I_(ma),Vs=!!pa,ma=pa=null,n.current=o,t0(o),Av(),me=_,we=m,Mt.transition=d}else n.current=o;if(bo&&(bo=!1,zn=n,Oo=c),d=n.pendingLanes,d===0&&($n=null),Dv(o.stateNode),St(n,Be()),i!==null)for(a=n.onRecoverableError,o=0;o<i.length;o++)c=i[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(Ao)throw Ao=!1,n=uu,uu=null,n;return Oo&1&&n.tag!==0&&ri(),d=n.pendingLanes,d&1?n===cu?rs++:(rs=0,cu=n):rs=0,Hn(),null}function ri(){if(zn!==null){var n=Wf(Oo),i=Mt.transition,o=we;try{if(Mt.transition=null,we=16>n?16:n,zn===null)var a=!1;else{if(n=zn,zn=null,Oo=0,me&6)throw Error(r(331));var c=me;for(me|=4,V=n.current;V!==null;){var d=V,m=d.child;if(V.flags&16){var _=d.deletions;if(_!==null){for(var E=0;E<_.length;E++){var N=_[E];for(V=N;V!==null;){var O=V;switch(O.tag){case 0:case 11:case 15:es(8,O,d)}var M=O.child;if(M!==null)M.return=O,V=M;else for(;V!==null;){O=V;var b=O.sibling,W=O.return;if(jh(O),O===N){V=null;break}if(b!==null){b.return=W,V=b;break}V=W}}}var Q=d.alternate;if(Q!==null){var q=Q.child;if(q!==null){Q.child=null;do{var Ue=q.sibling;q.sibling=null,q=Ue}while(q!==null)}}V=d}}if(d.subtreeFlags&2064&&m!==null)m.return=d,V=m;else e:for(;V!==null;){if(d=V,d.flags&2048)switch(d.tag){case 0:case 11:case 15:es(9,d,d.return)}var T=d.sibling;if(T!==null){T.return=d.return,V=T;break e}V=d.return}}var w=n.current;for(V=w;V!==null;){m=V;var I=m.child;if(m.subtreeFlags&2064&&I!==null)I.return=m,V=I;else e:for(m=w;V!==null;){if(_=V,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Ro(9,_)}}catch(X){He(_,_.return,X)}if(_===m){V=null;break e}var H=_.sibling;if(H!==null){H.return=_.return,V=H;break e}V=_.return}}if(me=c,Hn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Us,n)}catch{}a=!0}return a}finally{we=o,Mt.transition=i}}return!1}function rp(n,i,o){i=Jr(o,i),i=Sh(n,i,1),n=Un(n,i,1),i=pt(),n!==null&&(Ni(n,1,i),St(n,i))}function He(n,i,o){if(n.tag===3)rp(n,n,o);else for(;i!==null;){if(i.tag===3){rp(i,n,o);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&($n===null||!$n.has(a))){n=Jr(o,n),n=wh(i,n,1),i=Un(i,n,1),n=pt(),i!==null&&(Ni(i,1,n),St(i,n));break}}i=i.return}}function l0(n,i,o){var a=n.pingCache;a!==null&&a.delete(i),i=pt(),n.pingedLanes|=n.suspendedLanes&o,Ke===n&&(tt&o)===o&&(Ge===4||Ge===3&&(tt&130023424)===tt&&500>Be()-au?hr(n,0):lu|=o),St(n,i)}function ip(n,i){i===0&&(n.mode&1?(i=$s,$s<<=1,!($s&130023424)&&($s=4194304)):i=1);var o=pt();n=yn(n,i),n!==null&&(Ni(n,i,o),St(n,o))}function a0(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),ip(n,o)}function u0(n,i){var o=0;switch(n.tag){case 13:var a=n.stateNode,c=n.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=n.stateNode;break;default:throw Error(r(314))}a!==null&&a.delete(i),ip(n,o)}var sp;sp=function(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps||yt.current)_t=!0;else{if(!(n.lanes&o)&&!(i.flags&128))return _t=!1,K_(n,i,o);_t=!!(n.flags&131072)}else _t=!1,Oe&&i.flags&1048576&&Hd(i,co,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;Io(n,i),n=i.pendingProps;var c=Gr(i,ot.current);Xr(i,o),c=Ba(null,i,a,n,c,o);var d=Ua();return i.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,vt(a)?(d=!0,lo(i)):d=!1,i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ba(i),c.updater=To,i.stateNode=c,c._reactInternals=i,Va(i,a,n,o),i=Ka(null,i,a,!0,d,o)):(i.tag=0,Oe&&d&&wa(i),ht(null,i,c,o),i=i.child),i;case 16:a=i.elementType;e:{switch(Io(n,i),n=i.pendingProps,c=a._init,a=c(a._payload),i.type=a,c=i.tag=f0(a),n=Qt(a,n),c){case 0:i=Ya(null,i,a,n,o);break e;case 1:i=Ah(null,i,a,n,o);break e;case 11:i=Ih(null,i,a,n,o);break e;case 14:i=Nh(null,i,a,Qt(a.type,n),o);break e}throw Error(r(306,a,""))}return i;case 0:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Qt(a,c),Ya(n,i,a,c,o);case 1:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Qt(a,c),Ah(n,i,a,c,o);case 3:e:{if(bh(i),n===null)throw Error(r(387));a=i.pendingProps,d=i.memoizedState,c=d.element,Qd(n,i),yo(i,a,null,o);var m=i.memoizedState;if(a=m.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){c=Jr(Error(r(423)),i),i=Oh(n,i,a,o,c);break e}else if(a!==c){c=Jr(Error(r(424)),i),i=Oh(n,i,a,o,c);break e}else for(Pt=Ln(i.stateNode.containerInfo.firstChild),kt=i,Oe=!0,Vt=null,o=Gd(i,null,a,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(qr(),a===c){i=_n(n,i,o);break e}ht(n,i,a,o)}i=i.child}return i;case 5:return Kd(i),n===null&&xa(i),a=i.type,c=i.pendingProps,d=n!==null?n.memoizedProps:null,m=c.children,ga(a,c)?m=null:d!==null&&ga(a,d)&&(i.flags|=32),Ph(n,i),ht(n,i,m,o),i.child;case 6:return n===null&&xa(i),null;case 13:return Dh(n,i,o);case 4:return Oa(i,i.stateNode.containerInfo),a=i.pendingProps,n===null?i.child=Yr(i,null,a,o):ht(n,i,a,o),i.child;case 11:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Qt(a,c),Ih(n,i,a,c,o);case 7:return ht(n,i,i.pendingProps,o),i.child;case 8:return ht(n,i,i.pendingProps.children,o),i.child;case 12:return ht(n,i,i.pendingProps.children,o),i.child;case 10:e:{if(a=i.type._context,c=i.pendingProps,d=i.memoizedProps,m=c.value,xe(po,a._currentValue),a._currentValue=m,d!==null)if(Gt(d.value,m)){if(d.children===c.children&&!yt.current){i=_n(n,i,o);break e}}else for(d=i.child,d!==null&&(d.return=i);d!==null;){var _=d.dependencies;if(_!==null){m=d.child;for(var E=_.firstContext;E!==null;){if(E.context===a){if(d.tag===1){E=vn(-1,o&-o),E.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var O=N.pending;O===null?E.next=E:(E.next=O.next,O.next=E),N.pending=E}}d.lanes|=o,E=d.alternate,E!==null&&(E.lanes|=o),Pa(d.return,o,i),_.lanes|=o;break}E=E.next}}else if(d.tag===10)m=d.type===i.type?null:d.child;else if(d.tag===18){if(m=d.return,m===null)throw Error(r(341));m.lanes|=o,_=m.alternate,_!==null&&(_.lanes|=o),Pa(m,o,i),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===i){m=null;break}if(d=m.sibling,d!==null){d.return=m.return,m=d;break}m=m.return}d=m}ht(n,i,c.children,o),i=i.child}return i;case 9:return c=i.type,a=i.pendingProps.children,Xr(i,o),c=Dt(c),a=a(c),i.flags|=1,ht(n,i,a,o),i.child;case 14:return a=i.type,c=Qt(a,i.pendingProps),c=Qt(a.type,c),Nh(n,i,a,c,o);case 15:return Rh(n,i,i.type,i.pendingProps,o);case 17:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Qt(a,c),Io(n,i),i.tag=1,vt(a)?(n=!0,lo(i)):n=!1,Xr(i,o),_h(i,a,c),Va(i,a,c,o),Ka(null,i,a,!0,n,o);case 19:return Mh(n,i,o);case 22:return kh(n,i,o)}throw Error(r(156,i.tag))};function op(n,i){return Bf(n,i)}function c0(n,i,o,a){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(n,i,o,a){return new c0(n,i,o,a)}function gu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function f0(n){if(typeof n=="function")return gu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===it)return 11;if(n===st)return 14}return 2}function Vn(n,i){var o=n.alternate;return o===null?(o=Ft(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Fo(n,i,o,a,c,d){var m=2;if(a=n,typeof n=="function")gu(n)&&(m=1);else if(typeof n=="string")m=5;else e:switch(n){case ye:return mr(o.children,c,d,i);case Qe:m=8,c|=8;break;case It:return n=Ft(12,o,i,c|2),n.elementType=It,n.lanes=d,n;case je:return n=Ft(13,o,i,c),n.elementType=je,n.lanes=d,n;case qe:return n=Ft(19,o,i,c),n.elementType=qe,n.lanes=d,n;case Te:return Ho(o,c,d,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Fe:m=10;break e;case dt:m=9;break e;case it:m=11;break e;case st:m=14;break e;case ze:m=16,a=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=Ft(m,o,i,c),i.elementType=n,i.type=a,i.lanes=d,i}function mr(n,i,o,a){return n=Ft(7,n,a,i),n.lanes=o,n}function Ho(n,i,o,a){return n=Ft(22,n,a,i),n.elementType=Te,n.lanes=o,n.stateNode={isHidden:!1},n}function yu(n,i,o){return n=Ft(6,n,null,i),n.lanes=o,n}function vu(n,i,o){return i=Ft(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function d0(n,i,o,a,c){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function _u(n,i,o,a,c,d,m,_,E){return n=new d0(n,i,o,_,E),i===1?(i=1,d===!0&&(i|=8)):i=0,d=Ft(3,null,null,i),n.current=d,d.stateNode=n,d.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ba(d),n}function h0(n,i,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:a==null?null:""+a,children:n,containerInfo:i,implementation:o}}function lp(n){if(!n)return Fn;n=n._reactInternals;e:{if(rr(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(vt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var o=n.type;if(vt(o))return Ld(n,o,i)}return i}function ap(n,i,o,a,c,d,m,_,E){return n=_u(o,a,!0,n,c,d,m,_,E),n.context=lp(null),o=n.current,a=pt(),c=Wn(o),d=vn(a,c),d.callback=i??null,Un(o,d,c),n.current.lanes=c,Ni(n,c,a),St(n,a),n}function Bo(n,i,o,a){var c=i.current,d=pt(),m=Wn(c);return o=lp(o),i.context===null?i.context=o:i.pendingContext=o,i=vn(d,m),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Un(c,i,m),n!==null&&(Kt(n,c,m,d),go(n,c,m)),m}function Uo(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function up(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Eu(n,i){up(n,i),(n=n.alternate)&&up(n,i)}var cp=typeof reportError=="function"?reportError:function(n){console.error(n)};function Su(n){this._internalRoot=n}jo.prototype.render=Su.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));Bo(n,i,null,null)},jo.prototype.unmount=Su.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;dr(function(){Bo(null,n,null,null)}),i[hn]=null}};function jo(n){this._internalRoot=n}jo.prototype.unstable_scheduleHydration=function(n){if(n){var i=Qf();n={blockedOn:null,target:n,priority:i};for(var o=0;o<bn.length&&i!==0&&i<bn[o].priority;o++);bn.splice(o,0,n),o===0&&Kf(n)}};function wu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function $o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function fp(){}function p0(n,i,o,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var N=Uo(m);d.call(N)}}var m=ap(i,a,n,0,null,!1,!1,"",fp);return n._reactRootContainer=m,n[hn]=m.current,ji(n.nodeType===8?n.parentNode:n),dr(),m}for(;c=n.lastChild;)n.removeChild(c);if(typeof a=="function"){var _=a;a=function(){var N=Uo(E);_.call(N)}}var E=_u(n,0,!1,null,null,!1,!1,"",fp);return n._reactRootContainer=E,n[hn]=E.current,ji(n.nodeType===8?n.parentNode:n),dr(function(){Bo(i,E,o,a)}),E}function zo(n,i,o,a,c){var d=o._reactRootContainer;if(d){var m=d;if(typeof c=="function"){var _=c;c=function(){var E=Uo(m);_.call(E)}}Bo(i,m,n,c)}else m=p0(o,i,n,c,a);return Uo(m)}Gf=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var o=Ii(i.pendingLanes);o!==0&&(Vl(i,o|1),St(i,Be()),!(me&6)&&(ni=Be()+500,Hn()))}break;case 13:dr(function(){var a=yn(n,1);if(a!==null){var c=pt();Kt(a,n,1,c)}}),Eu(n,1)}},Ql=function(n){if(n.tag===13){var i=yn(n,134217728);if(i!==null){var o=pt();Kt(i,n,134217728,o)}Eu(n,134217728)}},Vf=function(n){if(n.tag===13){var i=Wn(n),o=yn(n,i);if(o!==null){var a=pt();Kt(o,n,i,a)}Eu(n,i)}},Qf=function(){return we},qf=function(n,i){var o=we;try{return we=n,i()}finally{we=o}},Bl=function(n,i,o){switch(i){case"input":if(Al(n,o),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var a=o[i];if(a!==n&&a.form===n.form){var c=so(a);if(!c)throw Error(r(90));vf(a),Al(a,c)}}}break;case"textarea":Cf(n,o);break;case"select":i=o.value,i!=null&&Or(n,!!o.multiple,i,!1)}},bf=hu,Of=dr;var m0={usingClientEntryPoint:!1,Events:[Wi,zr,so,Pf,Af,hu]},is={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g0={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ff(n),n===null?null:n.stateNode},findFiberByHostInstance:is.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{Us=Wo.inject(g0),en=Wo}catch{}}return wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m0,wt.createPortal=function(n,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wu(i))throw Error(r(200));return h0(n,i,null,o)},wt.createRoot=function(n,i){if(!wu(n))throw Error(r(299));var o=!1,a="",c=cp;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),i=_u(n,1,!1,null,null,o,!1,a,c),n[hn]=i.current,ji(n.nodeType===8?n.parentNode:n),new Su(i)},wt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Ff(i),n=n===null?null:n.stateNode,n},wt.flushSync=function(n){return dr(n)},wt.hydrate=function(n,i,o){if(!$o(i))throw Error(r(200));return zo(null,n,i,!0,o)},wt.hydrateRoot=function(n,i,o){if(!wu(n))throw Error(r(405));var a=o!=null&&o.hydratedSources||null,c=!1,d="",m=cp;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),i=ap(i,null,n,1,o??null,c,!1,d,m),n[hn]=i.current,ji(n),a)for(n=0;n<a.length;n++)o=a[n],c=o._getVersion,c=c(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,c]:i.mutableSourceEagerHydrationData.push(o,c);return new jo(i)},wt.render=function(n,i,o){if(!$o(i))throw Error(r(200));return zo(null,n,i,!1,o)},wt.unmountComponentAtNode=function(n){if(!$o(n))throw Error(r(40));return n._reactRootContainer?(dr(function(){zo(null,null,n,!1,function(){n._reactRootContainer=null,n[hn]=null})}),!0):!1},wt.unstable_batchedUpdates=hu,wt.unstable_renderSubtreeIntoContainer=function(n,i,o,a){if(!$o(o))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return zo(n,i,o,!1,a)},wt.version="18.3.1-next-f1338f8080-20240426",wt}var Ep;function Um(){if(Ep)return Iu.exports;Ep=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Iu.exports=N0(),Iu.exports}var Sp;function R0(){if(Sp)return Go;Sp=1;var t=Um();return Go.createRoot=t.createRoot,Go.hydrateRoot=t.hydrateRoot,Go}var k0=R0();const jm="/DIRI_UI/assets/Hamburg-5kXPp-4v.jpg";let P0=class{constructor(){Cu(this,"levels");Cu(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(e){this.levels.includes(e)?this.currentLevel=e:console.error(`Nivel de log no válido: ${e}`)}log(e,r){const s=this.levels.indexOf(e),l=this.levels.indexOf(this.currentLevel);if(s>=l){const u=new Date().toISOString();console[e](`[${e.toUpperCase()}] ${u}: ${r}`)}}debug(e){this.log("debug",e)}info(e){this.log("info",e)}warn(e){this.log("warn",e)}error(e){this.log("error",e)}};const Tr=new P0,A0=async(t,e,r)=>{r(!0);try{const s=await fetch(`https://timeapi.io/api/time/current/zone?timeZone=${t}`);if(!s.ok)throw new Error(`Error: ${s.status}`);const l=await s.json();return e(l),l}catch(s){console.error("Fetch error:",s),e(void 0)}finally{Tr.debug("Finaliza"),r(!1)}};var wp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw hi(e)},hi=function(t){return new Error("Firebase Database ("+$m.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=function(t){const e=[];let r=0;for(let s=0;s<t.length;s++){let l=t.charCodeAt(s);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(t.charCodeAt(++s)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},b0=function(t){const e=[];let r=0,s=0;for(;r<t.length;){const l=t[r++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=t[r++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=t[r++],f=t[r++],h=t[r++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=t[r++],f=t[r++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},bc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<t.length;l+=3){const u=t[l],f=l+1<t.length,h=f?t[l+1]:0,p=l+2<t.length,g=p?t[l+2]:0,y=u>>2,v=(u&3)<<4|h>>4;let S=(h&15)<<2|g>>6,R=g&63;p||(R=64,f||(S=64)),s.push(r[y],r[v],r[S],r[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):b0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<t.length;){const u=r[t.charAt(l++)],h=l<t.length?r[t.charAt(l)]:0;++l;const g=l<t.length?r[t.charAt(l)]:64;++l;const v=l<t.length?r[t.charAt(l)]:64;if(++l,u==null||h==null||g==null||v==null)throw new O0;const S=u<<2|h>>4;if(s.push(S),g!==64){const R=h<<4&240|g>>2;if(s.push(R),v!==64){const k=g<<6&192|v;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class O0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wm=function(t){const e=zm(t);return bc.encodeByteArray(e,!0)},Jo=function(t){return Wm(t).replace(/\./g,"")},qu=function(t){try{return bc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){return Gm(void 0,t)}function Gm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!L0(r)||(t[r]=Gm(t[r],e[r]));return t}function L0(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=()=>M0().__FIREBASE_DEFAULTS__,H0=()=>{if(typeof process>"u"||typeof wp>"u")return;const t=wp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qu(t[1]);return e&&JSON.parse(e)},Vm=()=>{try{return F0()||H0()||B0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},U0=t=>{var e,r;return(r=(e=Vm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},j0=t=>{const e=U0(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},Qm=()=>{var t;return(t=Vm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",l=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jo(JSON.stringify(r)),Jo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(z0())}function W0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G0(){return $m.NODE_ADMIN===!0}function V0(){try{return typeof indexedDB=="object"}catch{return!1}}function Q0(){return new Promise((t,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),t(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="FirebaseError";class Ts extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=q0,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ym.prototype.create)}}class Ym{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?Y0(u,s):"Error",h=`${this.serviceName}: ${f} (${l}).`;return new Ts(l,h,s)}}function Y0(t,e){return t.replace(K0,(r,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const K0=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=function(t){let e={},r={},s={},l="";try{const u=t.split(".");e=_s(qu(u[0])||""),r=_s(qu(u[1])||""),l=u[2],s=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:s,signature:l}},X0=function(t){const e=Km(t),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Z0=function(t){const e=Km(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ai(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Cp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function el(t,e,r){const s={};for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(s[l]=e.call(r,t[l],l,t));return s}function Yu(t,e){if(t===e)return!0;const r=Object.keys(t),s=Object.keys(e);for(const l of r){if(!s.includes(l))return!1;const u=t[l],f=e[l];if(Tp(u)&&Tp(f)){if(!Yu(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function Tp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){const e=[];for(const[r,s]of Object.entries(t))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const s=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)s[v]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let v=0;v<16;v++)s[v]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let v=16;v<80;v++){const S=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(S<<1|S>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,y;for(let v=0;v<80;v++){v<40?v<20?(g=h^u&(f^h),y=1518500249):(g=u^f^h,y=1859775393):v<60?(g=u&f|h&(u|f),y=2400959708):(g=u^f^h,y=3395469782);const S=(l<<5|l>>>27)+g+p+y+s[v]&4294967295;p=h,h=f,f=(u<<30|u>>>2)&4294967295,u=l,l=S}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const s=r-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<r;){if(f===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<r;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<r;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function Oc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(t){const e=[];let r=0;for(let s=0;s<t.length;s++){let l=t.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,j(s<t.length,"Surrogate pair missing trail surrogate.");const f=t.charCodeAt(s)-56320;l=65536+(u<<10)+f}l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):l<65536?(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},ml=function(t){let e=0;for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nE=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new pl;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iE(e))try{this.getOrInitializeService({instanceIdentifier:yr})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yr){return this.instances.has(e)}getOptions(e=yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&f.resolve(l)}return l}onInit(e,r){var s;const l=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rE(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=yr){return this.component?this.component.multipleInstances?e:yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rE(t){return t===yr?void 0:t}function iE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new nE(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const oE={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},lE=Ie.INFO,aE={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},uE=(t,e,...r)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),l=aE[e];if(l)console[l](`[${s}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xm{constructor(e){this.name=e,this._logLevel=lE,this._logHandler=uE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const cE=(t,e)=>e.some(r=>t instanceof r);let xp,Ip;function fE(){return xp||(xp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dE(){return Ip||(Ip=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zm=new WeakMap,Ku=new WeakMap,Jm=new WeakMap,ku=new WeakMap,Dc=new WeakMap;function hE(t){const e=new Promise((r,s)=>{const l=()=>{t.removeEventListener("success",u),t.removeEventListener("error",f)},u=()=>{r(Kn(t.result)),l()},f=()=>{s(t.error),l()};t.addEventListener("success",u),t.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&Zm.set(r,t)}).catch(()=>{}),Dc.set(e,t),e}function pE(t){if(Ku.has(t))return;const e=new Promise((r,s)=>{const l=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",f),t.removeEventListener("abort",f)},u=()=>{r(),l()},f=()=>{s(t.error||new DOMException("AbortError","AbortError")),l()};t.addEventListener("complete",u),t.addEventListener("error",f),t.addEventListener("abort",f)});Ku.set(t,e)}let Xu={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ku.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jm.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Kn(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mE(t){Xu=t(Xu)}function gE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=t.call(Pu(this),e,...r);return Jm.set(s,e.sort?e.sort():[e]),Kn(s)}:dE().includes(t)?function(...e){return t.apply(Pu(this),e),Kn(Zm.get(this))}:function(...e){return Kn(t.apply(Pu(this),e))}}function yE(t){return typeof t=="function"?gE(t):(t instanceof IDBTransaction&&pE(t),cE(t,fE())?new Proxy(t,Xu):t)}function Kn(t){if(t instanceof IDBRequest)return hE(t);if(ku.has(t))return ku.get(t);const e=yE(t);return e!==t&&(ku.set(t,e),Dc.set(e,t)),e}const Pu=t=>Dc.get(t);function vE(t,e,{blocked:r,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(t,e),h=Kn(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Kn(f.result),p.oldVersion,p.newVersion,Kn(f.transaction),p)}),r&&f.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const _E=["get","getKey","getAll","getAllKeys","count"],EE=["put","add","delete","clear"],Au=new Map;function Np(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Au.get(e))return Au.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,l=EE.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||_E.includes(r)))return;const u=async function(f,...h){const p=this.transaction(f,l?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[r](...h),l&&p.done]))[0]};return Au.set(e,u),u}mE(t=>({...t,get:(e,r,s)=>Np(e,r)||t.get(e,r,s),has:(e,r)=>!!Np(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(wE(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function wE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zu="@firebase/app",Rp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new Xm("@firebase/app"),CE="@firebase/app-compat",TE="@firebase/analytics-compat",xE="@firebase/analytics",IE="@firebase/app-check-compat",NE="@firebase/app-check",RE="@firebase/auth",kE="@firebase/auth-compat",PE="@firebase/database",AE="@firebase/data-connect",bE="@firebase/database-compat",OE="@firebase/functions",DE="@firebase/functions-compat",LE="@firebase/installations",ME="@firebase/installations-compat",FE="@firebase/messaging",HE="@firebase/messaging-compat",BE="@firebase/performance",UE="@firebase/performance-compat",jE="@firebase/remote-config",$E="@firebase/remote-config-compat",zE="@firebase/storage",WE="@firebase/storage-compat",GE="@firebase/firestore",VE="@firebase/vertexai",QE="@firebase/firestore-compat",qE="firebase",YE="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="[DEFAULT]",KE={[Zu]:"fire-core",[CE]:"fire-core-compat",[xE]:"fire-analytics",[TE]:"fire-analytics-compat",[NE]:"fire-app-check",[IE]:"fire-app-check-compat",[RE]:"fire-auth",[kE]:"fire-auth-compat",[PE]:"fire-rtdb",[AE]:"fire-data-connect",[bE]:"fire-rtdb-compat",[OE]:"fire-fn",[DE]:"fire-fn-compat",[LE]:"fire-iid",[ME]:"fire-iid-compat",[FE]:"fire-fcm",[HE]:"fire-fcm-compat",[BE]:"fire-perf",[UE]:"fire-perf-compat",[jE]:"fire-rc",[$E]:"fire-rc-compat",[zE]:"fire-gcs",[WE]:"fire-gcs-compat",[GE]:"fire-fst",[QE]:"fire-fst-compat",[VE]:"fire-vertex","fire-js":"fire-js",[qE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new Map,XE=new Map,ec=new Map;function kp(t,e){try{t.container.addComponent(e)}catch(r){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function nl(t){const e=t.name;if(ec.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;ec.set(e,t);for(const r of tl.values())kp(r,t);for(const r of XE.values())kp(r,t);return!0}function ZE(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xn=new Ym("app","Firebase",JE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=YE;function eg(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ju,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Xn.create("bad-app-name",{appName:String(l)});if(r||(r=Qm()),!r)throw Xn.create("no-options");const u=tl.get(l);if(u){if(Yu(r,u.options)&&Yu(s,u.config))return u;throw Xn.create("duplicate-app",{appName:l})}const f=new sE(l);for(const p of ec.values())f.addComponent(p);const h=new eS(r,s,f);return tl.set(l,h),h}function nS(t=Ju){const e=tl.get(t);if(!e&&t===Ju&&Qm())return eg();if(!e)throw Xn.create("no-app",{appName:t});return e}function si(t,e,r){var s;let l=(s=KE[t])!==null&&s!==void 0?s:t;r&&(l+=`-${r}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(h.join(" "));return}nl(new Es(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebase-heartbeat-database",iS=1,Ss="firebase-heartbeat-store";let bu=null;function tg(){return bu||(bu=vE(rS,iS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ss)}catch(r){console.warn(r)}}}}).catch(t=>{throw Xn.create("idb-open",{originalErrorMessage:t.message})})),bu}async function sS(t){try{const r=(await tg()).transaction(Ss),s=await r.objectStore(Ss).get(ng(t));return await r.done,s}catch(e){if(e instanceof Ts)xn.warn(e.message);else{const r=Xn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xn.warn(r.message)}}}async function Pp(t,e){try{const s=(await tg()).transaction(Ss,"readwrite");await s.objectStore(Ss).put(e,ng(t)),await s.done}catch(r){if(r instanceof Ts)xn.warn(r.message);else{const s=Xn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});xn.warn(s.message)}}}function ng(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=1024,lS=30*24*60*60*1e3;class aS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new cS(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ap();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const h=new Date(f.date).valueOf();return Date.now()-h<=lS}),this._storage.overwrite(this._heartbeatsCache))}catch(s){xn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Ap(),{heartbeatsToSend:s,unsentEntries:l}=uS(this._heartbeatsCache.heartbeats),u=Jo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return xn.warn(r),""}}}function Ap(){return new Date().toISOString().substring(0,10)}function uS(t,e=oS){const r=[];let s=t.slice();for(const l of t){const u=r.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),bp(r)>e){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),bp(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class cS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V0()?Q0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await sS(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function bp(t){return Jo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t){nl(new Es("platform-logger",e=>new SE(e),"PRIVATE")),nl(new Es("heartbeat",e=>new aS(e),"PRIVATE")),si(Zu,Rp,t),si(Zu,Rp,"esm2017"),si("fire-js","")}fS("");var dS="firebase",hS="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(dS,hS,"app");var Op={};const Dp="@firebase/database",Lp="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg="";function pS(t){rg=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:_s(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new mS(e)}}catch{}return new gS},Sr=ig("localStorage"),yS=ig("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Xm("@firebase/database"),vS=function(){let t=1;return function(){return t++}}(),sg=function(t){const e=tE(t),r=new eE;r.update(e);const s=r.digest();return bc.encodeByteArray(s)},xs=function(...t){let e="";for(let r=0;r<t.length;r++){const s=t[r];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=xs.apply(null,s):typeof s=="object"?e+=rt(s):e+=s,e+=" "}return e};let hs=null,Mp=!0;const _S=function(t,e){j(!0,"Can't turn on custom loggers persistently."),oi.logLevel=Ie.VERBOSE,hs=oi.log.bind(oi)},ct=function(...t){if(Mp===!0&&(Mp=!1,hs===null&&yS.get("logging_enabled")===!0&&_S()),hs){const e=xs.apply(null,t);hs(e)}},Is=function(t){return function(...e){ct(t,...e)}},tc=function(...t){const e="FIREBASE INTERNAL ERROR: "+xs(...t);oi.error(e)},In=function(...t){const e=`FIREBASE FATAL ERROR: ${xs(...t)}`;throw oi.error(e),new Error(e)},Tt=function(...t){const e="FIREBASE WARNING: "+xs(...t);oi.warn(e)},ES=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},og=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},SS=function(t){if(document.readyState==="complete")t();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},ui="[MIN_NAME]",Ir="[MAX_NAME]",mi=function(t,e){if(t===e)return 0;if(t===ui||e===Ir)return-1;if(e===ui||t===Ir)return 1;{const r=Fp(t),s=Fp(e);return r!==null?s!==null?r-s===0?t.length-e.length:r-s:-1:s!==null?1:t<e?-1:1}},wS=function(t,e){return t===e?0:t<e?-1:1},os=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},Lc=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const s in t)e.push(s);e.sort();let r="{";for(let s=0;s<e.length;s++)s!==0&&(r+=","),r+=rt(e[s]),r+=":",r+=Lc(t[e[s]]);return r+="}",r},lg=function(t,e){const r=t.length;if(r<=e)return[t];const s=[];for(let l=0;l<r;l+=e)l+e>r?s.push(t.substring(l,r)):s.push(t.substring(l,l+e));return s};function Ut(t,e){for(const r in t)t.hasOwnProperty(r)&&e(r,t[r])}const ag=function(t){j(!og(t),"Invalid JSON number");const e=11,r=52,s=(1<<e-1)-1;let l,u,f,h,p;t===0?(u=0,f=0,l=1/t===-1/0?1:0):(l=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),s),u=h+s,f=Math.round(t*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,f=Math.round(t/Math.pow(2,1-s-r))));const g=[];for(p=r;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(l?1:0),g.reverse();const y=g.join("");let v="";for(p=0;p<64;p+=8){let S=parseInt(y.substr(p,8),2).toString(16);S.length===1&&(S="0"+S),v=v+S}return v.toLowerCase()},CS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},TS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},xS=new RegExp("^-?(0*)\\d{1,10}$"),IS=-2147483648,NS=2147483647,Fp=function(t){if(xS.test(t)){const e=Number(t);if(e>=IS&&e<=NS)return e}return null},gi=function(t){try{t()}catch(e){setTimeout(()=>{const r=e.stack||"";throw Tt("Exception was thrown by user callback.",r),e},Math.floor(0))}},RS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ps=function(t,e){const r=setTimeout(t,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,r,s){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(e)}}class Xo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc="5",ug="v",cg="s",fg="r",dg="f",hg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pg="ls",mg="p",nc="ac",gg="websocket",yg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,r,s,l,u=!1,f="",h=!1,p=!1){this.secure=r,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Sr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Sr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function AS(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function _g(t,e,r){j(typeof e=="string","typeof type must == string"),j(typeof r=="object","typeof params must == object");let s;if(e===gg)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===yg)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);AS(t)&&(r.ns=t.namespace);const l=[];return Ut(r,(u,f)=>{l.push(u+"="+f)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.counters_={}}incrementCounter(e,r=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return D0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou={},Du={};function Fc(t){const e=t.toString();return Ou[e]||(Ou[e]=new bS),Ou[e]}function OS(t,e){const r=t.toString();return Du[r]||(Du[r]=e()),Du[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&gi(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="start",LS="close",MS="pLPCommand",FS="pRTLPCB",Eg="id",Sg="pw",wg="ser",HS="cb",BS="seg",US="ts",jS="d",$S="dframe",Cg=1870,Tg=30,zS=Cg-Tg,WS=25e3,GS=3e4;class ii{constructor(e,r,s,l,u,f,h){this.connId=e,this.repoInfo=r,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Is(e),this.stats_=Fc(r),this.urlFn=p=>(this.appCheckToken&&(p[nc]=this.appCheckToken),_g(r,yg,p))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new DS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(GS)),SS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hc((...u)=>{const[f,h,p,g,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Hp)this.id=h,this.password=p;else if(f===LS)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Hp]="t",s[wg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[HS]=this.scriptTagHolder.uniqueCallbackIdentifier),s[ug]=Mc,this.transportSessionId&&(s[cg]=this.transportSessionId),this.lastSessionId&&(s[pg]=this.lastSessionId),this.applicationId&&(s[mg]=this.applicationId),this.appCheckToken&&(s[nc]=this.appCheckToken),typeof location<"u"&&location.hostname&&hg.test(location.hostname)&&(s[fg]=dg);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ii.forceAllow_=!0}static forceDisallow(){ii.forceDisallow_=!0}static isAvailable(){return ii.forceAllow_?!0:!ii.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!CS()&&!TS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=rt(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=Wm(r),l=lg(s,zS);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const s={};s[$S]="t",s[Eg]=e,s[Sg]=r,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=rt(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Hc{constructor(e,r,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vS(),window[MS+this.uniqueCallbackIdentifier]=e,window[FS+this.uniqueCallbackIdentifier]=r,this.myIFrame=Hc.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){ct("frame writing exception"),h.stack&&ct(h.stack),ct(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ct("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Eg]=this.myID,e[Sg]=this.myPW,e[wg]=this.currentSerial;let r=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Tg+s.length<=Cg;){const f=this.pendingSegs.shift();s=s+"&"+BS+l+"="+f.seg+"&"+US+l+"="+f.ts+"&"+jS+l+"="+f.d,l++}return r=r+s,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,s){this.pendingSegs.push({seg:e,ts:r,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const s=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(s,Math.floor(WS)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),r())},s.onerror=()=>{ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=16384,QS=45e3;let rl=null;typeof MozWebSocket<"u"?rl=MozWebSocket:typeof WebSocket<"u"&&(rl=WebSocket);class un{constructor(e,r,s,l,u,f,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Is(this.connId),this.stats_=Fc(r),this.connURL=un.connectionURL_(r,f,h,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,s,l,u){const f={};return f[ug]=Mc,typeof location<"u"&&location.hostname&&hg.test(location.hostname)&&(f[fg]=dg),r&&(f[cg]=r),s&&(f[pg]=s),l&&(f[nc]=l),u&&(f[mg]=u),_g(e,gg,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Sr.set("previous_websocket_failure",!0);try{let s;G0(),this.mySock=new rl(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){un.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(r);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&rl!==null&&!un.forceDisallow_}static previouslyFailed(){return Sr.isInMemoryStorage||Sr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Sr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=_s(r);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const r=rt(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=lg(r,VS);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(QS))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}un.responsesRequiredToBeHealthy=2;un.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static get ALL_TRANSPORTS(){return[ii,un]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=un.isAvailable();let s=r&&!un.previouslyFailed();if(e.webSocketOnly&&(r||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[un];else{const l=this.transports_=[];for(const u of ws.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);ws.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ws.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=6e4,YS=5e3,KS=10*1024,XS=100*1024,Lu="t",Bp="d",ZS="s",Up="r",JS="e",jp="o",$p="a",zp="n",Wp="p",ew="h";class tw{constructor(e,r,s,l,u,f,h,p,g,y){this.id=e,this.repoInfo_=r,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Is("c:"+this.id+":"),this.transportManager_=new ws(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=ps(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>KS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Lu in e){const r=e[Lu];r===$p?this.upgradeIfSecondaryHealthy_():r===Up?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===jp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=os("t",e),s=os("d",e);if(r==="c")this.onSecondaryControl_(s);else if(r==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Wp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$p,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=os("t",e),s=os("d",e);r==="c"?this.onControl_(s):r==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=os(Lu,e);if(Bp in e){const s=e[Bp];if(r===ew){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===zp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===ZS?this.onConnectionShutdown_(s):r===Up?this.onReset_(s):r===JS?tc("Server Error: "+s):r===jp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tc("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Mc!==s&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,s),ps(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(qS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ps(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Wp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Sr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{put(e,r,s,l){}merge(e,r,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,s){}onDisconnectMerge(e,r,s){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,r)}}on(e,r,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:s});const l=this.getInitialEvent(e);l&&r.apply(s,l)}off(e,r,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===r&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){j(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Ig{static getInstance(){return new il}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=32,Vp=768;class be{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function Ce(){return new be("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Jn(t){return t.pieces_.length-t.pieceNum_}function Ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new be(t.pieces_,e)}function Ng(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function nw(t){let e="";for(let r=t.pieceNum_;r<t.pieces_.length;r++)t.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[r])));return e||"/"}function Rg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function kg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let r=t.pieceNum_;r<t.pieces_.length-1;r++)e.push(t.pieces_[r]);return new be(e,0)}function Ve(t,e){const r=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)r.push(t.pieces_[s]);if(e instanceof be)for(let s=e.pieceNum_;s<e.pieces_.length;s++)r.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&r.push(s[l])}return new be(r,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function Bt(t,e){const r=ae(t),s=ae(e);if(r===null)return e;if(r===s)return Bt(Ae(t),Ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Pg(t,e){if(Jn(t)!==Jn(e))return!1;for(let r=t.pieceNum_,s=e.pieceNum_;r<=t.pieces_.length;r++,s++)if(t.pieces_[r]!==e.pieces_[s])return!1;return!0}function Xt(t,e){let r=t.pieceNum_,s=e.pieceNum_;if(Jn(t)>Jn(e))return!1;for(;r<t.pieces_.length;){if(t.pieces_[r]!==e.pieces_[s])return!1;++r,++s}return!0}class rw{constructor(e,r){this.errorPrefix_=r,this.parts_=Rg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=ml(this.parts_[s]);Ag(this)}}function iw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ml(e),Ag(t)}function sw(t){const e=t.parts_.pop();t.byteLength_-=ml(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ag(t){if(t.byteLength_>Vp)throw new Error(t.errorPrefix_+"has a key path longer than "+Vp+" bytes ("+t.byteLength_+").");if(t.parts_.length>Gp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gp+") or object contains a cycle "+vr(t))}function vr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Ig{static getInstance(){return new Bc}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=1e3,ow=60*5*1e3,Qp=30*1e3,lw=1.3,aw=3e4,uw="server_kill",qp=3;class Cn extends xg{constructor(e,r,s,l,u,f,h,p){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Cn.nextPersistentConnectionId_++,this.log_=Is("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ls,this.maxReconnectDelay_=ow,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&il.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,s){const l=++this.requestNumber_,u={r:l,a:e,b:r};this.log_(rt(u)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const r=new pl,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(e,r,s,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:e,tag:s};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(e){const r=e.query,s=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},f="q";e.tag&&(u.q=r._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const p=h.d,g=h.s;Cn.warnOnListenWarnings_(p,r),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(g,p))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&Rn(e,"w")){const s=ai(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Z0(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=X0(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(r,s,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,s=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(e,r){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,r)}sendUnlisten_(e,r,s,l){this.log_("Unlisten on "+e+" for "+r);const u={p:e},f="n";l&&(u.q=s,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:s})}onDisconnectMerge(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:s})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,s,l){const u={p:r,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,r,s,l){this.putInternal("p",e,r,s,l)}merge(e,r,s,l){this.putInternal("m",e,r,s,l)}putInternal(e,r,s,l,u){this.initConnection_();const f={p:r,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,s,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const r=e.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):tc("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>aw&&(this.reconnectDelay_=ls),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Cn.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const p=function(){h?h.close():(f=!0,s())},g=function(v){j(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:p,sendRequest:g};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,S]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);f?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=S&&S.token,h=new tw(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,s,R=>{Tt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(uw)},u))}catch(v){this.log_("Failed to get token: "+v),f||(this.repoInfo_.nodeAdmin&&Tt(v),p())}}}interrupt(e){ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Cp(this.interruptReasons_)&&(this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let s;r?s=r.map(u=>Lc(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,r){const s=new be(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(r),u.delete(r),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,r){ct("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qp&&(this.reconnectDelay_=Qp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){ct("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+rg.replace(/\./g,"-")]=1,qm()?e["framework.cordova"]=1:W0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=il.getInstance().currentlyOnline();return Cp(this.interruptReasons_)&&e}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new pe(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const s=new pe(ui,e),l=new pe(ui,r);return this.compare(s,l)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo;class bg extends gl{static get __EMPTY_NODE(){return Vo}static set __EMPTY_NODE(e){Vo=e}compare(e,r){return mi(e.name,r.name)}isDefinedOn(e){throw hi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return pe.MIN}maxPost(){return new pe(Ir,Vo)}makePost(e,r){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,Vo)}toString(){return".key"}}const li=new bg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,r,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=r?s(e.key,r):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Je{constructor(e,r,s,l,u){this.key=e,this.value=r,this.color=s??Je.RED,this.left=l??Ct.EMPTY_NODE,this.right=u??Ct.EMPTY_NODE}copy(e,r,s,l,u){return new Je(e??this.key,r??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,r,s),null):u===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let s,l;if(s=this,r(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),r(e,s.key)===0){if(s.right.isEmpty())return Ct.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Je.RED=!0;Je.BLACK=!1;class cw{copy(e,r,s,l,u){return this}insert(e,r,s){return new Je(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,r=Ct.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new Ct(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,Je.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Je.BLACK,null,null))}get(e){let r,s=this.root_;for(;!s.isEmpty();){if(r=this.comparator_(e,s.key),r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}getPredecessorKey(e){let r,s=this.root_,l=null;for(;!s.isEmpty();)if(r=this.comparator_(e,s.key),r===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else r<0?s=s.left:r>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new Qo(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new Qo(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new Qo(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new cw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e){return mi(t.name,e.name)}function Uc(t,e){return mi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc;function dw(t){rc=t}const Og=function(t){return typeof t=="number"?"number:"+ag(t):"string:"+t},Dg=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else j(t===rc||t.isEmpty(),"priority of unexpected type.");j(t===rc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp;class Ze{static set __childrenNodeConstructor(e){Yp=e}static get __childrenNodeConstructor(){return Yp}constructor(e,r=Ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Dg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ze(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ce(e)?this:ae(e)===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const s=ae(e);return s===null?r:r.isEmpty()&&s!==".priority"?this:(j(s!==".priority"||Jn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Og(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=ag(this.value_):e+=this.value_,this.lazyHash_=sg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ze.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ze.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,s=typeof this.value_,l=Ze.VALUE_TYPE_ORDER.indexOf(r),u=Ze.VALUE_TYPE_ORDER.indexOf(s);return j(l>=0,"Unknown leaf type: "+r),j(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg,Mg;function hw(t){Lg=t}function pw(t){Mg=t}class mw extends gl{compare(e,r){const s=e.node.getPriority(),l=r.node.getPriority(),u=s.compareTo(l);return u===0?mi(e.name,r.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(Ir,new Ze("[PRIORITY-POST]",Mg))}makePost(e,r){const s=Lg(e);return new pe(r,new Ze("[PRIORITY-POST]",s))}toString(){return".priority"}}const ft=new mw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=Math.log(2);class yw{constructor(e){const r=u=>parseInt(Math.log(u)/gw,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sl=function(t,e,r,s){t.sort(e);const l=function(p,g){const y=g-p;let v,S;if(y===0)return null;if(y===1)return v=t[p],S=r?r(v):v,new Je(S,v.node,Je.BLACK,null,null);{const R=parseInt(y/2,10)+p,k=l(p,R),P=l(R+1,g);return v=t[R],S=r?r(v):v,new Je(S,v.node,Je.BLACK,k,P)}},u=function(p){let g=null,y=null,v=t.length;const S=function(k,P){const D=v-k,$=v;v-=k;const G=l(D+1,$),B=t[D],J=r?r(B):B;R(new Je(J,B.node,P,null,G))},R=function(k){g?(g.left=k,g=k):(y=k,g=k)};for(let k=0;k<p.count;++k){const P=p.nextBitIsOne(),D=Math.pow(2,p.count-(k+1));P?S(D,Je.BLACK):(S(D,Je.BLACK),S(D,Je.RED))}return y},f=new yw(t.length),h=u(f);return new Ct(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu;const as={};class wn{static get Default(){return j(ft,"ChildrenNode.ts has not been loaded"),Mu=Mu||new wn({".priority":as},{".priority":ft}),Mu}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=ai(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof Ct?r:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,r){j(e!==li,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=r.getIterator(pe.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),s.push(f),f=u.getNext();let h;l?h=sl(s,e.getCompare()):h=as;const p=e.toString(),g=Object.assign({},this.indexSet_);g[p]=e;const y=Object.assign({},this.indexes_);return y[p]=h,new wn(y,g)}addToIndexes(e,r){const s=el(this.indexes_,(l,u)=>{const f=ai(this.indexSet_,u);if(j(f,"Missing index implementation for "+u),l===as)if(f.isDefinedOn(e.node)){const h=[],p=r.getIterator(pe.Wrap);let g=p.getNext();for(;g;)g.name!==e.name&&h.push(g),g=p.getNext();return h.push(e),sl(h,f.getCompare())}else return as;else{const h=r.get(e.name);let p=l;return h&&(p=p.remove(new pe(e.name,h))),p.insert(e,e.node)}});return new wn(s,this.indexSet_)}removeFromIndexes(e,r){const s=el(this.indexes_,l=>{if(l===as)return l;{const u=r.get(e.name);return u?l.remove(new pe(e.name,u)):l}});return new wn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let us;class Se{static get EMPTY_NODE(){return us||(us=new Se(new Ct(Uc),null,wn.Default))}constructor(e,r,s){this.children_=e,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Dg(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||us}updatePriority(e){return this.children_.isEmpty()?this:new Se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?us:r}}getChild(e){const r=ae(e);return r===null?this:this.getImmediateChild(r).getChild(Ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(j(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const s=new pe(e,r);let l,u;r.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,r),u=this.indexMap_.addToIndexes(s,this.children_));const f=l.isEmpty()?us:this.priorityNode_;return new Se(l,f,u)}}updateChild(e,r){const s=ae(e);if(s===null)return r;{j(ae(e)!==".priority"||Jn(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ae(e),r);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let s=0,l=0,u=!0;if(this.forEachChild(ft,(f,h)=>{r[f]=h.val(e),s++,u&&Se.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*s){const f=[];for(const h in r)f[h]=r[h];return f}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Og(this.getPriority().val())+":"),this.forEachChild(ft,(r,s)=>{const l=s.hash();l!==""&&(e+=":"+r+":"+l)}),this.lazyHash_=e===""?"":sg(e)}return this.lazyHash_}getPredecessorChildName(e,r,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new pe(e,r));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new pe(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new pe(r,this.children_.get(r)):null}forEachChild(e,r){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,pe.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ns?-1:0}withIndex(e){if(e===li||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new Se(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===li||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const s=this.getIterator(ft),l=r.getIterator(ft);let u=s.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===li?null:this.indexMap_.get(e.toString())}}Se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vw extends Se{constructor(){super(new Ct(Uc),Se.EMPTY_NODE,wn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Se.EMPTY_NODE}isEmpty(){return!1}}const Ns=new vw;Object.defineProperties(pe,{MIN:{value:new pe(ui,Se.EMPTY_NODE)},MAX:{value:new pe(Ir,Ns)}});bg.__EMPTY_NODE=Se.EMPTY_NODE;Ze.__childrenNodeConstructor=Se;dw(Ns);pw(Ns);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=!0;function nt(t,e=null){if(t===null)return Se.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const r=t;return new Ze(r,nt(e))}if(!(t instanceof Array)&&_w){const r=[];let s=!1;if(Ut(t,(f,h)=>{if(f.substring(0,1)!=="."){const p=nt(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),r.push(new pe(f,p)))}}),r.length===0)return Se.EMPTY_NODE;const u=sl(r,fw,f=>f.name,Uc);if(s){const f=sl(r,ft.getCompare());return new Se(u,nt(e),new wn({".priority":f},{".priority":ft}))}else return new Se(u,nt(e),wn.Default)}else{let r=Se.EMPTY_NODE;return Ut(t,(s,l)=>{if(Rn(t,s)&&s.substring(0,1)!=="."){const u=nt(l);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(s,u))}}),r.updatePriority(nt(e))}}hw(nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends gl{constructor(e){super(),this.indexPath_=e,j(!ce(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const s=this.extractChild(e.node),l=this.extractChild(r.node),u=s.compareTo(l);return u===0?mi(e.name,r.name):u}makePost(e,r){const s=nt(e),l=Se.EMPTY_NODE.updateChild(this.indexPath_,s);return new pe(r,l)}maxPost(){const e=Se.EMPTY_NODE.updateChild(this.indexPath_,Ns);return new pe(Ir,e)}toString(){return Rg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends gl{compare(e,r){const s=e.node.compareTo(r.node);return s===0?mi(e.name,r.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,r){const s=nt(e);return new pe(r,s)}toString(){return".value"}}const ww=new Sw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t){return{type:"value",snapshotNode:t}}function Tw(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xw(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Kp(t,e,r){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:r}}function Iw(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ui}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ir}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ft}copy(){const e=new jc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Xp(t){const e={};if(t.isDefault())return e;let r;if(t.index_===ft?r="$priority":t.index_===ww?r="$value":t.index_===li?r="$key":(j(t.index_ instanceof Ew,"Unrecognized index type!"),r=t.index_.toString()),e.orderBy=rt(r),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=rt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+rt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=rt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Zp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let r=t.viewFrom_;r===""&&(t.isViewFromLeft()?r="l":r="r"),e.vf=r}return t.index_!==ft&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends xg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Is("p:rest:"),this.listens_={}}listen(e,r,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=ol.getListenId_(e,s),h={};this.listens_[f]=h;const p=Xp(e._queryParams);this.restRequest_(u+".json",p,(g,y)=>{let v=y;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(u,v,!1,s),ai(this.listens_,f)===h){let S;g?g===401?S="permission_denied":S="rest_error:"+g:S="ok",l(S,null)}})}unlisten(e,r){const s=ol.getListenId_(e,r);delete this.listens_[s]}get(e){const r=Xp(e._queryParams),s=e._path.toString(),l=new pl;return this.restRequest_(s+".json",r,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,r={},s){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(r.auth=l.accessToken),u&&u.token&&(r.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+J0(r);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=_s(h.responseText)}catch{Tt("Failed to parse JSON response for "+f+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&Tt("Got unsuccessful REST response for "+f+" Status: "+h.status),s(h.status);s=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.rootNode_=Se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(){return{value:null,children:new Map}}function Fg(t,e,r){if(ce(e))t.value=r,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,r);else{const s=ae(e);t.children.has(s)||t.children.set(s,ll());const l=t.children.get(s);e=Ae(e),Fg(l,e,r)}}function ic(t,e,r){t.value!==null?r(e,t.value):Rw(t,(s,l)=>{const u=new be(e.toString()+"/"+s);ic(l,u,r)})}function Rw(t,e){t.children.forEach((r,s)=>{e(s,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&Ut(this.last_,(s,l)=>{r[s]=r[s]-l}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=10*1e3,Pw=30*1e3,Aw=5*60*1e3;class bw{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new kw(e);const s=Jp+(Pw-Jp)*Math.random();ps(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),r={};let s=!1;Ut(e,(l,u)=>{u>0&&Rn(this.statsToReport_,l)&&(r[l]=u,s=!0)}),s&&this.server_.reportStats(r),ps(this.reportStats_.bind(this),Math.floor(Math.random()*2*Aw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cn||(cn={}));function Hg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ug(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,r,s){this.path=e,this.affectedTree=r,this.revert=s,this.type=cn.ACK_USER_WRITE,this.source=Hg()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new be(e));return new al(Ce(),r,this.revert)}}else return j(ae(this.path)===e,"operationForChild called for unrelated child."),new al(Ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,r,s){this.source=e,this.path=r,this.snap=s,this.type=cn.OVERWRITE}operationForChild(e){return ce(this.path)?new Nr(this.source,Ce(),this.snap.getImmediateChild(e)):new Nr(this.source,Ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,r,s){this.source=e,this.path=r,this.children=s,this.type=cn.MERGE}operationForChild(e){if(ce(this.path)){const r=this.children.subtree(new be(e));return r.isEmpty()?null:r.value?new Nr(this.source,Ce(),r.value):new Cs(this.source,Ce(),r)}else return j(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cs(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,r,s){this.node_=e,this.fullyInitialized_=r,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const r=ae(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Ow(t,e,r,s){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&t.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(Iw(f.childName,f.snapshotNode))}),cs(t,l,"child_removed",e,s,r),cs(t,l,"child_added",e,s,r),cs(t,l,"child_moved",u,s,r),cs(t,l,"child_changed",e,s,r),cs(t,l,"value",e,s,r),l}function cs(t,e,r,s,l,u){const f=s.filter(h=>h.type===r);f.sort((h,p)=>Lw(t,h,p)),f.forEach(h=>{const p=Dw(t,h,u);l.forEach(g=>{g.respondsTo(h.type)&&e.push(g.createEvent(p,t.query_))})})}function Dw(t,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Lw(t,e,r){if(e.childName==null||r.childName==null)throw hi("Should only compare child_ events.");const s=new pe(e.childName,e.snapshotNode),l=new pe(r.childName,r.snapshotNode);return t.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t,e){return{eventCache:t,serverCache:e}}function ms(t,e,r,s){return jg(new $c(e,r,s),t.serverCache)}function $g(t,e,r,s){return jg(t.eventCache,new $c(e,r,s))}function sc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Rr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu;const Mw=()=>(Fu||(Fu=new Ct(wS)),Fu);class Pe{static fromObject(e){let r=new Pe(null);return Ut(e,(s,l)=>{r=r.set(new be(s),l)}),r}constructor(e,r=Mw()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:Ce(),value:this.value};if(ce(e))return null;{const s=ae(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Ae(e),r);return u!=null?{path:Ve(new be(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const r=ae(e),s=this.children.get(r);return s!==null?s.subtree(Ae(e)):new Pe(null)}}set(e,r){if(ce(e))return new Pe(r,this.children);{const s=ae(e),u=(this.children.get(s)||new Pe(null)).set(Ae(e),r),f=this.children.insert(s,u);return new Pe(this.value,f)}}remove(e){if(ce(e))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const r=ae(e),s=this.children.get(r);if(s){const l=s.remove(Ae(e));let u;return l.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,l),this.value===null&&u.isEmpty()?new Pe(null):new Pe(this.value,u)}else return this}}get(e){if(ce(e))return this.value;{const r=ae(e),s=this.children.get(r);return s?s.get(Ae(e)):null}}setTree(e,r){if(ce(e))return r;{const s=ae(e),u=(this.children.get(s)||new Pe(null)).setTree(Ae(e),r);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new Pe(this.value,f)}}fold(e){return this.fold_(Ce(),e)}fold_(e,r){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(Ve(e,l),r)}),r(e,this.value,s)}findOnPath(e,r){return this.findOnPath_(e,Ce(),r)}findOnPath_(e,r,s){const l=this.value?s(r,this.value):!1;if(l)return l;if(ce(e))return null;{const u=ae(e),f=this.children.get(u);return f?f.findOnPath_(Ae(e),Ve(r,u),s):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,Ce(),r)}foreachOnPath_(e,r,s){if(ce(e))return this;{this.value&&s(r,this.value);const l=ae(e),u=this.children.get(l);return u?u.foreachOnPath_(Ae(e),Ve(r,l),s):new Pe(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,r){this.children.inorderTraversal((s,l)=>{l.foreach_(Ve(e,s),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,s)=>{s.value&&e(r,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.writeTree_=e}static empty(){return new Jt(new Pe(null))}}function gs(t,e,r){if(ce(e))return new Jt(new Pe(r));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const f=Bt(l,e);return u=u.updateChild(f,r),new Jt(t.writeTree_.set(l,u))}else{const l=new Pe(r),u=t.writeTree_.setTree(e,l);return new Jt(u)}}}function em(t,e,r){let s=t;return Ut(r,(l,u)=>{s=gs(s,Ve(e,l),u)}),s}function tm(t,e){if(ce(e))return Jt.empty();{const r=t.writeTree_.setTree(e,new Pe(null));return new Jt(r)}}function oc(t,e){return Pr(t,e)!=null}function Pr(t,e){const r=t.writeTree_.findRootMostValueAndPath(e);return r!=null?t.writeTree_.get(r.path).getChild(Bt(r.path,e)):null}function nm(t){const e=[],r=t.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(ft,(s,l)=>{e.push(new pe(s,l))}):t.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new pe(s,l.value))}),e}function Zn(t,e){if(ce(e))return t;{const r=Pr(t,e);return r!=null?new Jt(new Pe(r)):new Jt(t.writeTree_.subtree(e))}}function lc(t){return t.writeTree_.isEmpty()}function ci(t,e){return zg(Ce(),t.writeTree_,e)}function zg(t,e,r){if(e.value!=null)return r.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(j(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):r=zg(Ve(t,l),u,r)}),!r.getChild(t).isEmpty()&&s!==null&&(r=r.updateChild(Ve(t,".priority"),s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t,e){return Yg(e,t)}function Fw(t,e,r,s,l){j(s>t.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),t.allWrites.push({path:e,snap:r,writeId:s,visible:l}),l&&(t.visibleWrites=gs(t.visibleWrites,e,r)),t.lastWriteId=s}function Hw(t,e){for(let r=0;r<t.allWrites.length;r++){const s=t.allWrites[r];if(s.writeId===e)return s}return null}function Bw(t,e){const r=t.allWrites.findIndex(h=>h.writeId===e);j(r>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[r];t.allWrites.splice(r,1);let l=s.visible,u=!1,f=t.allWrites.length-1;for(;l&&f>=0;){const h=t.allWrites[f];h.visible&&(f>=r&&Uw(h,s.path)?l=!1:Xt(s.path,h.path)&&(u=!0)),f--}if(l){if(u)return jw(t),!0;if(s.snap)t.visibleWrites=tm(t.visibleWrites,s.path);else{const h=s.children;Ut(h,p=>{t.visibleWrites=tm(t.visibleWrites,Ve(s.path,p))})}return!0}else return!1}function Uw(t,e){if(t.snap)return Xt(t.path,e);for(const r in t.children)if(t.children.hasOwnProperty(r)&&Xt(Ve(t.path,r),e))return!0;return!1}function jw(t){t.visibleWrites=Gg(t.allWrites,$w,Ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function $w(t){return t.visible}function Gg(t,e,r){let s=Jt.empty();for(let l=0;l<t.length;++l){const u=t[l];if(e(u)){const f=u.path;let h;if(u.snap)Xt(r,f)?(h=Bt(r,f),s=gs(s,h,u.snap)):Xt(f,r)&&(h=Bt(f,r),s=gs(s,Ce(),u.snap.getChild(h)));else if(u.children){if(Xt(r,f))h=Bt(r,f),s=em(s,h,u.children);else if(Xt(f,r))if(h=Bt(f,r),ce(h))s=em(s,Ce(),u.children);else{const p=ai(u.children,ae(h));if(p){const g=p.getChild(Ae(h));s=gs(s,Ce(),g)}}}else throw hi("WriteRecord should have .snap or .children")}}return s}function Vg(t,e,r,s,l){if(!s&&!l){const u=Pr(t.visibleWrites,e);if(u!=null)return u;{const f=Zn(t.visibleWrites,e);if(lc(f))return r;if(r==null&&!oc(f,Ce()))return null;{const h=r||Se.EMPTY_NODE;return ci(f,h)}}}else{const u=Zn(t.visibleWrites,e);if(!l&&lc(u))return r;if(!l&&r==null&&!oc(u,Ce()))return null;{const f=function(g){return(g.visible||l)&&(!s||!~s.indexOf(g.writeId))&&(Xt(g.path,e)||Xt(e,g.path))},h=Gg(t.allWrites,f,e),p=r||Se.EMPTY_NODE;return ci(h,p)}}}function zw(t,e,r){let s=Se.EMPTY_NODE;const l=Pr(t.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(ft,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(r){const u=Zn(t.visibleWrites,e);return r.forEachChild(ft,(f,h)=>{const p=ci(Zn(u,new be(f)),h);s=s.updateImmediateChild(f,p)}),nm(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=Zn(t.visibleWrites,e);return nm(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function Ww(t,e,r,s,l){j(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=Ve(e,r);if(oc(t.visibleWrites,u))return null;{const f=Zn(t.visibleWrites,u);return lc(f)?l.getChild(r):ci(f,l.getChild(r))}}function Gw(t,e,r,s){const l=Ve(e,r),u=Pr(t.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(r)){const f=Zn(t.visibleWrites,l);return ci(f,s.getNode().getImmediateChild(r))}else return null}function Vw(t,e){return Pr(t.visibleWrites,e)}function Qw(t,e,r,s,l,u,f){let h;const p=Zn(t.visibleWrites,e),g=Pr(p,Ce());if(g!=null)h=g;else if(r!=null)h=ci(p,r);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const y=[],v=f.getCompare(),S=u?h.getReverseIteratorFrom(s,f):h.getIteratorFrom(s,f);let R=S.getNext();for(;R&&y.length<l;)v(R,s)!==0&&y.push(R),R=S.getNext();return y}else return[]}function qw(){return{visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1}}function ac(t,e,r,s){return Vg(t.writeTree,t.treePath,e,r,s)}function Qg(t,e){return zw(t.writeTree,t.treePath,e)}function rm(t,e,r,s){return Ww(t.writeTree,t.treePath,e,r,s)}function ul(t,e){return Vw(t.writeTree,Ve(t.treePath,e))}function Yw(t,e,r,s,l,u){return Qw(t.writeTree,t.treePath,e,r,s,l,u)}function zc(t,e,r){return Gw(t.writeTree,t.treePath,e,r)}function qg(t,e){return Yg(Ve(t.treePath,e),t.writeTree)}function Yg(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,s=e.childName;j(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),j(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(s,Kp(s,e.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(s,xw(s,l.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(s,Tw(s,e.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(s,Kp(s,e.snapshotNode,l.oldSnap));else throw hi("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{getCompleteChild(e){return null}getChildAfterChild(e,r,s){return null}}const Kg=new Xw;class Wc{constructor(e,r,s=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=s}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new $c(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zc(this.writes_,e,s)}}getChildAfterChild(e,r,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Rr(this.viewCache_),u=Yw(this.writes_,l,r,1,s,e);return u.length===0?null:u[0]}}function Zw(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Jw(t,e,r,s,l){const u=new Kw;let f,h;if(r.type===cn.OVERWRITE){const g=r;g.source.fromUser?f=uc(t,e,g.path,g.snap,s,l,u):(j(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered()&&!ce(g.path),f=cl(t,e,g.path,g.snap,s,l,h,u))}else if(r.type===cn.MERGE){const g=r;g.source.fromUser?f=tC(t,e,g.path,g.children,s,l,u):(j(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered(),f=cc(t,e,g.path,g.children,s,l,h,u))}else if(r.type===cn.ACK_USER_WRITE){const g=r;g.revert?f=iC(t,e,g.path,s,l,u):f=nC(t,e,g.path,g.affectedTree,s,l,u)}else if(r.type===cn.LISTEN_COMPLETE)f=rC(t,e,r.path,s,u);else throw hi("Unknown operation type: "+r.type);const p=u.getChanges();return eC(e,f,p),{viewCache:f,changes:p}}function eC(t,e,r){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=sc(t);(r.length>0||!t.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&r.push(Cw(sc(e)))}}function Xg(t,e,r,s,l,u){const f=e.eventCache;if(ul(s,r)!=null)return e;{let h,p;if(ce(r))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=Rr(e),y=g instanceof Se?g:Se.EMPTY_NODE,v=Qg(s,y);h=t.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const g=ac(s,Rr(e));h=t.filter.updateFullNode(e.eventCache.getNode(),g,u)}else{const g=ae(r);if(g===".priority"){j(Jn(r)===1,"Can't have a priority with additional path components");const y=f.getNode();p=e.serverCache.getNode();const v=rm(s,r,y,p);v!=null?h=t.filter.updatePriority(y,v):h=f.getNode()}else{const y=Ae(r);let v;if(f.isCompleteForChild(g)){p=e.serverCache.getNode();const S=rm(s,r,f.getNode(),p);S!=null?v=f.getNode().getImmediateChild(g).updateChild(y,S):v=f.getNode().getImmediateChild(g)}else v=zc(s,g,e.serverCache);v!=null?h=t.filter.updateChild(f.getNode(),g,v,y,l,u):h=f.getNode()}}return ms(e,h,f.isFullyInitialized()||ce(r),t.filter.filtersNodes())}}function cl(t,e,r,s,l,u,f,h){const p=e.serverCache;let g;const y=f?t.filter:t.filter.getIndexedFilter();if(ce(r))g=y.updateFullNode(p.getNode(),s,null);else if(y.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(r,s);g=y.updateFullNode(p.getNode(),R,null)}else{const R=ae(r);if(!p.isCompleteForPath(r)&&Jn(r)>1)return e;const k=Ae(r),D=p.getNode().getImmediateChild(R).updateChild(k,s);R===".priority"?g=y.updatePriority(p.getNode(),D):g=y.updateChild(p.getNode(),R,D,k,Kg,null)}const v=$g(e,g,p.isFullyInitialized()||ce(r),y.filtersNodes()),S=new Wc(l,v,u);return Xg(t,v,r,l,S,h)}function uc(t,e,r,s,l,u,f){const h=e.eventCache;let p,g;const y=new Wc(l,e,u);if(ce(r))g=t.filter.updateFullNode(e.eventCache.getNode(),s,f),p=ms(e,g,!0,t.filter.filtersNodes());else{const v=ae(r);if(v===".priority")g=t.filter.updatePriority(e.eventCache.getNode(),s),p=ms(e,g,h.isFullyInitialized(),h.isFiltered());else{const S=Ae(r),R=h.getNode().getImmediateChild(v);let k;if(ce(S))k=s;else{const P=y.getCompleteChild(v);P!=null?Ng(S)===".priority"&&P.getChild(kg(S)).isEmpty()?k=P:k=P.updateChild(S,s):k=Se.EMPTY_NODE}if(R.equals(k))p=e;else{const P=t.filter.updateChild(h.getNode(),v,k,S,y,f);p=ms(e,P,h.isFullyInitialized(),t.filter.filtersNodes())}}}return p}function im(t,e){return t.eventCache.isCompleteForChild(e)}function tC(t,e,r,s,l,u,f){let h=e;return s.foreach((p,g)=>{const y=Ve(r,p);im(e,ae(y))&&(h=uc(t,h,y,g,l,u,f))}),s.foreach((p,g)=>{const y=Ve(r,p);im(e,ae(y))||(h=uc(t,h,y,g,l,u,f))}),h}function sm(t,e,r){return r.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function cc(t,e,r,s,l,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,g;ce(r)?g=s:g=new Pe(null).setTree(r,s);const y=e.serverCache.getNode();return g.children.inorderTraversal((v,S)=>{if(y.hasChild(v)){const R=e.serverCache.getNode().getImmediateChild(v),k=sm(t,R,S);p=cl(t,p,new be(v),k,l,u,f,h)}}),g.children.inorderTraversal((v,S)=>{const R=!e.serverCache.isCompleteForChild(v)&&S.value===null;if(!y.hasChild(v)&&!R){const k=e.serverCache.getNode().getImmediateChild(v),P=sm(t,k,S);p=cl(t,p,new be(v),P,l,u,f,h)}}),p}function nC(t,e,r,s,l,u,f){if(ul(l,r)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(ce(r)&&p.isFullyInitialized()||p.isCompleteForPath(r))return cl(t,e,r,p.getNode().getChild(r),l,u,h,f);if(ce(r)){let g=new Pe(null);return p.getNode().forEachChild(li,(y,v)=>{g=g.set(new be(y),v)}),cc(t,e,r,g,l,u,h,f)}else return e}else{let g=new Pe(null);return s.foreach((y,v)=>{const S=Ve(r,y);p.isCompleteForPath(S)&&(g=g.set(y,p.getNode().getChild(S)))}),cc(t,e,r,g,l,u,h,f)}}function rC(t,e,r,s,l){const u=e.serverCache,f=$g(e,u.getNode(),u.isFullyInitialized()||ce(r),u.isFiltered());return Xg(t,f,r,s,Kg,l)}function iC(t,e,r,s,l,u){let f;if(ul(s,r)!=null)return e;{const h=new Wc(s,e,l),p=e.eventCache.getNode();let g;if(ce(r)||ae(r)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=ac(s,Rr(e));else{const v=e.serverCache.getNode();j(v instanceof Se,"serverChildren would be complete if leaf node"),y=Qg(s,v)}y=y,g=t.filter.updateFullNode(p,y,u)}else{const y=ae(r);let v=zc(s,y,e.serverCache);v==null&&e.serverCache.isCompleteForChild(y)&&(v=p.getImmediateChild(y)),v!=null?g=t.filter.updateChild(p,y,v,Ae(r),h,u):e.eventCache.getNode().hasChild(y)?g=t.filter.updateChild(p,y,Se.EMPTY_NODE,Ae(r),h,u):g=p,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=ac(s,Rr(e)),f.isLeafNode()&&(g=t.filter.updateFullNode(g,f,u)))}return f=e.serverCache.isFullyInitialized()||ul(s,Ce())!=null,ms(e,g,f,t.filter.filtersNodes())}}function sC(t,e){const r=Rr(t.viewCache_);return r&&(t.query._queryParams.loadsAllData()||!ce(e)&&!r.getImmediateChild(ae(e)).isEmpty())?r.getChild(e):null}function om(t,e,r,s){e.type===cn.MERGE&&e.source.queryId!==null&&(j(Rr(t.viewCache_),"We should always have a full cache before handling merges"),j(sc(t.viewCache_),"Missing event cache, even though we have a server cache"));const l=t.viewCache_,u=Jw(t.processor_,l,e,r,s);return Zw(t.processor_,u.viewCache),j(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,oC(t,u.changes,u.viewCache.eventCache.getNode())}function oC(t,e,r,s){const l=t.eventRegistrations_;return Ow(t.eventGenerator_,e,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm;function lC(t){j(!lm,"__referenceConstructor has already been defined"),lm=t}function Gc(t,e,r,s){const l=e.source.queryId;if(l!==null){const u=t.views.get(l);return j(u!=null,"SyncTree gave us an op for an invalid query."),om(u,e,r,s)}else{let u=[];for(const f of t.views.values())u=u.concat(om(f,e,r,s));return u}}function Vc(t,e){let r=null;for(const s of t.views.values())r=r||sC(s,e);return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am;function aC(t){j(!am,"__referenceConstructor has already been defined"),am=t}class um{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=qw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Zg(t,e,r,s,l){return Fw(t.pendingWriteTree_,e,r,s,l),l?vl(t,new Nr(Hg(),e,r)):[]}function wr(t,e,r=!1){const s=Hw(t.pendingWriteTree_,e);if(Bw(t.pendingWriteTree_,e)){let u=new Pe(null);return s.snap!=null?u=u.set(Ce(),!0):Ut(s.children,f=>{u=u.set(new be(f),!0)}),vl(t,new al(s.path,u,r))}else return[]}function yl(t,e,r){return vl(t,new Nr(Bg(),e,r))}function uC(t,e,r){const s=Pe.fromObject(r);return vl(t,new Cs(Bg(),e,s))}function cC(t,e,r,s){const l=ty(t,s);if(l!=null){const u=ny(l),f=u.path,h=u.queryId,p=Bt(f,e),g=new Nr(Ug(h),p,r);return ry(t,f,g)}else return[]}function fC(t,e,r,s){const l=ty(t,s);if(l){const u=ny(l),f=u.path,h=u.queryId,p=Bt(f,e),g=Pe.fromObject(r),y=new Cs(Ug(h),p,g);return ry(t,f,y)}else return[]}function Qc(t,e,r){const l=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(f,h)=>{const p=Bt(f,e),g=Vc(h,p);if(g)return g});return Vg(l,e,u,r,!0)}function vl(t,e){return Jg(e,t.syncPointTree_,null,Wg(t.pendingWriteTree_,Ce()))}function Jg(t,e,r,s){if(ce(t.path))return ey(t,e,r,s);{const l=e.get(Ce());r==null&&l!=null&&(r=Vc(l,Ce()));let u=[];const f=ae(t.path),h=t.operationForChild(f),p=e.children.get(f);if(p&&h){const g=r?r.getImmediateChild(f):null,y=qg(s,f);u=u.concat(Jg(h,p,g,y))}return l&&(u=u.concat(Gc(l,t,s,r))),u}}function ey(t,e,r,s){const l=e.get(Ce());r==null&&l!=null&&(r=Vc(l,Ce()));let u=[];return e.children.inorderTraversal((f,h)=>{const p=r?r.getImmediateChild(f):null,g=qg(s,f),y=t.operationForChild(f);y&&(u=u.concat(ey(y,h,p,g)))}),l&&(u=u.concat(Gc(l,t,s,r))),u}function ty(t,e){return t.tagToQueryMap.get(e)}function ny(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new be(t.substr(0,e))}}function ry(t,e,r){const s=t.syncPointTree_.get(e);j(s,"Missing sync point for query tag that we're tracking");const l=Wg(t.pendingWriteTree_,e);return Gc(s,r,l,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new qc(r)}node(){return this.node_}}class Yc{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=Ve(this.path_,e);return new Yc(this.syncTree_,r)}node(){return Qc(this.syncTree_,this.path_)}}const dC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cm=function(t,e,r){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return hC(t[".sv"],e,r);if(typeof t[".sv"]=="object")return pC(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},hC=function(t,e,r){switch(t){case"timestamp":return r.timestamp;default:j(!1,"Unexpected server value: "+t)}},pC=function(t,e,r){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&j(!1,"Unexpected increment value: "+s);const l=e.node();if(j(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const f=l.getValue();return typeof f!="number"?s:f+s},mC=function(t,e,r,s){return Kc(e,new Yc(r,t),s)},iy=function(t,e,r){return Kc(t,new qc(e),r)};function Kc(t,e,r){const s=t.getPriority().val(),l=cm(s,e.getImmediateChild(".priority"),r);let u;if(t.isLeafNode()){const f=t,h=cm(f.getValue(),e,r);return h!==f.getValue()||l!==f.getPriority().val()?new Ze(h,nt(l)):t}else{const f=t;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new Ze(l))),f.forEachChild(ft,(h,p)=>{const g=Kc(p,e.getImmediateChild(h),r);g!==p&&(u=u.updateImmediateChild(h,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e="",r=null,s={children:{},childCount:0}){this.name=e,this.parent=r,this.node=s}}function Zc(t,e){let r=e instanceof be?e:new be(e),s=t,l=ae(r);for(;l!==null;){const u=ai(s.node.children,l)||{children:{},childCount:0};s=new Xc(l,s,u),r=Ae(r),l=ae(r)}return s}function yi(t){return t.node.value}function sy(t,e){t.node.value=e,fc(t)}function oy(t){return t.node.childCount>0}function gC(t){return yi(t)===void 0&&!oy(t)}function _l(t,e){Ut(t.node.children,(r,s)=>{e(new Xc(r,t,s))})}function ly(t,e,r,s){r&&e(t),_l(t,l=>{ly(l,e,!0)})}function yC(t,e,r){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Rs(t){return new be(t.parent===null?t.name:Rs(t.parent)+"/"+t.name)}function fc(t){t.parent!==null&&vC(t.parent,t.name,t)}function vC(t,e,r){const s=gC(r),l=Rn(t.node.children,e);s&&l?(delete t.node.children[e],t.node.childCount--,fc(t)):!s&&!l&&(t.node.children[e]=r.node,t.node.childCount++,fc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=/[\[\].#$\/\u0000-\u001F\u007F]/,EC=/[\[\].#$\u0000-\u001F\u007F]/,Hu=10*1024*1024,ay=function(t){return typeof t=="string"&&t.length!==0&&!_C.test(t)},uy=function(t){return typeof t=="string"&&t.length!==0&&!EC.test(t)},SC=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),uy(t)},cy=function(t,e,r,s){s&&e===void 0||Jc(Oc(t,"value"),e,r)},Jc=function(t,e,r){const s=r instanceof be?new rw(r,t):r;if(e===void 0)throw new Error(t+"contains undefined "+vr(s));if(typeof e=="function")throw new Error(t+"contains a function "+vr(s)+" with contents = "+e.toString());if(og(e))throw new Error(t+"contains "+e.toString()+" "+vr(s));if(typeof e=="string"&&e.length>Hu/3&&ml(e)>Hu)throw new Error(t+"contains a string greater than "+Hu+" utf8 bytes "+vr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Ut(e,(f,h)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!ay(f)))throw new Error(t+" contains an invalid key ("+f+") "+vr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iw(s,f),Jc(t,h,s),sw(s)}),l&&u)throw new Error(t+' contains ".value" child '+vr(s)+" in addition to actual children.")}},fy=function(t,e,r,s){if(!uy(r))throw new Error(Oc(t,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wC=function(t,e,r,s){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),fy(t,e,r)},dy=function(t,e){if(ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},CC=function(t,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ay(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!SC(r))throw new Error(Oc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hy(t,e){let r=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();r!==null&&!Pg(u,r.path)&&(t.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(l)}r&&t.eventLists_.push(r)}function Nn(t,e,r){hy(t,r),xC(t,s=>Xt(s,e)||Xt(e,s))}function xC(t,e){t.recursionDepth_++;let r=!0;for(let s=0;s<t.eventLists_.length;s++){const l=t.eventLists_[s];if(l){const u=l.path;e(u)?(IC(t.eventLists_[s]),t.eventLists_[s]=null):r=!1}}r&&(t.eventLists_=[]),t.recursionDepth_--}function IC(t){for(let e=0;e<t.events.length;e++){const r=t.events[e];if(r!==null){t.events[e]=null;const s=r.getEventRunner();hs&&ct("event: "+r.toString()),gi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="repo_interrupt",RC=25;class kC{constructor(e,r,s,l){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ll(),this.transactionQueueTree_=new Xc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function PC(t,e,r){if(t.stats_=Fc(t.repoInfo_),t.forceRestClient_||RS())t.server_=new ol(t.repoInfo_,(s,l,u,f)=>{fm(t,s,l,u,f)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dm(t,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(r)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Cn(t.repoInfo_,e,(s,l,u,f)=>{fm(t,s,l,u,f)},s=>{dm(t,s)},s=>{AC(t,s)},t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=OS(t.repoInfo_,()=>new bw(t.stats_,t.server_)),t.infoData_=new Nw,t.infoSyncTree_=new um({startListening:(s,l,u,f)=>{let h=[];const p=t.infoData_.getNode(s._path);return p.isEmpty()||(h=yl(t.infoSyncTree_,s._path,p),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),tf(t,"connected",!1),t.serverSyncTree_=new um({startListening:(s,l,u,f)=>(t.server_.listen(s,u,l,(h,p)=>{const g=f(h,p);Nn(t.eventQueue_,s._path,g)}),[]),stopListening:(s,l)=>{t.server_.unlisten(s,l)}})}function py(t){const r=t.infoData_.getNode(new be(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function ef(t){return dC({timestamp:py(t)})}function fm(t,e,r,s,l){t.dataUpdateCount++;const u=new be(e);r=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,r):r;let f=[];if(l)if(s){const p=el(r,g=>nt(g));f=fC(t.serverSyncTree_,u,p,l)}else{const p=nt(r);f=cC(t.serverSyncTree_,u,p,l)}else if(s){const p=el(r,g=>nt(g));f=uC(t.serverSyncTree_,u,p)}else{const p=nt(r);f=yl(t.serverSyncTree_,u,p)}let h=u;f.length>0&&(h=El(t,u)),Nn(t.eventQueue_,h,f)}function dm(t,e){tf(t,"connected",e),e===!1&&OC(t)}function AC(t,e){Ut(e,(r,s)=>{tf(t,r,s)})}function tf(t,e,r){const s=new be("/.info/"+e),l=nt(r);t.infoData_.updateSnapshot(s,l);const u=yl(t.infoSyncTree_,s,l);Nn(t.eventQueue_,s,u)}function my(t){return t.nextWriteId_++}function bC(t,e,r,s,l){nf(t,"set",{path:e.toString(),value:r,priority:s});const u=ef(t),f=nt(r,s),h=Qc(t.serverSyncTree_,e),p=iy(f,h,u),g=my(t),y=Zg(t.serverSyncTree_,e,p,g,!0);hy(t.eventQueue_,y),t.server_.put(e.toString(),f.val(!0),(S,R)=>{const k=S==="ok";k||Tt("set at "+e+" failed: "+S);const P=wr(t.serverSyncTree_,g,!k);Nn(t.eventQueue_,e,P),LC(t,l,S,R)});const v=Ey(t,e);El(t,v),Nn(t.eventQueue_,v,[])}function OC(t){nf(t,"onDisconnectEvents");const e=ef(t),r=ll();ic(t.onDisconnect_,Ce(),(l,u)=>{const f=mC(l,u,t.serverSyncTree_,e);Fg(r,l,f)});let s=[];ic(r,Ce(),(l,u)=>{s=s.concat(yl(t.serverSyncTree_,l,u));const f=Ey(t,l);El(t,f)}),t.onDisconnect_=ll(),Nn(t.eventQueue_,Ce(),s)}function DC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(NC)}function nf(t,...e){let r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),ct(r,...e)}function LC(t,e,r,s){e&&gi(()=>{if(r==="ok")e(null);else{const l=(r||"error").toUpperCase();let u=l;s&&(u+=": "+s);const f=new Error(u);f.code=l,e(f)}})}function gy(t,e,r){return Qc(t.serverSyncTree_,e,r)||Se.EMPTY_NODE}function rf(t,e=t.transactionQueueTree_){if(e||Sl(t,e),yi(e)){const r=vy(t,e);j(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&MC(t,Rs(e),r)}else oy(e)&&_l(e,r=>{rf(t,r)})}function MC(t,e,r){const s=r.map(g=>g.currentWriteId),l=gy(t,e,s);let u=l;const f=l.hash();for(let g=0;g<r.length;g++){const y=r[g];j(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Bt(e,y.path);u=u.updateChild(v,y.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;t.server_.put(p.toString(),h,g=>{nf(t,"transaction put response",{path:p.toString(),status:g});let y=[];if(g==="ok"){const v=[];for(let S=0;S<r.length;S++)r[S].status=2,y=y.concat(wr(t.serverSyncTree_,r[S].currentWriteId)),r[S].onComplete&&v.push(()=>r[S].onComplete(null,!0,r[S].currentOutputSnapshotResolved)),r[S].unwatcher();Sl(t,Zc(t.transactionQueueTree_,e)),rf(t,t.transactionQueueTree_),Nn(t.eventQueue_,e,y);for(let S=0;S<v.length;S++)gi(v[S])}else{if(g==="datastale")for(let v=0;v<r.length;v++)r[v].status===3?r[v].status=4:r[v].status=0;else{Tt("transaction at "+p.toString()+" failed: "+g);for(let v=0;v<r.length;v++)r[v].status=4,r[v].abortReason=g}El(t,e)}},f)}function El(t,e){const r=yy(t,e),s=Rs(r),l=vy(t,r);return FC(t,l,s),s}function FC(t,e,r){if(e.length===0)return;const s=[];let l=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],g=Bt(r,p.path);let y=!1,v;if(j(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,v=p.abortReason,l=l.concat(wr(t.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=RC)y=!0,v="maxretry",l=l.concat(wr(t.serverSyncTree_,p.currentWriteId,!0));else{const S=gy(t,p.path,f);p.currentInputSnapshot=S;const R=e[h].update(S.val());if(R!==void 0){Jc("transaction failed: Data returned ",R,p.path);let k=nt(R);typeof R=="object"&&R!=null&&Rn(R,".priority")||(k=k.updatePriority(S.getPriority()));const D=p.currentWriteId,$=ef(t),G=iy(k,S,$);p.currentOutputSnapshotRaw=k,p.currentOutputSnapshotResolved=G,p.currentWriteId=my(t),f.splice(f.indexOf(D),1),l=l.concat(Zg(t.serverSyncTree_,p.path,G,p.currentWriteId,p.applyLocally)),l=l.concat(wr(t.serverSyncTree_,D,!0))}else y=!0,v="nodata",l=l.concat(wr(t.serverSyncTree_,p.currentWriteId,!0))}Nn(t.eventQueue_,r,l),l=[],y&&(e[h].status=2,function(S){setTimeout(S,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(v),!1,null))))}Sl(t,t.transactionQueueTree_);for(let h=0;h<s.length;h++)gi(s[h]);rf(t,t.transactionQueueTree_)}function yy(t,e){let r,s=t.transactionQueueTree_;for(r=ae(e);r!==null&&yi(s)===void 0;)s=Zc(s,r),e=Ae(e),r=ae(e);return s}function vy(t,e){const r=[];return _y(t,e,r),r.sort((s,l)=>s.order-l.order),r}function _y(t,e,r){const s=yi(e);if(s)for(let l=0;l<s.length;l++)r.push(s[l]);_l(e,l=>{_y(t,l,r)})}function Sl(t,e){const r=yi(e);if(r){let s=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[s]=r[l],s++);r.length=s,sy(e,r.length>0?r:void 0)}_l(e,s=>{Sl(t,s)})}function Ey(t,e){const r=Rs(yy(t,e)),s=Zc(t.transactionQueueTree_,e);return yC(s,l=>{Bu(t,l)}),Bu(t,s),ly(s,l=>{Bu(t,l)}),r}function Bu(t,e){const r=yi(e);if(r){const s=[];let l=[],u=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(j(u===f-1,"All SENT items should be at beginning of queue."),u=f,r[f].status=3,r[f].abortReason="set"):(j(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),l=l.concat(wr(t.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&s.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?sy(e,void 0):r.length=u+1,Nn(t.eventQueue_,Rs(e),l);for(let f=0;f<s.length;f++)gi(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){let e="";const r=t.split("/");for(let s=0;s<r.length;s++)if(r[s].length>0){let l=r[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function BC(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const r of t.split("&")){if(r.length===0)continue;const s=r.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Tt(`Invalid query segment '${r}' in query '${t}'`)}return e}const hm=function(t,e){const r=UC(t),s=r.namespace;r.domain==="firebase.com"&&In(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&r.domain!=="localhost"&&In("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||ES();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new vg(r.host,r.secure,s,l,e,"",s!==r.subdomain),path:new be(r.pathString)}},UC=function(t){let e="",r="",s="",l="",u="",f=!0,h="https",p=443;if(typeof t=="string"){let g=t.indexOf("//");g>=0&&(h=t.substring(0,g-1),t=t.substring(g+2));let y=t.indexOf("/");y===-1&&(y=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(y,v)),y<v&&(l=HC(t.substring(y,v)));const S=BC(t.substring(Math.min(t.length,v)));g=e.indexOf(":"),g>=0?(f=h==="https"||h==="wss",p=parseInt(e.substring(g+1),10)):g=e.length;const R=e.slice(0,g);if(R.toLowerCase()==="localhost")r="localhost";else if(R.split(".").length<=2)r=R;else{const k=e.indexOf(".");s=e.substring(0,k).toLowerCase(),r=e.substring(k+1),u=s}"ns"in S&&(u=S.ns)}return{host:e,port:p,domain:r,subdomain:s,secure:f,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",jC=function(){let t=0;const e=[];return function(r){const s=r===t;t=r;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=pm.charAt(r%64),r=Math.floor(r/64);j(r===0,"Cannot push at time == 0");let f=u.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)f+=pm.charAt(e[l]);return j(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,r,s,l){this._repo=e,this._path=r,this._queryParams=s,this._orderByCalled=l}get key(){return ce(this._path)?null:Ng(this._path)}get ref(){return new Ar(this._repo,this._path)}get _queryIdentifier(){const e=Zp(this._queryParams),r=Lc(e);return r==="{}"?"default":r}get _queryObject(){return Zp(this._queryParams)}isEqual(e){if(e=pi(e),!(e instanceof sf))return!1;const r=this._repo===e._repo,s=Pg(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return r&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+nw(this._path)}}class Ar extends sf{constructor(e,r){super(e,r,new jc,!1)}get parent(){const e=kg(this._path);return e===null?null:new Ar(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function $C(t,e){return t=pi(t),t._checkNotDeleted("ref"),dc(t._root,e)}function dc(t,e){return t=pi(t),ae(t._path)===null?wC("child","path",e):fy("child","path",e),new Ar(t._repo,Ve(t._path,e))}function zC(t,e){t=pi(t),dy("push",t._path),cy("push",e,t._path,!0);const r=py(t._repo),s=jC(r),l=dc(t,s),u=dc(t,s);let f;return e!=null?f=WC(u,e).then(()=>u):f=Promise.resolve(u),l.then=f.then.bind(f),l.catch=f.then.bind(f,void 0),l}function WC(t,e){t=pi(t),dy("set",t._path),cy("set",e,t._path,!1);const r=new pl;return bC(t._repo,t._path,e,null,r.wrapCallback(()=>{})),r.promise}lC(Ar);aC(Ar);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="FIREBASE_DATABASE_EMULATOR_HOST",hc={};let VC=!1;function QC(t,e,r,s){t.repoInfo_=new vg(`${e}:${r}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function qC(t,e,r,s,l){let u=s||t.options.databaseURL;u===void 0&&(t.options.projectId||In("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let f=hm(u,l),h=f.repoInfo,p;typeof process<"u"&&Op&&(p=Op[GC]),p?(u=`http://${p}?ns=${h.namespace}`,f=hm(u,l),h=f.repoInfo):f.repoInfo.secure;const g=new PS(t.name,t.options,e);CC("Invalid Firebase Database URL",f),ce(f.path)||In("Database URL must point to the root of a Firebase Database (not including a child path).");const y=KC(h,t,g,new kS(t.name,r));return new XC(y,t)}function YC(t,e){const r=hc[e];(!r||r[t.key]!==t)&&In(`Database ${e}(${t.repoInfo_}) has already been deleted.`),DC(t),delete r[t.key]}function KC(t,e,r,s){let l=hc[e.name];l||(l={},hc[e.name]=l);let u=l[t.toURLString()];return u&&In("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new kC(t,VC,r,s),l[t.toURLString()]=u,u}class XC{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(PC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ar(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(YC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&In("Cannot call "+e+" on a deleted database.")}}function ZC(t=nS(),e){const r=ZE(t,"database").getImmediate({identifier:e});if(!r._instanceStarted){const s=j0("database");s&&JC(r,...s)}return r}function JC(t,e,r,s={}){t=pi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&In("Cannot call useEmulator() after instance has already been initialized.");const l=t._repoInternal;let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&In('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Xo(Xo.OWNER);else if(s.mockUserToken){const f=typeof s.mockUserToken=="string"?s.mockUserToken:$0(s.mockUserToken,t.app.options.projectId);u=new Xo(f)}QC(l,e,r,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){pS(tS),nl(new Es("database",(e,{instanceIdentifier:r})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return qC(s,l,u,r)},"PUBLIC").setMultipleInstances(!0)),si(Dp,Lp,t),si(Dp,Lp,"esm2017")}Cn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};e1();const t1={apiKey:"AIzaSyCNEJDVMHQY8BnaO2ZKkGBQbvoEHXhZBeo",authDomain:"diri-9ed53.firebaseapp.com",databaseURL:"https://diri-9ed53-default-rtdb.firebaseio.com",projectId:"diri-9ed53",storageBucket:"diri-9ed53.firebasestorage.app",messagingSenderId:"710505225558",appId:"1:710505225558:web:a1489ff5c4b458c28b4af7",measurementId:"G-4SMWBK22RK"},n1=eg(t1),r1=ZC(n1);function i1(t){if(t.food.quantity<=0)throw new Error("Ya no quedan hamburguesas "+t.food.name+" ,tenemos "+t.food.quantity+" ahora mismo");const[e,r]=x.useState({timeZone:"",dateTime:""}),[s,l]=x.useState(1),[u,f]=x.useState(0),h=x.useContext(wv),[p,g]=x.useState(void 0),[y,v]=x.useState(!1),S="Europe/Amsterdam",R=async()=>{const $=h.find(G=>G.id===t.food.id);if($)try{r(await A0(S,r,g)),$.quantity=$.quantity-s}catch{Tr.error("Error en fetchData: ");return}else Tr.warn("No se encontró el item con id: "+t.food.id)},k=()=>{Tr.debug("Entendido el excede"),f(0),v(!1),g(!1)},P=$=>{const G=$.target.value,B=parseInt(G,10);isNaN(B)?G===""&&l(0):B<t.food.quantity-1?(f(0),v(!1),l(B)):(f(B),v(!0))},D=async()=>{let $=null;if($={fecha:e.dateTime.toString(),id_menu:t.food.id,nombre_menu:t.food.name,cantidad:s,precio_total:t.food.price*s},$){console.log("Pedido listo para enviar:",$);const G=$C(r1,"pedidos");await zC(G,$)}};return x.useEffect(()=>{if(p===!1&&e){async function $(){try{await D(),v(!1)}catch(G){console.error("Error al crear pedido:",G)}}$()}},[D,p,e]),F.jsxs(F.Fragment,{children:[p===!0?F.jsx("p",{children:"Realizando petición de datos..."}):p===!1&&e?F.jsxs("div",{children:[F.jsx("h4",{children:"Pedido realizado"}),F.jsxs("p",{children:["Hora actual: ",e.dateTime]})]}):p===!1&&!e?F.jsx("p",{children:"No se pudieron obtener los datos."}):null,y===!0&&F.jsxs("div",{children:[F.jsxs("h4",{children:["Excedes la cantidad total de hamburguesas que puedes pedir: ",t.food.quantity-1,"y estas ingresando ",u]}),F.jsx("button",{onClick:()=>k(),children:"Entendido"})]}),F.jsxs("div",{children:[F.jsx("img",{className:"foodImg",src:jm,alt:t.food.name}),F.jsx("h5",{children:"Nombre: "}),F.jsx("p",{children:t.food.name}),F.jsx("h5",{children:"Precio: "}),F.jsx("p",{children:t.food.price*s}),F.jsx("h5",{children:"Cantidad total que se puede pedir: "}),F.jsx("p",{children:t.food.quantity-1}),F.jsx("br",{}),F.jsxs("div",{children:[F.jsx("label",{children:"Cantidad a ordenar: "}),F.jsx("input",{"data-testid":"foodPriceF",type:"number",id:"cantidad",className:"number",value:s,onChange:P,min:"0"}),F.jsx("button",{onClick:async()=>{await R()},children:"Ordenar"})]}),F.jsx("button",{onClick:t.onReturnToMenu,children:"Volver al menú"})]})]})}class s1 extends re.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){Tr.warn("Error capturado por ErrorBoundary: "+e.message),Tr.debug("Detalles del error: "+r.componentStack)}render(){return this.state.hasError?this.props.fallback:this.props.children}}var pc=function(t,e){return pc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])},pc(t,e)};function jt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Y=function(){return Y=Object.assign||function(e){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u])}return e},Y.apply(this,arguments)};function fi(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(r[s[l]]=t[s[l]]);return r}function an(t,e,r){if(r||arguments.length===2)for(var s=0,l=e.length,u;s<l;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return t.concat(u||Array.prototype.slice.call(e))}function on(t,e){var r=e&&e.cache?e.cache:d1,s=e&&e.serializer?e.serializer:c1,l=e&&e.strategy?e.strategy:l1;return l(t,{cache:r,serializer:s})}function o1(t){return t==null||typeof t=="number"||typeof t=="boolean"}function Sy(t,e,r,s){var l=o1(s)?s:r(s),u=e.get(l);return typeof u>"u"&&(u=t.call(this,s),e.set(l,u)),u}function wy(t,e,r){var s=Array.prototype.slice.call(arguments,3),l=r(s),u=e.get(l);return typeof u>"u"&&(u=t.apply(this,s),e.set(l,u)),u}function of(t,e,r,s,l){return r.bind(e,t,s,l)}function l1(t,e){var r=t.length===1?Sy:wy;return of(t,this,r,e.cache.create(),e.serializer)}function a1(t,e){return of(t,this,wy,e.cache.create(),e.serializer)}function u1(t,e){return of(t,this,Sy,e.cache.create(),e.serializer)}var c1=function(){return JSON.stringify(arguments)},f1=function(){function t(){this.cache=Object.create(null)}return t.prototype.get=function(e){return this.cache[e]},t.prototype.set=function(e,r){this.cache[e]=r},t}(),d1={create:function(){return new f1}},ln={variadic:a1,monadic:u1},ue;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(ue||(ue={}));var ke;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(ke||(ke={}));var di;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(di||(di={}));function mm(t){return t.type===ke.literal}function h1(t){return t.type===ke.argument}function Cy(t){return t.type===ke.number}function Ty(t){return t.type===ke.date}function xy(t){return t.type===ke.time}function Iy(t){return t.type===ke.select}function Ny(t){return t.type===ke.plural}function p1(t){return t.type===ke.pound}function Ry(t){return t.type===ke.tag}function ky(t){return!!(t&&typeof t=="object"&&t.type===di.number)}function mc(t){return!!(t&&typeof t=="object"&&t.type===di.dateTime)}var Py=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,m1=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function g1(t){var e={};return t.replace(m1,function(r){var s=r.length;switch(r[0]){case"G":e.era=s===4?"long":s===5?"narrow":"short";break;case"y":e.year=s===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][s-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][s-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=s===4?"long":s===5?"narrow":"short";break;case"e":if(s<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][s-4];break;case"c":if(s<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][s-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][s-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][s-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][s-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][s-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][s-1];break;case"s":e.second=["numeric","2-digit"][s-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=s<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var y1=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function v1(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(y1).filter(function(S){return S.length>0}),r=[],s=0,l=e;s<l.length;s++){var u=l[s],f=u.split("/");if(f.length===0)throw new Error("Invalid number skeleton");for(var h=f[0],p=f.slice(1),g=0,y=p;g<y.length;g++){var v=y[g];if(v.length===0)throw new Error("Invalid number skeleton")}r.push({stem:h,options:p})}return r}function _1(t){return t.replace(/^(.*?)-/,"")}var gm=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Ay=/^(@+)?(\+|#+)?[rs]?$/g,E1=/(\*)(0+)|(#+)(0+)|(0+)/g,by=/^(0+)$/;function ym(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(Ay,function(r,s,l){return typeof l!="string"?(e.minimumSignificantDigits=s.length,e.maximumSignificantDigits=s.length):l==="+"?e.minimumSignificantDigits=s.length:s[0]==="#"?e.maximumSignificantDigits=s.length:(e.minimumSignificantDigits=s.length,e.maximumSignificantDigits=s.length+(typeof l=="string"?l.length:0)),""}),e}function Oy(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function S1(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var r=t.slice(0,2);if(r==="+!"?(e.signDisplay="always",t=t.slice(2)):r==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!by.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function vm(t){var e={},r=Oy(t);return r||e}function w1(t){for(var e={},r=0,s=t;r<s.length;r++){var l=s[r];switch(l.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=l.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=_1(l.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=Y(Y(Y({},e),{notation:"scientific"}),l.options.reduce(function(p,g){return Y(Y({},p),vm(g))},{}));continue;case"engineering":e=Y(Y(Y({},e),{notation:"engineering"}),l.options.reduce(function(p,g){return Y(Y({},p),vm(g))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(l.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(l.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");l.options[0].replace(E1,function(p,g,y,v,S,R){if(g)e.minimumIntegerDigits=y.length;else{if(v&&S)throw new Error("We currently do not support maximum integer digits");if(R)throw new Error("We currently do not support exact integer digits")}return""});continue}if(by.test(l.stem)){e.minimumIntegerDigits=l.stem.length;continue}if(gm.test(l.stem)){if(l.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");l.stem.replace(gm,function(p,g,y,v,S,R){return y==="*"?e.minimumFractionDigits=g.length:v&&v[0]==="#"?e.maximumFractionDigits=v.length:S&&R?(e.minimumFractionDigits=S.length,e.maximumFractionDigits=S.length+R.length):(e.minimumFractionDigits=g.length,e.maximumFractionDigits=g.length),""});var u=l.options[0];u==="w"?e=Y(Y({},e),{trailingZeroDisplay:"stripIfInteger"}):u&&(e=Y(Y({},e),ym(u)));continue}if(Ay.test(l.stem)){e=Y(Y({},e),ym(l.stem));continue}var f=Oy(l.stem);f&&(e=Y(Y({},e),f));var h=S1(l.stem);h&&(e=Y(Y({},e),h))}return e}var qo={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function C1(t,e){for(var r="",s=0;s<t.length;s++){var l=t.charAt(s);if(l==="j"){for(var u=0;s+1<t.length&&t.charAt(s+1)===l;)u++,s++;var f=1+(u&1),h=u<2?1:3+(u>>1),p="a",g=T1(e);for((g=="H"||g=="k")&&(h=0);h-- >0;)r+=p;for(;f-- >0;)r=g+r}else l==="J"?r+="H":r+=l}return r}function T1(t){var e=t.hourCycle;if(e===void 0&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r=t.language,s;r!=="root"&&(s=t.maximize().region);var l=qo[s||""]||qo[r||""]||qo["".concat(r,"-001")]||qo["001"];return l[0]}var Uu,x1=new RegExp("^".concat(Py.source,"*")),I1=new RegExp("".concat(Py.source,"*$"));function he(t,e){return{start:t,end:e}}var N1=!!String.prototype.startsWith&&"_a".startsWith("a",1),R1=!!String.fromCodePoint,k1=!!Object.fromEntries,P1=!!String.prototype.codePointAt,A1=!!String.prototype.trimStart,b1=!!String.prototype.trimEnd,O1=!!Number.isSafeInteger,D1=O1?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},gc=!0;try{var L1=Ly("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");gc=((Uu=L1.exec("a"))===null||Uu===void 0?void 0:Uu[0])==="a"}catch{gc=!1}var _m=N1?function(e,r,s){return e.startsWith(r,s)}:function(e,r,s){return e.slice(s,s+r.length)===r},yc=R1?String.fromCodePoint:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var s="",l=e.length,u=0,f;l>u;){if(f=e[u++],f>1114111)throw RangeError(f+" is not a valid code point");s+=f<65536?String.fromCharCode(f):String.fromCharCode(((f-=65536)>>10)+55296,f%1024+56320)}return s},Em=k1?Object.fromEntries:function(e){for(var r={},s=0,l=e;s<l.length;s++){var u=l[s],f=u[0],h=u[1];r[f]=h}return r},Dy=P1?function(e,r){return e.codePointAt(r)}:function(e,r){var s=e.length;if(!(r<0||r>=s)){var l=e.charCodeAt(r),u;return l<55296||l>56319||r+1===s||(u=e.charCodeAt(r+1))<56320||u>57343?l:(l-55296<<10)+(u-56320)+65536}},M1=A1?function(e){return e.trimStart()}:function(e){return e.replace(x1,"")},F1=b1?function(e){return e.trimEnd()}:function(e){return e.replace(I1,"")};function Ly(t,e){return new RegExp(t,e)}var vc;if(gc){var Sm=Ly("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");vc=function(e,r){var s;Sm.lastIndex=r;var l=Sm.exec(e);return(s=l[1])!==null&&s!==void 0?s:""}}else vc=function(e,r){for(var s=[];;){var l=Dy(e,r);if(l===void 0||My(l)||j1(l))break;s.push(l),r+=l>=65536?2:1}return yc.apply(void 0,s)};var H1=function(){function t(e,r){r===void 0&&(r={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!r.ignoreTag,this.locale=r.locale,this.requiresOtherClause=!!r.requiresOtherClause,this.shouldParseSkeletons=!!r.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,r,s){for(var l=[];!this.isEOF();){var u=this.char();if(u===123){var f=this.parseArgument(e,s);if(f.err)return f;l.push(f.val)}else{if(u===125&&e>0)break;if(u===35&&(r==="plural"||r==="selectordinal")){var h=this.clonePosition();this.bump(),l.push({type:ke.pound,location:he(h,this.clonePosition())})}else if(u===60&&!this.ignoreTag&&this.peek()===47){if(s)break;return this.error(ue.UNMATCHED_CLOSING_TAG,he(this.clonePosition(),this.clonePosition()))}else if(u===60&&!this.ignoreTag&&_c(this.peek()||0)){var f=this.parseTag(e,r);if(f.err)return f;l.push(f.val)}else{var f=this.parseLiteral(e,r);if(f.err)return f;l.push(f.val)}}}return{val:l,err:null}},t.prototype.parseTag=function(e,r){var s=this.clonePosition();this.bump();var l=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:ke.literal,value:"<".concat(l,"/>"),location:he(s,this.clonePosition())},err:null};if(this.bumpIf(">")){var u=this.parseMessage(e+1,r,!0);if(u.err)return u;var f=u.val,h=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!_c(this.char()))return this.error(ue.INVALID_TAG,he(h,this.clonePosition()));var p=this.clonePosition(),g=this.parseTagName();return l!==g?this.error(ue.UNMATCHED_CLOSING_TAG,he(p,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:ke.tag,value:l,children:f,location:he(s,this.clonePosition())},err:null}:this.error(ue.INVALID_TAG,he(h,this.clonePosition())))}else return this.error(ue.UNCLOSED_TAG,he(s,this.clonePosition()))}else return this.error(ue.INVALID_TAG,he(s,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&U1(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,r){for(var s=this.clonePosition(),l="";;){var u=this.tryParseQuote(r);if(u){l+=u;continue}var f=this.tryParseUnquoted(e,r);if(f){l+=f;continue}var h=this.tryParseLeftAngleBracket();if(h){l+=h;continue}break}var p=he(s,this.clonePosition());return{val:{type:ke.literal,value:l,location:p},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!B1(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var r=[this.char()];for(this.bump();!this.isEOF();){var s=this.char();if(s===39)if(this.peek()===39)r.push(39),this.bump();else{this.bump();break}else r.push(s);this.bump()}return yc.apply(void 0,r)},t.prototype.tryParseUnquoted=function(e,r){if(this.isEOF())return null;var s=this.char();return s===60||s===123||s===35&&(r==="plural"||r==="selectordinal")||s===125&&e>0?null:(this.bump(),yc(s))},t.prototype.parseArgument=function(e,r){var s=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(ue.EXPECT_ARGUMENT_CLOSING_BRACE,he(s,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(ue.EMPTY_ARGUMENT,he(s,this.clonePosition()));var l=this.parseIdentifierIfPossible().value;if(!l)return this.error(ue.MALFORMED_ARGUMENT,he(s,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(ue.EXPECT_ARGUMENT_CLOSING_BRACE,he(s,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:ke.argument,value:l,location:he(s,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(ue.EXPECT_ARGUMENT_CLOSING_BRACE,he(s,this.clonePosition())):this.parseArgumentOptions(e,r,l,s);default:return this.error(ue.MALFORMED_ARGUMENT,he(s,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),r=this.offset(),s=vc(this.message,r),l=r+s.length;this.bumpTo(l);var u=this.clonePosition(),f=he(e,u);return{value:s,location:f}},t.prototype.parseArgumentOptions=function(e,r,s,l){var u,f=this.clonePosition(),h=this.parseIdentifierIfPossible().value,p=this.clonePosition();switch(h){case"":return this.error(ue.EXPECT_ARGUMENT_TYPE,he(f,p));case"number":case"date":case"time":{this.bumpSpace();var g=null;if(this.bumpIf(",")){this.bumpSpace();var y=this.clonePosition(),v=this.parseSimpleArgStyleIfPossible();if(v.err)return v;var S=F1(v.val);if(S.length===0)return this.error(ue.EXPECT_ARGUMENT_STYLE,he(this.clonePosition(),this.clonePosition()));var R=he(y,this.clonePosition());g={style:S,styleLocation:R}}var k=this.tryParseArgumentClose(l);if(k.err)return k;var P=he(l,this.clonePosition());if(g&&_m(g==null?void 0:g.style,"::",0)){var D=M1(g.style.slice(2));if(h==="number"){var v=this.parseNumberSkeletonFromString(D,g.styleLocation);return v.err?v:{val:{type:ke.number,value:s,location:P,style:v.val},err:null}}else{if(D.length===0)return this.error(ue.EXPECT_DATE_TIME_SKELETON,P);var $=D;this.locale&&($=C1(D,this.locale));var S={type:di.dateTime,pattern:$,location:g.styleLocation,parsedOptions:this.shouldParseSkeletons?g1($):{}},G=h==="date"?ke.date:ke.time;return{val:{type:G,value:s,location:P,style:S},err:null}}}return{val:{type:h==="number"?ke.number:h==="date"?ke.date:ke.time,value:s,location:P,style:(u=g==null?void 0:g.style)!==null&&u!==void 0?u:null},err:null}}case"plural":case"selectordinal":case"select":{var B=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(ue.EXPECT_SELECT_ARGUMENT_OPTIONS,he(B,Y({},B)));this.bumpSpace();var J=this.parseIdentifierIfPossible(),L=0;if(h!=="select"&&J.value==="offset"){if(!this.bumpIf(":"))return this.error(ue.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,he(this.clonePosition(),this.clonePosition()));this.bumpSpace();var v=this.tryParseDecimalInteger(ue.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ue.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(v.err)return v;this.bumpSpace(),J=this.parseIdentifierIfPossible(),L=v.val}var ie=this.tryParsePluralOrSelectOptions(e,h,r,J);if(ie.err)return ie;var k=this.tryParseArgumentClose(l);if(k.err)return k;var ye=he(l,this.clonePosition());return h==="select"?{val:{type:ke.select,value:s,options:Em(ie.val),location:ye},err:null}:{val:{type:ke.plural,value:s,options:Em(ie.val),offset:L,pluralType:h==="plural"?"cardinal":"ordinal",location:ye},err:null}}default:return this.error(ue.INVALID_ARGUMENT_TYPE,he(f,p))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(ue.EXPECT_ARGUMENT_CLOSING_BRACE,he(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,r=this.clonePosition();!this.isEOF();){var s=this.char();switch(s){case 39:{this.bump();var l=this.clonePosition();if(!this.bumpUntil("'"))return this.error(ue.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,he(l,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(r.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(r.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,r){var s=[];try{s=v1(e)}catch{return this.error(ue.INVALID_NUMBER_SKELETON,r)}return{val:{type:di.number,tokens:s,location:r,parsedOptions:this.shouldParseSkeletons?w1(s):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,r,s,l){for(var u,f=!1,h=[],p=new Set,g=l.value,y=l.location;;){if(g.length===0){var v=this.clonePosition();if(r!=="select"&&this.bumpIf("=")){var S=this.tryParseDecimalInteger(ue.EXPECT_PLURAL_ARGUMENT_SELECTOR,ue.INVALID_PLURAL_ARGUMENT_SELECTOR);if(S.err)return S;y=he(v,this.clonePosition()),g=this.message.slice(v.offset,this.offset())}else break}if(p.has(g))return this.error(r==="select"?ue.DUPLICATE_SELECT_ARGUMENT_SELECTOR:ue.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,y);g==="other"&&(f=!0),this.bumpSpace();var R=this.clonePosition();if(!this.bumpIf("{"))return this.error(r==="select"?ue.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:ue.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,he(this.clonePosition(),this.clonePosition()));var k=this.parseMessage(e+1,r,s);if(k.err)return k;var P=this.tryParseArgumentClose(R);if(P.err)return P;h.push([g,{value:k.val,location:he(R,this.clonePosition())}]),p.add(g),this.bumpSpace(),u=this.parseIdentifierIfPossible(),g=u.value,y=u.location}return h.length===0?this.error(r==="select"?ue.EXPECT_SELECT_ARGUMENT_SELECTOR:ue.EXPECT_PLURAL_ARGUMENT_SELECTOR,he(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!f?this.error(ue.MISSING_OTHER_CLAUSE,he(this.clonePosition(),this.clonePosition())):{val:h,err:null}},t.prototype.tryParseDecimalInteger=function(e,r){var s=1,l=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(s=-1);for(var u=!1,f=0;!this.isEOF();){var h=this.char();if(h>=48&&h<=57)u=!0,f=f*10+(h-48),this.bump();else break}var p=he(l,this.clonePosition());return u?(f*=s,D1(f)?{val:f,err:null}:this.error(r,p)):this.error(e,p)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var r=Dy(this.message,e);if(r===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return r},t.prototype.error=function(e,r){return{val:null,err:{kind:e,message:this.message,location:r}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(_m(this.message,e,this.offset())){for(var r=0;r<e.length;r++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var r=this.offset(),s=this.message.indexOf(e,r);return s>=0?(this.bumpTo(s),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var r=this.offset();if(r===e)break;if(r>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&My(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),r=this.offset(),s=this.message.charCodeAt(r+(e>=65536?2:1));return s??null},t}();function _c(t){return t>=97&&t<=122||t>=65&&t<=90}function B1(t){return _c(t)||t===47}function U1(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function My(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function j1(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function Ec(t){t.forEach(function(e){if(delete e.location,Iy(e)||Ny(e))for(var r in e.options)delete e.options[r].location,Ec(e.options[r].value);else Cy(e)&&ky(e.style)||(Ty(e)||xy(e))&&mc(e.style)?delete e.style.location:Ry(e)&&Ec(e.children)})}function $1(t,e){e===void 0&&(e={}),e=Y({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var r=new H1(t,e).parse();if(r.err){var s=SyntaxError(ue[r.err.kind]);throw s.location=r.err.location,s.originalMessage=r.err.message,s}return e!=null&&e.captureLocation||Ec(r.val),r.val}var fn;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(fn||(fn={}));var tr=function(t){jt(e,t);function e(r,s,l){var u=t.call(this,r)||this;return u.code=s,u.originalMessage=l,u}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),wm=function(t){jt(e,t);function e(r,s,l,u){return t.call(this,'Invalid values for "'.concat(r,'": "').concat(s,'". Options are "').concat(Object.keys(l).join('", "'),'"'),fn.INVALID_VALUE,u)||this}return e}(tr),z1=function(t){jt(e,t);function e(r,s,l){return t.call(this,'Value for "'.concat(r,'" must be of type ').concat(s),fn.INVALID_VALUE,l)||this}return e}(tr),W1=function(t){jt(e,t);function e(r,s){return t.call(this,'The intl string context variable "'.concat(r,'" was not provided to the string "').concat(s,'"'),fn.MISSING_VALUE,s)||this}return e}(tr),mt;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(mt||(mt={}));function G1(t){return t.length<2?t:t.reduce(function(e,r){var s=e[e.length-1];return!s||s.type!==mt.literal||r.type!==mt.literal?e.push(r):s.value+=r.value,e},[])}function Fy(t){return typeof t=="function"}function Zo(t,e,r,s,l,u,f){if(t.length===1&&mm(t[0]))return[{type:mt.literal,value:t[0].value}];for(var h=[],p=0,g=t;p<g.length;p++){var y=g[p];if(mm(y)){h.push({type:mt.literal,value:y.value});continue}if(p1(y)){typeof u=="number"&&h.push({type:mt.literal,value:r.getNumberFormat(e).format(u)});continue}var v=y.value;if(!(l&&v in l))throw new W1(v,f);var S=l[v];if(h1(y)){(!S||typeof S=="string"||typeof S=="number")&&(S=typeof S=="string"||typeof S=="number"?String(S):""),h.push({type:typeof S=="string"?mt.literal:mt.object,value:S});continue}if(Ty(y)){var R=typeof y.style=="string"?s.date[y.style]:mc(y.style)?y.style.parsedOptions:void 0;h.push({type:mt.literal,value:r.getDateTimeFormat(e,R).format(S)});continue}if(xy(y)){var R=typeof y.style=="string"?s.time[y.style]:mc(y.style)?y.style.parsedOptions:s.time.medium;h.push({type:mt.literal,value:r.getDateTimeFormat(e,R).format(S)});continue}if(Cy(y)){var R=typeof y.style=="string"?s.number[y.style]:ky(y.style)?y.style.parsedOptions:void 0;R&&R.scale&&(S=S*(R.scale||1)),h.push({type:mt.literal,value:r.getNumberFormat(e,R).format(S)});continue}if(Ry(y)){var k=y.children,P=y.value,D=l[P];if(!Fy(D))throw new z1(P,"function",f);var $=Zo(k,e,r,s,l,u),G=D($.map(function(L){return L.value}));Array.isArray(G)||(G=[G]),h.push.apply(h,G.map(function(L){return{type:typeof L=="string"?mt.literal:mt.object,value:L}}))}if(Iy(y)){var B=y.options[S]||y.options.other;if(!B)throw new wm(y.value,S,Object.keys(y.options),f);h.push.apply(h,Zo(B.value,e,r,s,l));continue}if(Ny(y)){var B=y.options["=".concat(S)];if(!B){if(!Intl.PluralRules)throw new tr(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,fn.MISSING_INTL_API,f);var J=r.getPluralRules(e,{type:y.pluralType}).select(S-(y.offset||0));B=y.options[J]||y.options.other}if(!B)throw new wm(y.value,S,Object.keys(y.options),f);h.push.apply(h,Zo(B.value,e,r,s,l,S-(y.offset||0)));continue}}return G1(h)}function V1(t,e){return e?Y(Y(Y({},t||{}),e||{}),Object.keys(t).reduce(function(r,s){return r[s]=Y(Y({},t[s]),e[s]||{}),r},{})):t}function Q1(t,e){return e?Object.keys(t).reduce(function(r,s){return r[s]=V1(t[s],e[s]),r},Y({},t)):t}function ju(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,r){t[e]=r}}}}}function q1(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:on(function(){for(var e,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new((e=Intl.NumberFormat).bind.apply(e,an([void 0],r,!1)))},{cache:ju(t.number),strategy:ln.variadic}),getDateTimeFormat:on(function(){for(var e,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new((e=Intl.DateTimeFormat).bind.apply(e,an([void 0],r,!1)))},{cache:ju(t.dateTime),strategy:ln.variadic}),getPluralRules:on(function(){for(var e,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new((e=Intl.PluralRules).bind.apply(e,an([void 0],r,!1)))},{cache:ju(t.pluralRules),strategy:ln.variadic})}}var Hy=function(){function t(e,r,s,l){r===void 0&&(r=t.defaultLocale);var u=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(p){var g=u.formatToParts(p);if(g.length===1)return g[0].value;var y=g.reduce(function(v,S){return!v.length||S.type!==mt.literal||typeof v[v.length-1]!="string"?v.push(S.value):v[v.length-1]+=S.value,v},[]);return y.length<=1?y[0]||"":y},this.formatToParts=function(p){return Zo(u.ast,u.locales,u.formatters,u.formats,p,void 0,u.message)},this.resolvedOptions=function(){var p;return{locale:((p=u.resolvedLocale)===null||p===void 0?void 0:p.toString())||Intl.NumberFormat.supportedLocalesOf(u.locales)[0]}},this.getAst=function(){return u.ast},this.locales=r,this.resolvedLocale=t.resolveLocale(r),typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var f=l||{};f.formatters;var h=fi(f,["formatters"]);this.ast=t.__parse(e,Y(Y({},h),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Q1(t.formats,s),this.formatters=l&&l.formatters||q1(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var r=Intl.NumberFormat.supportedLocalesOf(e);return r.length>0?new Intl.Locale(r[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},t.__parse=$1,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),kr;(function(t){t.FORMAT_ERROR="FORMAT_ERROR",t.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",t.INVALID_CONFIG="INVALID_CONFIG",t.MISSING_DATA="MISSING_DATA",t.MISSING_TRANSLATION="MISSING_TRANSLATION"})(kr||(kr={}));var ks=function(t){jt(e,t);function e(r,s,l){var u=this,f=l?l instanceof Error?l:new Error(String(l)):void 0;return u=t.call(this,"[@formatjs/intl Error ".concat(r,"] ").concat(s,`
`).concat(f?`
`.concat(f.message,`
`).concat(f.stack):""))||this,u.code=r,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(u,e),u}return e}(Error),Y1=function(t){jt(e,t);function e(r,s){return t.call(this,kr.UNSUPPORTED_FORMATTER,r,s)||this}return e}(ks),K1=function(t){jt(e,t);function e(r,s){return t.call(this,kr.INVALID_CONFIG,r,s)||this}return e}(ks),Cm=function(t){jt(e,t);function e(r,s){return t.call(this,kr.MISSING_DATA,r,s)||this}return e}(ks),$t=function(t){jt(e,t);function e(r,s,l){var u=t.call(this,kr.FORMAT_ERROR,"".concat(r,`
Locale: `).concat(s,`
`),l)||this;return u.locale=s,u}return e}(ks),$u=function(t){jt(e,t);function e(r,s,l,u){var f=t.call(this,"".concat(r,`
MessageID: `).concat(l==null?void 0:l.id,`
Default Message: `).concat(l==null?void 0:l.defaultMessage,`
Description: `).concat(l==null?void 0:l.description,`
`),s,u)||this;return f.descriptor=l,f.locale=s,f}return e}($t),X1=function(t){jt(e,t);function e(r,s){var l=t.call(this,kr.MISSING_TRANSLATION,'Missing message: "'.concat(r.id,'" for locale "').concat(s,'", using ').concat(r.defaultMessage?"default message (".concat(typeof r.defaultMessage=="string"?r.defaultMessage:r.defaultMessage.map(function(u){var f;return(f=u.value)!==null&&f!==void 0?f:JSON.stringify(u)}).join(),")"):"id"," as fallback."))||this;return l.descriptor=r,l}return e}(ks);function Z1(t,e,r){if(r===void 0&&(r=Error),!t)throw new r(e)}function vi(t,e,r){return r===void 0&&(r={}),e.reduce(function(s,l){return l in t?s[l]=t[l]:l in r&&(s[l]=r[l]),s},{})}var J1=function(t){},eT=function(t){},By={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:J1,onWarn:eT};function Uy(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function gr(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,r){t[e]=r}}}}}function tT(t){t===void 0&&(t=Uy());var e=Intl.RelativeTimeFormat,r=Intl.ListFormat,s=Intl.DisplayNames,l=on(function(){for(var h,p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];return new((h=Intl.DateTimeFormat).bind.apply(h,an([void 0],p,!1)))},{cache:gr(t.dateTime),strategy:ln.variadic}),u=on(function(){for(var h,p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];return new((h=Intl.NumberFormat).bind.apply(h,an([void 0],p,!1)))},{cache:gr(t.number),strategy:ln.variadic}),f=on(function(){for(var h,p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];return new((h=Intl.PluralRules).bind.apply(h,an([void 0],p,!1)))},{cache:gr(t.pluralRules),strategy:ln.variadic});return{getDateTimeFormat:l,getNumberFormat:u,getMessageFormat:on(function(h,p,g,y){return new Hy(h,p,g,Y({formatters:{getNumberFormat:u,getDateTimeFormat:l,getPluralRules:f}},y||{}))},{cache:gr(t.message),strategy:ln.variadic}),getRelativeTimeFormat:on(function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return new(e.bind.apply(e,an([void 0],h,!1)))},{cache:gr(t.relativeTime),strategy:ln.variadic}),getPluralRules:f,getListFormat:on(function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return new(r.bind.apply(r,an([void 0],h,!1)))},{cache:gr(t.list),strategy:ln.variadic}),getDisplayNames:on(function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return new(s.bind.apply(s,an([void 0],h,!1)))},{cache:gr(t.displayNames),strategy:ln.variadic})}}function lf(t,e,r,s){var l=t&&t[e],u;if(l&&(u=l[r]),u)return u;s(new Y1("No ".concat(e," format named: ").concat(r)))}function Yo(t,e){return Object.keys(t).reduce(function(r,s){return r[s]=Y({timeZone:e},t[s]),r},{})}function Tm(t,e){var r=Object.keys(Y(Y({},t),e));return r.reduce(function(s,l){return s[l]=Y(Y({},t[l]||{}),e[l]||{}),s},{})}function xm(t,e){if(!e)return t;var r=Hy.formats;return Y(Y(Y({},r),t),{date:Tm(Yo(r.date,e),Yo(t.date||{},e)),time:Tm(Yo(r.time,e),Yo(t.time||{},e))})}var Sc=function(t,e,r,s,l){var u=t.locale,f=t.formats,h=t.messages,p=t.defaultLocale,g=t.defaultFormats,y=t.fallbackOnEmptyString,v=t.onError,S=t.timeZone,R=t.defaultRichTextElements;r===void 0&&(r={id:""});var k=r.id,P=r.defaultMessage;Z1(!!k,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var D=String(k),$=h&&Object.prototype.hasOwnProperty.call(h,D)&&h[D];if(Array.isArray($)&&$.length===1&&$[0].type===ke.literal)return $[0].value;if(!s&&$&&typeof $=="string"&&!R)return $.replace(/'\{(.*?)\}'/gi,"{$1}");if(s=Y(Y({},R),s||{}),f=xm(f,S),g=xm(g,S),!$){if(y===!1&&$==="")return $;if((!P||u&&u.toLowerCase()!==p.toLowerCase())&&v(new X1(r,u)),P)try{var G=e.getMessageFormat(P,p,g,l);return G.format(s)}catch(B){return v(new $u('Error formatting default message for: "'.concat(D,'", rendering default message verbatim'),u,r,B)),typeof P=="string"?P:D}return D}try{var G=e.getMessageFormat($,u,f,Y({formatters:e},l||{}));return G.format(s)}catch(B){v(new $u('Error formatting message: "'.concat(D,'", using ').concat(P?"default message":"id"," as fallback."),u,r,B))}if(P)try{var G=e.getMessageFormat(P,p,g,l);return G.format(s)}catch(B){v(new $u('Error formatting the default message for: "'.concat(D,'", rendering message verbatim'),u,r,B))}return typeof $=="string"?$:typeof P=="string"?P:D},nT=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function Ps(t,e,r,s){var l=t.locale,u=t.formats,f=t.onError,h=t.timeZone;s===void 0&&(s={});var p=s.format,g=Y(Y({},h&&{timeZone:h}),p&&lf(u,e,p,f)),y=vi(s,nT,g);return e==="time"&&!y.hour&&!y.minute&&!y.second&&!y.timeStyle&&!y.dateStyle&&(y=Y(Y({},y),{hour:"numeric",minute:"numeric"})),r(l,y)}function rT(t,e){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var l=r[0],u=r[1],f=u===void 0?{}:u,h=typeof l=="string"?new Date(l||0):l;try{return Ps(t,"date",e,f).format(h)}catch(p){t.onError(new $t("Error formatting date.",t.locale,p))}return String(h)}function iT(t,e){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var l=r[0],u=r[1],f=u===void 0?{}:u,h=typeof l=="string"?new Date(l||0):l;try{return Ps(t,"time",e,f).format(h)}catch(p){t.onError(new $t("Error formatting time.",t.locale,p))}return String(h)}function sT(t,e){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var l=r[0],u=r[1],f=r[2],h=f===void 0?{}:f,p=typeof l=="string"?new Date(l||0):l,g=typeof u=="string"?new Date(u||0):u;try{return Ps(t,"dateTimeRange",e,h).formatRange(p,g)}catch(y){t.onError(new $t("Error formatting date time range.",t.locale,y))}return String(p)}function oT(t,e){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var l=r[0],u=r[1],f=u===void 0?{}:u,h=typeof l=="string"?new Date(l||0):l;try{return Ps(t,"date",e,f).formatToParts(h)}catch(p){t.onError(new $t("Error formatting date.",t.locale,p))}return[]}function lT(t,e){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var l=r[0],u=r[1],f=u===void 0?{}:u,h=typeof l=="string"?new Date(l||0):l;try{return Ps(t,"time",e,f).formatToParts(h)}catch(p){t.onError(new $t("Error formatting time.",t.locale,p))}return[]}var aT=["style","type","fallback","languageDisplay"];function uT(t,e,r,s){var l=t.locale,u=t.onError,f=Intl.DisplayNames;f||u(new tr(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,fn.MISSING_INTL_API));var h=vi(s,aT);try{return e(l,h).of(r)}catch(p){u(new $t("Error formatting display name.",l,p))}}var cT=["type","style"],Im=Date.now();function fT(t){return"".concat(Im,"_").concat(t,"_").concat(Im)}function dT(t,e,r,s){s===void 0&&(s={});var l=jy(t,e,r,s).reduce(function(u,f){var h=f.value;return typeof h!="string"?u.push(h):typeof u[u.length-1]=="string"?u[u.length-1]+=h:u.push(h),u},[]);return l.length===1?l[0]:l.length===0?"":l}function jy(t,e,r,s){var l=t.locale,u=t.onError;s===void 0&&(s={});var f=Intl.ListFormat;f||u(new tr(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,fn.MISSING_INTL_API));var h=vi(s,cT);try{var p={},g=r.map(function(y,v){if(typeof y=="object"){var S=fT(v);return p[S]=y,S}return String(y)});return e(l,h).formatToParts(g).map(function(y){return y.type==="literal"?y:Y(Y({},y),{value:p[y.value]||y.value})})}catch(y){u(new $t("Error formatting list.",l,y))}return r}var hT=["type"];function pT(t,e,r,s){var l=t.locale,u=t.onError;s===void 0&&(s={}),Intl.PluralRules||u(new tr(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,fn.MISSING_INTL_API));var f=vi(s,hT);try{return e(l,f).select(r)}catch(h){u(new $t("Error formatting plural.",l,h))}return"other"}var mT=["numeric","style"];function gT(t,e,r){var s=t.locale,l=t.formats,u=t.onError;r===void 0&&(r={});var f=r.format,h=!!f&&lf(l,"relative",f,u)||{},p=vi(r,mT,h);return e(s,p)}function yT(t,e,r,s,l){l===void 0&&(l={}),s||(s="second");var u=Intl.RelativeTimeFormat;u||t.onError(new tr(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,fn.MISSING_INTL_API));try{return gT(t,e,l).format(r,s)}catch(f){t.onError(new $t("Error formatting relative time.",t.locale,f))}return String(r)}var vT=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function $y(t,e,r){var s=t.locale,l=t.formats,u=t.onError;r===void 0&&(r={});var f=r.format,h=f&&lf(l,"number",f,u)||{},p=vi(r,vT,h);return e(s,p)}function _T(t,e,r,s){s===void 0&&(s={});try{return $y(t,e,s).format(r)}catch(l){t.onError(new $t("Error formatting number.",t.locale,l))}return String(r)}function ET(t,e,r,s){s===void 0&&(s={});try{return $y(t,e,s).formatToParts(r)}catch(l){t.onError(new $t("Error formatting number.",t.locale,l))}return[]}function ST(t){var e=t[Object.keys(t)[0]];return typeof e=="string"}function wT(t){t.onWarn&&t.defaultRichTextElements&&ST(t.messages||{})&&t.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function CT(t,e){var r=tT(e),s=Y(Y({},By),t),l=s.locale,u=s.defaultLocale,f=s.onError;return l?!Intl.NumberFormat.supportedLocalesOf(l).length&&f?f(new Cm('Missing locale data for locale: "'.concat(l,'" in Intl.NumberFormat. Using default locale: "').concat(u,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(l).length&&f&&f(new Cm('Missing locale data for locale: "'.concat(l,'" in Intl.DateTimeFormat. Using default locale: "').concat(u,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(f&&f(new K1('"locale" was not configured, using "'.concat(u,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),s.locale=s.defaultLocale||"en"),wT(s),Y(Y({},s),{formatters:r,formatNumber:_T.bind(null,s,r.getNumberFormat),formatNumberToParts:ET.bind(null,s,r.getNumberFormat),formatRelativeTime:yT.bind(null,s,r.getRelativeTimeFormat),formatDate:rT.bind(null,s,r.getDateTimeFormat),formatDateToParts:oT.bind(null,s,r.getDateTimeFormat),formatTime:iT.bind(null,s,r.getDateTimeFormat),formatDateTimeRange:sT.bind(null,s,r.getDateTimeFormat),formatTimeToParts:lT.bind(null,s,r.getDateTimeFormat),formatPlural:pT.bind(null,s,r.getPluralRules),formatMessage:Sc.bind(null,s,r),$t:Sc.bind(null,s,r),formatList:dT.bind(null,s,r.getListFormat),formatListToParts:jy.bind(null,s,r.getListFormat),formatDisplayName:uT.bind(null,s,r.getDisplayNames)})}function TT(t,e,r){if(r===void 0&&(r=Error),!t)throw new r(e)}function zy(t){TT(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var Wy=Y(Y({},By),{textComponent:x.Fragment});function xT(t){return function(e){return t(x.Children.toArray(e))}}function wc(t,e){if(t===e)return!0;if(!t||!e)return!1;var r=Object.keys(t),s=Object.keys(e),l=r.length;if(s.length!==l)return!1;for(var u=0;u<l;u++){var f=r[u];if(t[f]!==e[f]||!Object.prototype.hasOwnProperty.call(e,f))return!1}return!0}var zu={exports:{}},Ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function IT(){if(Nm)return Ee;Nm=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,s=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,u=t?Symbol.for("react.profiler"):60114,f=t?Symbol.for("react.provider"):60109,h=t?Symbol.for("react.context"):60110,p=t?Symbol.for("react.async_mode"):60111,g=t?Symbol.for("react.concurrent_mode"):60111,y=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,S=t?Symbol.for("react.suspense_list"):60120,R=t?Symbol.for("react.memo"):60115,k=t?Symbol.for("react.lazy"):60116,P=t?Symbol.for("react.block"):60121,D=t?Symbol.for("react.fundamental"):60117,$=t?Symbol.for("react.responder"):60118,G=t?Symbol.for("react.scope"):60119;function B(L){if(typeof L=="object"&&L!==null){var ie=L.$$typeof;switch(ie){case e:switch(L=L.type,L){case p:case g:case s:case u:case l:case v:return L;default:switch(L=L&&L.$$typeof,L){case h:case y:case k:case R:case f:return L;default:return ie}}case r:return ie}}}function J(L){return B(L)===g}return Ee.AsyncMode=p,Ee.ConcurrentMode=g,Ee.ContextConsumer=h,Ee.ContextProvider=f,Ee.Element=e,Ee.ForwardRef=y,Ee.Fragment=s,Ee.Lazy=k,Ee.Memo=R,Ee.Portal=r,Ee.Profiler=u,Ee.StrictMode=l,Ee.Suspense=v,Ee.isAsyncMode=function(L){return J(L)||B(L)===p},Ee.isConcurrentMode=J,Ee.isContextConsumer=function(L){return B(L)===h},Ee.isContextProvider=function(L){return B(L)===f},Ee.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===e},Ee.isForwardRef=function(L){return B(L)===y},Ee.isFragment=function(L){return B(L)===s},Ee.isLazy=function(L){return B(L)===k},Ee.isMemo=function(L){return B(L)===R},Ee.isPortal=function(L){return B(L)===r},Ee.isProfiler=function(L){return B(L)===u},Ee.isStrictMode=function(L){return B(L)===l},Ee.isSuspense=function(L){return B(L)===v},Ee.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===s||L===g||L===u||L===l||L===v||L===S||typeof L=="object"&&L!==null&&(L.$$typeof===k||L.$$typeof===R||L.$$typeof===f||L.$$typeof===h||L.$$typeof===y||L.$$typeof===D||L.$$typeof===$||L.$$typeof===G||L.$$typeof===P)},Ee.typeOf=B,Ee}var Rm;function NT(){return Rm||(Rm=1,zu.exports=IT()),zu.exports}var Wu,km;function RT(){if(km)return Wu;km=1;var t=NT(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[t.ForwardRef]=s,u[t.Memo]=l;function f(k){return t.isMemo(k)?l:u[k.$$typeof]||e}var h=Object.defineProperty,p=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,S=Object.prototype;function R(k,P,D){if(typeof P!="string"){if(S){var $=v(P);$&&$!==S&&R(k,$,D)}var G=p(P);g&&(G=G.concat(g(P)));for(var B=f(k),J=f(P),L=0;L<G.length;++L){var ie=G[L];if(!r[ie]&&!(D&&D[ie])&&!(J&&J[ie])&&!(B&&B[ie])){var ye=y(P,ie);try{h(k,ie,ye)}catch{}}}}return k}return Wu=R,Wu}RT();var af=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=x.createContext(null)):x.createContext(null);af.Consumer;var kT=af.Provider,PT=kT,AT=af;function uf(){var t=x.useContext(AT);return zy(t),t}var Cc;(function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"})(Cc||(Cc={}));var Tc;(function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"})(Tc||(Tc={}));function Gy(t){var e=function(r){var s=uf(),l=r.value,u=r.children,f=fi(r,["value","children"]),h=typeof l=="string"?new Date(l||0):l,p=t==="formatDate"?s.formatDateToParts(h,f):s.formatTimeToParts(h,f);return u(p)};return e.displayName=Tc[t],e}function As(t){var e=function(r){var s=uf(),l=r.value,u=r.children,f=fi(r,["value","children"]),h=s[t](l,f);if(typeof u=="function")return u(h);var p=s.textComponent||x.Fragment;return x.createElement(p,null,h)};return e.displayName=Cc[t],e}function Vy(t){return t&&Object.keys(t).reduce(function(e,r){var s=t[r];return e[r]=Fy(s)?xT(s):s,e},{})}var Pm=function(t,e,r,s){for(var l=[],u=4;u<arguments.length;u++)l[u-4]=arguments[u];var f=Vy(s),h=Sc.apply(void 0,an([t,e,r,f],l,!1));return Array.isArray(h)?x.Children.toArray(h):h},Am=function(t,e){var r=t.defaultRichTextElements,s=fi(t,["defaultRichTextElements"]),l=Vy(r),u=CT(Y(Y(Y({},Wy),s),{defaultRichTextElements:l}),e),f={locale:u.locale,timeZone:u.timeZone,fallbackOnEmptyString:u.fallbackOnEmptyString,formats:u.formats,defaultLocale:u.defaultLocale,defaultFormats:u.defaultFormats,messages:u.messages,onError:u.onError,defaultRichTextElements:l};return Y(Y({},u),{formatMessage:Pm.bind(null,f,u.formatters),$t:Pm.bind(null,f,u.formatters)})};function bT(t,e){var r=t.values,s=fi(t,["values"]),l=e.values,u=fi(e,["values"]);return wc(l,r)&&wc(s,u)}function Qy(t){var e=uf(),r=e.formatMessage,s=e.textComponent,l=s===void 0?x.Fragment:s,u=t.id,f=t.description,h=t.defaultMessage,p=t.values,g=t.children,y=t.tagName,v=y===void 0?l:y,S=t.ignoreTag,R={id:u,description:f,defaultMessage:h},k=r(R,p,{ignoreTag:S});return typeof g=="function"?g(Array.isArray(k)?k:[k]):v?x.createElement(v,null,x.Children.toArray(k)):x.createElement(x.Fragment,null,k)}Qy.displayName="FormattedMessage";var Ht=x.memo(Qy,bT);Ht.displayName="MemoizedFormattedMessage";function Gu(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,onWarn:t.onWarn,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}var OT=function(t){jt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.cache=Uy(),r.state={cache:r.cache,intl:Am(Gu(r.props),r.cache),prevConfig:Gu(r.props)},r}return e.getDerivedStateFromProps=function(r,s){var l=s.prevConfig,u=s.cache,f=Gu(r);return wc(l,f)?null:{intl:Am(f,u),prevConfig:f}},e.prototype.render=function(){return zy(this.state.intl),x.createElement(PT,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=Wy,e}(x.PureComponent);As("formatDate");As("formatTime");var cf=As("formatNumber");As("formatList");As("formatDisplayName");Gy("formatDate");Gy("formatTime");function DT(t){const[e,r]=x.useState(!1),[s,l]=x.useState(),u=()=>{r(!e)},f=h=>{Tr.debug("El usuario quiere ordenar: "+h.name),l(h),r(!e)};return F.jsxs(F.Fragment,{children:[!e&&F.jsxs(F.Fragment,{children:[F.jsx("h4",{className:"foodTitle",children:F.jsx(Ht,{id:"app.label.chose"})}),F.jsx("br",{}),F.jsx("br",{}),F.jsx("ul",{className:"space-y-10 grid grid-cols-1 md:grid-cols-2 gap-10",children:t.foodItems.map(h=>F.jsx(F.Fragment,{children:F.jsxs("div",{className:"relative flex w-60 flex-col rounded-xl bg-white bg-clip-border text-gray-700 shadow-md",children:[F.jsx("img",{className:`relative mx-4 -mt-6 h-40 overflow-hidden rounded-xl bg-blue-gray-500 bg-clip-border \r
                                        text-white shadow-lg shadow-blue-gray-500/40 bg-gradient-to-r from-blue-500 to-blue-600`,src:jm,alt:h.name}),F.jsxs("div",{className:"p-6",children:[F.jsx("h5",{className:"mb-2 block font-sans text-xl font-semibold leading-snug tracking-normal text-blue-gray-900 antialiased",children:h.name}),F.jsx("p",{className:"block font-sans text-base font-light leading-relaxed text-inherit antialiased",children:h.desc}),F.jsx("h5",{className:"mb-2 block font-sans text-xl font-semibold leading-snug tracking-normal text-blue-gray-900 antialiased",children:F.jsx(cf,{value:h.price,style:"currency",currency:"EUR"})})]}),F.jsx("div",{className:"p-6 pt-0",children:F.jsx("button",{"data-ripple-light":"true",type:"button",className:`select-none rounded-lg bg-blue-500 py-3 px-6 text-center align-middle \r
                                            font-sans text-xs font-bold uppercase text-white shadow-md shadow-blue-500/20 transition-all \r
                                            hover:shadow-lg hover:shadow-blue-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] \r
                                            active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none`,onClick:()=>f(h),children:F.jsx(Ht,{id:"app.label.order"})})})]})}))})]}),e&&F.jsx(s1,{fallback:F.jsx("div",{children:F.jsx(Ht,{id:"app.label.noMoreH"})}),children:F.jsx(i1,{food:s,onReturnToMenu:u})})]})}var LT=Um(),MT=Object.defineProperty,FT=(t,e,r)=>e in t?MT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vu=(t,e,r)=>(FT(t,typeof e!="symbol"?e+"":e,r),r);let HT=class{constructor(){Vu(this,"current",this.detect()),Vu(this,"handoffState","pending"),Vu(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},xr=new HT;function wl(t){return xr.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function Cl(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function nr(){let t=[],e={addEventListener(r,s,l,u){return r.addEventListener(s,l,u),e.add(()=>r.removeEventListener(s,l,u))},requestAnimationFrame(...r){let s=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(s))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let s=setTimeout(...r);return e.add(()=>clearTimeout(s))},microTask(...r){let s={current:!0};return Cl(()=>{s.current&&r[0]()}),e.add(()=>{s.current=!1})},style(r,s,l){let u=r.style.getPropertyValue(s);return Object.assign(r.style,{[s]:l}),this.add(()=>{Object.assign(r.style,{[s]:u})})},group(r){let s=nr();return r(s),this.add(()=>s.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let s=t.indexOf(r);if(s>=0)for(let l of t.splice(s,1))l()}},dispose(){for(let r of t.splice(0))r()}};return e}function ff(){let[t]=x.useState(nr);return x.useEffect(()=>()=>t.dispose(),[t]),t}let gt=(t,e)=>{xr.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function br(t){let e=x.useRef(t);return gt(()=>{e.current=t},[t]),e}let Me=function(t){let e=br(t);return re.useCallback((...r)=>e.current(...r),[e])},BT=x.createContext(void 0);function UT(){return x.useContext(BT)}function xc(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function er(t,e,...r){if(t in e){let l=e[t];return typeof l=="function"?l(...r):l}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,er),s}var fl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(fl||{}),Yn=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Yn||{});function zt(){let t=$T();return x.useCallback(e=>jT({mergeRefs:t,...e}),[t])}function jT({ourProps:t,theirProps:e,slot:r,defaultTag:s,features:l,visible:u=!0,name:f,mergeRefs:h}){h=h??zT;let p=qy(e,t);if(u)return Ko(p,r,s,f,h);let g=l??0;if(g&2){let{static:y=!1,...v}=p;if(y)return Ko(v,r,s,f,h)}if(g&1){let{unmount:y=!0,...v}=p;return er(y?0:1,{0(){return null},1(){return Ko({...v,hidden:!0,style:{display:"none"}},r,s,f,h)}})}return Ko(p,r,s,f,h)}function Ko(t,e={},r,s,l){let{as:u=r,children:f,refName:h="ref",...p}=Qu(t,["unmount","static"]),g=t.ref!==void 0?{[h]:t.ref}:{},y=typeof f=="function"?f(e):f;"className"in p&&p.className&&typeof p.className=="function"&&(p.className=p.className(e)),p["aria-labelledby"]&&p["aria-labelledby"]===p.id&&(p["aria-labelledby"]=void 0);let v={};if(e){let S=!1,R=[];for(let[k,P]of Object.entries(e))typeof P=="boolean"&&(S=!0),P===!0&&R.push(k.replace(/([A-Z])/g,D=>`-${D.toLowerCase()}`));if(S){v["data-headlessui-state"]=R.join(" ");for(let k of R)v[`data-${k}`]=""}}if(u===x.Fragment&&(Object.keys(_r(p)).length>0||Object.keys(_r(v)).length>0))if(!x.isValidElement(y)||Array.isArray(y)&&y.length>1){if(Object.keys(_r(p)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(_r(p)).concat(Object.keys(_r(v))).map(S=>`  - ${S}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(S=>`  - ${S}`).join(`
`)].join(`
`))}else{let S=y.props,R=S==null?void 0:S.className,k=typeof R=="function"?(...$)=>xc(R(...$),p.className):xc(R,p.className),P=k?{className:k}:{},D=qy(y.props,_r(Qu(p,["ref"])));for(let $ in v)$ in D&&delete v[$];return x.cloneElement(y,Object.assign({},D,v,g,{ref:l(WT(y),g.ref)},P))}return x.createElement(u,Object.assign({},Qu(p,["ref"]),u!==x.Fragment&&g,u!==x.Fragment&&v),y)}function $T(){let t=x.useRef([]),e=x.useCallback(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)},[]);return(...r)=>{if(!r.every(s=>s==null))return t.current=r,e}}function zT(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function qy(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let s of t)for(let l in s)l.startsWith("on")&&typeof s[l]=="function"?(r[l]!=null||(r[l]=[]),r[l].push(s[l])):e[l]=s[l];if(e.disabled||e["aria-disabled"])for(let s in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(r[s]=[l=>{var u;return(u=l==null?void 0:l.preventDefault)==null?void 0:u.call(l)}]);for(let s in r)Object.assign(e,{[s](l,...u){let f=r[s];for(let h of f){if((l instanceof Event||(l==null?void 0:l.nativeEvent)instanceof Event)&&l.defaultPrevented)return;h(l,...u)}}});return e}function xt(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function _r(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function Qu(t,e=[]){let r=Object.assign({},t);for(let s of e)s in r&&delete r[s];return r}function WT(t){return re.version.split(".")[0]>="19"?t.props.ref:t.ref}let GT="span";var dl=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(dl||{});function VT(t,e){var r;let{features:s=1,...l}=t,u={ref:e,"aria-hidden":(s&2)===2?!0:(r=l["aria-hidden"])!=null?r:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return zt()({ourProps:u,theirProps:l,slot:{},defaultTag:GT,name:"Hidden"})}let Ic=xt(VT),Yy=Symbol();function QT(t,e=!0){return Object.assign(t,{[Yy]:e})}function dn(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let r=Me(s=>{for(let l of e.current)l!=null&&(typeof l=="function"?l(s):l.current=s)});return t.every(s=>s==null||(s==null?void 0:s[Yy]))?void 0:r}let df=x.createContext(null);df.displayName="DescriptionContext";function Ky(){let t=x.useContext(df);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Ky),e}return t}function qT(){let[t,e]=x.useState([]);return[t.length>0?t.join(" "):void 0,x.useMemo(()=>function(r){let s=Me(u=>(e(f=>[...f,u]),()=>e(f=>{let h=f.slice(),p=h.indexOf(u);return p!==-1&&h.splice(p,1),h}))),l=x.useMemo(()=>({register:s,slot:r.slot,name:r.name,props:r.props,value:r.value}),[s,r.slot,r.name,r.props,r.value]);return re.createElement(df.Provider,{value:l},r.children)},[e])]}let YT="p";function KT(t,e){let r=x.useId(),s=UT(),{id:l=`headlessui-description-${r}`,...u}=t,f=Ky(),h=dn(e);gt(()=>f.register(l),[l,f.register]);let p=s||!1,g=x.useMemo(()=>({...f.slot,disabled:p}),[f.slot,p]),y={ref:h,...f.props,id:l};return zt()({ourProps:y,theirProps:u,slot:g,defaultTag:YT,name:f.name||"Description"})}let XT=xt(KT),Xy=Object.assign(XT,{});var Zy=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Zy||{});let ZT=x.createContext(()=>{});function JT({value:t,children:e}){return re.createElement(ZT.Provider,{value:t},e)}let ex=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};function Jy(t,e){let r=t(),s=new Set;return{getSnapshot(){return r},subscribe(l){return s.add(l),()=>s.delete(l)},dispatch(l,...u){let f=e[l].call(r,...u);f&&(r=f,s.forEach(h=>h()))}}}function ev(t){return x.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let tx=new ex(()=>Jy(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let r=this.slice();return r.splice(e,1),r}}));function _i(t,e){let r=tx.get(e),s=x.useId(),l=ev(r);if(gt(()=>{if(t)return r.dispatch("ADD",s),()=>r.dispatch("REMOVE",s)},[r,t]),!t)return!1;let u=l.indexOf(s),f=l.length;return u===-1&&(u=f,f+=1),u===f-1}let Nc=new Map,ys=new Map;function bm(t){var e;let r=(e=ys.get(t))!=null?e:0;return ys.set(t,r+1),r!==0?()=>Om(t):(Nc.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Om(t))}function Om(t){var e;let r=(e=ys.get(t))!=null?e:1;if(r===1?ys.delete(t):ys.set(t,r-1),r!==1)return;let s=Nc.get(t);s&&(s["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",s["aria-hidden"]),t.inert=s.inert,Nc.delete(t))}function nx(t,{allowed:e,disallowed:r}={}){let s=_i(t,"inert-others");gt(()=>{var l,u;if(!s)return;let f=nr();for(let p of(l=r==null?void 0:r())!=null?l:[])p&&f.add(bm(p));let h=(u=e==null?void 0:e())!=null?u:[];for(let p of h){if(!p)continue;let g=wl(p);if(!g)continue;let y=p.parentElement;for(;y&&y!==g.body;){for(let v of y.children)h.some(S=>v.contains(S))||f.add(bm(v));y=y.parentElement}}return f.dispose},[s,e,r])}function rx(t,e,r){let s=br(l=>{let u=l.getBoundingClientRect();u.x===0&&u.y===0&&u.width===0&&u.height===0&&r()});x.useEffect(()=>{if(!t)return;let l=e===null?null:e instanceof HTMLElement?e:e.current;if(!l)return;let u=nr();if(typeof ResizeObserver<"u"){let f=new ResizeObserver(()=>s.current(l));f.observe(l),u.add(()=>f.disconnect())}if(typeof IntersectionObserver<"u"){let f=new IntersectionObserver(()=>s.current(l));f.observe(l),u.add(()=>f.disconnect())}return()=>u.dispose()},[e,s,t])}let hl=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),ix=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Sn=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Sn||{}),Rc=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Rc||{}),sx=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(sx||{});function ox(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(hl)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function lx(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ix)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var tv=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(tv||{});function ax(t,e=0){var r;return t===((r=wl(t))==null?void 0:r.body)?!1:er(e,{0(){return t.matches(hl)},1(){let s=t;for(;s!==null;){if(s.matches(hl))return!0;s=s.parentElement}return!1}})}var ux=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(ux||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Tn(t){t==null||t.focus({preventScroll:!0})}let cx=["textarea","input"].join(",");function fx(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,cx))!=null?r:!1}function dx(t,e=r=>r){return t.slice().sort((r,s)=>{let l=e(r),u=e(s);if(l===null||u===null)return 0;let f=l.compareDocumentPosition(u);return f&Node.DOCUMENT_POSITION_FOLLOWING?-1:f&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function vs(t,e,{sorted:r=!0,relativeTo:s=null,skipElements:l=[]}={}){let u=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,f=Array.isArray(t)?r?dx(t):t:e&64?lx(t):ox(t);l.length>0&&f.length>1&&(f=f.filter(R=>!l.some(k=>k!=null&&"current"in k?(k==null?void 0:k.current)===R:k===R))),s=s??u.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,f.indexOf(s))-1;if(e&4)return Math.max(0,f.indexOf(s))+1;if(e&8)return f.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=e&32?{preventScroll:!0}:{},y=0,v=f.length,S;do{if(y>=v||y+v<=0)return 0;let R=p+y;if(e&16)R=(R+v)%v;else{if(R<0)return 3;if(R>=v)return 1}S=f[R],S==null||S.focus(g),y+=h}while(S!==u.activeElement);return e&6&&fx(S)&&S.select(),2}function nv(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function hx(){return/Android/gi.test(window.navigator.userAgent)}function px(){return nv()||hx()}function fs(t,e,r,s){let l=br(r);x.useEffect(()=>{if(!t)return;function u(f){l.current(f)}return document.addEventListener(e,u,s),()=>document.removeEventListener(e,u,s)},[t,e,s])}function rv(t,e,r,s){let l=br(r);x.useEffect(()=>{if(!t)return;function u(f){l.current(f)}return window.addEventListener(e,u,s),()=>window.removeEventListener(e,u,s)},[t,e,s])}const Dm=30;function mx(t,e,r){let s=_i(t,"outside-click"),l=br(r),u=x.useCallback(function(p,g){if(p.defaultPrevented)return;let y=g(p);if(y===null||!y.getRootNode().contains(y)||!y.isConnected)return;let v=function S(R){return typeof R=="function"?S(R()):Array.isArray(R)||R instanceof Set?R:[R]}(e);for(let S of v)if(S!==null&&(S.contains(y)||p.composed&&p.composedPath().includes(S)))return;return!ax(y,tv.Loose)&&y.tabIndex!==-1&&p.preventDefault(),l.current(p,y)},[l,e]),f=x.useRef(null);fs(s,"pointerdown",p=>{var g,y;f.current=((y=(g=p.composedPath)==null?void 0:g.call(p))==null?void 0:y[0])||p.target},!0),fs(s,"mousedown",p=>{var g,y;f.current=((y=(g=p.composedPath)==null?void 0:g.call(p))==null?void 0:y[0])||p.target},!0),fs(s,"click",p=>{px()||f.current&&(u(p,()=>f.current),f.current=null)},!0);let h=x.useRef({x:0,y:0});fs(s,"touchstart",p=>{h.current.x=p.touches[0].clientX,h.current.y=p.touches[0].clientY},!0),fs(s,"touchend",p=>{let g={x:p.changedTouches[0].clientX,y:p.changedTouches[0].clientY};if(!(Math.abs(g.x-h.current.x)>=Dm||Math.abs(g.y-h.current.y)>=Dm))return u(p,()=>p.target instanceof HTMLElement?p.target:null)},!0),rv(s,"blur",p=>u(p,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function bs(...t){return x.useMemo(()=>wl(...t),[...t])}function iv(t,e,r,s){let l=br(r);x.useEffect(()=>{t=t??window;function u(f){l.current(f)}return t.addEventListener(e,u,s),()=>t.removeEventListener(e,u,s)},[t,e,s])}function gx(){let t;return{before({doc:e}){var r;let s=e.documentElement,l=(r=e.defaultView)!=null?r:window;t=Math.max(0,l.innerWidth-s.clientWidth)},after({doc:e,d:r}){let s=e.documentElement,l=Math.max(0,s.clientWidth-s.offsetWidth),u=Math.max(0,t-l);r.style(s,"paddingRight",`${u}px`)}}}function yx(){return nv()?{before({doc:t,d:e,meta:r}){function s(l){return r.containers.flatMap(u=>u()).some(u=>u.contains(l))}e.microTask(()=>{var l;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let h=nr();h.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>h.dispose()))}let u=(l=window.scrollY)!=null?l:window.pageYOffset,f=null;e.addEventListener(t,"click",h=>{if(h.target instanceof HTMLElement)try{let p=h.target.closest("a");if(!p)return;let{hash:g}=new URL(p.href),y=t.querySelector(g);y&&!s(y)&&(f=y)}catch{}},!0),e.addEventListener(t,"touchstart",h=>{if(h.target instanceof HTMLElement)if(s(h.target)){let p=h.target;for(;p.parentElement&&s(p.parentElement);)p=p.parentElement;e.style(p,"overscrollBehavior","contain")}else e.style(h.target,"touchAction","none")}),e.addEventListener(t,"touchmove",h=>{if(h.target instanceof HTMLElement){if(h.target.tagName==="INPUT")return;if(s(h.target)){let p=h.target;for(;p.parentElement&&p.dataset.headlessuiPortal!==""&&!(p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth);)p=p.parentElement;p.dataset.headlessuiPortal===""&&h.preventDefault()}else h.preventDefault()}},{passive:!1}),e.add(()=>{var h;let p=(h=window.scrollY)!=null?h:window.pageYOffset;u!==p&&window.scrollTo(0,u),f&&f.isConnected&&(f.scrollIntoView({block:"nearest"}),f=null)})})}}:{}}function vx(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function _x(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Cr=Jy(()=>new Map,{PUSH(t,e){var r;let s=(r=this.get(t))!=null?r:{doc:t,count:0,d:nr(),meta:new Set};return s.count++,s.meta.add(e),this.set(t,s),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let s={doc:t,d:e,meta:_x(r)},l=[yx(),gx(),vx()];l.forEach(({before:u})=>u==null?void 0:u(s)),l.forEach(({after:u})=>u==null?void 0:u(s))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Cr.subscribe(()=>{let t=Cr.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let s=e.get(r.doc)==="hidden",l=r.count!==0;(l&&!s||!l&&s)&&Cr.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Cr.dispatch("TEARDOWN",r)}});function Ex(t,e,r=()=>({containers:[]})){let s=ev(Cr),l=e?s.get(e):void 0,u=l?l.count>0:!1;return gt(()=>{if(!(!e||!t))return Cr.dispatch("PUSH",e,r),()=>Cr.dispatch("POP",e,r)},[t,e]),u}function Sx(t,e,r=()=>[document.body]){let s=_i(t,"scroll-lock");Ex(s,e,l=>{var u;return{containers:[...(u=l.containers)!=null?u:[],r]}})}function wx(t=0){let[e,r]=x.useState(t),s=x.useCallback(p=>r(p),[e]),l=x.useCallback(p=>r(g=>g|p),[e]),u=x.useCallback(p=>(e&p)===p,[e]),f=x.useCallback(p=>r(g=>g&~p),[r]),h=x.useCallback(p=>r(g=>g^p),[r]);return{flags:e,setFlag:s,addFlag:l,hasFlag:u,removeFlag:f,toggleFlag:h}}var Cx={},Lm,Mm;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Lm=process==null?void 0:Cx)==null?void 0:Lm.NODE_ENV)==="test"&&typeof((Mm=Element==null?void 0:Element.prototype)==null?void 0:Mm.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Tx=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Tx||{});function xx(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function Ix(t,e,r,s){let[l,u]=x.useState(r),{hasFlag:f,addFlag:h,removeFlag:p}=wx(t&&l?3:0),g=x.useRef(!1),y=x.useRef(!1),v=ff();return gt(()=>{var S;if(t){if(r&&u(!0),!e){r&&h(3);return}return(S=s==null?void 0:s.start)==null||S.call(s,r),Nx(e,{inFlight:g,prepare(){y.current?y.current=!1:y.current=g.current,g.current=!0,!y.current&&(r?(h(3),p(4)):(h(4),p(2)))},run(){y.current?r?(p(3),h(4)):(p(4),h(3)):r?p(1):h(1)},done(){var R;y.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(g.current=!1,p(7),r||u(!1),(R=s==null?void 0:s.end)==null||R.call(s,r))}})}},[t,r,e,v]),t?[l,{closed:f(1),enter:f(2),leave:f(4),transition:f(2)||f(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Nx(t,{prepare:e,run:r,done:s,inFlight:l}){let u=nr();return kx(t,{prepare:e,inFlight:l}),u.nextFrame(()=>{r(),u.requestAnimationFrame(()=>{u.add(Rx(t,s))})}),u.dispose}function Rx(t,e){var r,s;let l=nr();if(!t)return l.dispose;let u=!1;l.add(()=>{u=!0});let f=(s=(r=t.getAnimations)==null?void 0:r.call(t).filter(h=>h instanceof CSSTransition))!=null?s:[];return f.length===0?(e(),l.dispose):(Promise.allSettled(f.map(h=>h.finished)).then(()=>{u||e()}),l.dispose)}function kx(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let s=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=s}function hf(t,e){let r=x.useRef([]),s=Me(t);x.useEffect(()=>{let l=[...r.current];for(let[u,f]of e.entries())if(r.current[u]!==f){let h=s(e,l);return r.current=e,h}},[s,...e])}let Tl=x.createContext(null);Tl.displayName="OpenClosedContext";var Zt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Zt||{});function xl(){return x.useContext(Tl)}function Px({value:t,children:e}){return re.createElement(Tl.Provider,{value:t},e)}function Ax({children:t}){return re.createElement(Tl.Provider,{value:null},t)}function bx(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let qn=[];bx(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||qn[0]===e.target)return;let r=e.target;r=r.closest(hl),qn.unshift(r??e.target),qn=qn.filter(s=>s!=null&&s.isConnected),qn.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function sv(t){let e=Me(t),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,Cl(()=>{r.current&&e()})}),[e])}function Ox(){let t=typeof document>"u";return"useSyncExternalStore"in gp?(e=>e.useSyncExternalStore)(gp)(()=>()=>{},()=>!1,()=>!t):!1}function Os(){let t=Ox(),[e,r]=x.useState(xr.isHandoffComplete);return e&&xr.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{e!==!0&&r(!0)},[e]),x.useEffect(()=>xr.handoff(),[]),t?!1:e}let ov=x.createContext(!1);function Dx(){return x.useContext(ov)}function Fm(t){return re.createElement(ov.Provider,{value:t.force},t.children)}function Lx(t){let e=Dx(),r=x.useContext(av),s=bs(t),[l,u]=x.useState(()=>{var f;if(!e&&r!==null)return(f=r.current)!=null?f:null;if(xr.isServer)return null;let h=s==null?void 0:s.getElementById("headlessui-portal-root");if(h)return h;if(s===null)return null;let p=s.createElement("div");return p.setAttribute("id","headlessui-portal-root"),s.body.appendChild(p)});return x.useEffect(()=>{l!==null&&(s!=null&&s.body.contains(l)||s==null||s.body.appendChild(l))},[l,s]),x.useEffect(()=>{e||r!==null&&u(r.current)},[r,u,e]),l}let lv=x.Fragment,Mx=xt(function(t,e){let r=t,s=x.useRef(null),l=dn(QT(v=>{s.current=v}),e),u=bs(s),f=Lx(s),[h]=x.useState(()=>{var v;return xr.isServer?null:(v=u==null?void 0:u.createElement("div"))!=null?v:null}),p=x.useContext(kc),g=Os();gt(()=>{!f||!h||f.contains(h)||(h.setAttribute("data-headlessui-portal",""),f.appendChild(h))},[f,h]),gt(()=>{if(h&&p)return p.register(h)},[p,h]),sv(()=>{var v;!f||!h||(h instanceof Node&&f.contains(h)&&f.removeChild(h),f.childNodes.length<=0&&((v=f.parentElement)==null||v.removeChild(f)))});let y=zt();return g?!f||!h?null:LT.createPortal(y({ourProps:{ref:l},theirProps:r,slot:{},defaultTag:lv,name:"Portal"}),h):null});function Fx(t,e){let r=dn(e),{enabled:s=!0,...l}=t,u=zt();return s?re.createElement(Mx,{...l,ref:r}):u({ourProps:{ref:r},theirProps:l,slot:{},defaultTag:lv,name:"Portal"})}let Hx=x.Fragment,av=x.createContext(null);function Bx(t,e){let{target:r,...s}=t,l={ref:dn(e)},u=zt();return re.createElement(av.Provider,{value:r},u({ourProps:l,theirProps:s,defaultTag:Hx,name:"Popover.Group"}))}let kc=x.createContext(null);function Ux(){let t=x.useContext(kc),e=x.useRef([]),r=Me(u=>(e.current.push(u),t&&t.register(u),()=>s(u))),s=Me(u=>{let f=e.current.indexOf(u);f!==-1&&e.current.splice(f,1),t&&t.unregister(u)}),l=x.useMemo(()=>({register:r,unregister:s,portals:e}),[r,s,e]);return[e,x.useMemo(()=>function({children:u}){return re.createElement(kc.Provider,{value:l},u)},[l])]}let jx=xt(Fx),uv=xt(Bx),$x=Object.assign(jx,{Group:uv});function zx(t,e=typeof document<"u"?document.defaultView:null,r){let s=_i(t,"escape");iv(e,"keydown",l=>{s&&(l.defaultPrevented||l.key===Zy.Escape&&r(l))})}function Wx(){var t;let[e]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,s]=x.useState((t=e==null?void 0:e.matches)!=null?t:!1);return gt(()=>{if(!e)return;function l(u){s(u.matches)}return e.addEventListener("change",l),()=>e.removeEventListener("change",l)},[e]),r}function Gx({defaultContainers:t=[],portals:e,mainTreeNode:r}={}){let s=bs(r),l=Me(()=>{var u,f;let h=[];for(let p of t)p!==null&&(p instanceof HTMLElement?h.push(p):"current"in p&&p.current instanceof HTMLElement&&h.push(p.current));if(e!=null&&e.current)for(let p of e.current)h.push(p);for(let p of(u=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?u:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(r&&(p.contains(r)||p.contains((f=r==null?void 0:r.getRootNode())==null?void 0:f.host))||h.some(g=>p.contains(g))||h.push(p));return h});return{resolveContainers:l,contains:Me(u=>l().some(f=>f.contains(u)))}}let cv=x.createContext(null);function Hm({children:t,node:e}){let[r,s]=x.useState(null),l=fv(e??r);return re.createElement(cv.Provider,{value:l},t,l===null&&re.createElement(Ic,{features:dl.Hidden,ref:u=>{var f,h;if(u){for(let p of(h=(f=wl(u))==null?void 0:f.querySelectorAll("html > *, body > *"))!=null?h:[])if(p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p!=null&&p.contains(u)){s(p);break}}}}))}function fv(t=null){var e;return(e=x.useContext(cv))!=null?e:t}function pf(){let t=x.useRef(!1);return gt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var ds=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(ds||{});function Vx(){let t=x.useRef(0);return rv(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function dv(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let Qx="div";var Er=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Er||{});function qx(t,e){let r=x.useRef(null),s=dn(r,e),{initialFocus:l,initialFocusFallback:u,containers:f,features:h=15,...p}=t;Os()||(h=0);let g=bs(r);Zx(h,{ownerDocument:g});let y=Jx(h,{ownerDocument:g,container:r,initialFocus:l,initialFocusFallback:u});eI(h,{ownerDocument:g,container:r,containers:f,previousActiveElement:y});let v=Vx(),S=Me(G=>{let B=r.current;B&&(J=>J())(()=>{er(v.current,{[ds.Forwards]:()=>{vs(B,Sn.First,{skipElements:[G.relatedTarget,u]})},[ds.Backwards]:()=>{vs(B,Sn.Last,{skipElements:[G.relatedTarget,u]})}})})}),R=_i(!!(h&2),"focus-trap#tab-lock"),k=ff(),P=x.useRef(!1),D={ref:s,onKeyDown(G){G.key=="Tab"&&(P.current=!0,k.requestAnimationFrame(()=>{P.current=!1}))},onBlur(G){if(!(h&4))return;let B=dv(f);r.current instanceof HTMLElement&&B.add(r.current);let J=G.relatedTarget;J instanceof HTMLElement&&J.dataset.headlessuiFocusGuard!=="true"&&(hv(B,J)||(P.current?vs(r.current,er(v.current,{[ds.Forwards]:()=>Sn.Next,[ds.Backwards]:()=>Sn.Previous})|Sn.WrapAround,{relativeTo:G.target}):G.target instanceof HTMLElement&&Tn(G.target)))}},$=zt();return re.createElement(re.Fragment,null,R&&re.createElement(Ic,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:S,features:dl.Focusable}),$({ourProps:D,theirProps:p,defaultTag:Qx,name:"FocusTrap"}),R&&re.createElement(Ic,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:S,features:dl.Focusable}))}let Yx=xt(qx),Kx=Object.assign(Yx,{features:Er});function Xx(t=!0){let e=x.useRef(qn.slice());return hf(([r],[s])=>{s===!0&&r===!1&&Cl(()=>{e.current.splice(0)}),s===!1&&r===!0&&(e.current=qn.slice())},[t,qn,e]),Me(()=>{var r;return(r=e.current.find(s=>s!=null&&s.isConnected))!=null?r:null})}function Zx(t,{ownerDocument:e}){let r=!!(t&8),s=Xx(r);hf(()=>{r||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Tn(s())},[r]),sv(()=>{r&&Tn(s())})}function Jx(t,{ownerDocument:e,container:r,initialFocus:s,initialFocusFallback:l}){let u=x.useRef(null),f=_i(!!(t&1),"focus-trap#initial-focus"),h=pf();return hf(()=>{if(t===0)return;if(!f){l!=null&&l.current&&Tn(l.current);return}let p=r.current;p&&Cl(()=>{if(!h.current)return;let g=e==null?void 0:e.activeElement;if(s!=null&&s.current){if((s==null?void 0:s.current)===g){u.current=g;return}}else if(p.contains(g)){u.current=g;return}if(s!=null&&s.current)Tn(s.current);else{if(t&16){if(vs(p,Sn.First|Sn.AutoFocus)!==Rc.Error)return}else if(vs(p,Sn.First)!==Rc.Error)return;if(l!=null&&l.current&&(Tn(l.current),(e==null?void 0:e.activeElement)===l.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}u.current=e==null?void 0:e.activeElement})},[l,f,t]),u}function eI(t,{ownerDocument:e,container:r,containers:s,previousActiveElement:l}){let u=pf(),f=!!(t&4);iv(e==null?void 0:e.defaultView,"focus",h=>{if(!f||!u.current)return;let p=dv(s);r.current instanceof HTMLElement&&p.add(r.current);let g=l.current;if(!g)return;let y=h.target;y&&y instanceof HTMLElement?hv(p,y)?(l.current=y,Tn(y)):(h.preventDefault(),h.stopPropagation(),Tn(g)):Tn(l.current)},!0)}function hv(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function pv(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:gv)!==x.Fragment||re.Children.count(t.children)===1}let Il=x.createContext(null);Il.displayName="TransitionContext";var tI=(t=>(t.Visible="visible",t.Hidden="hidden",t))(tI||{});function nI(){let t=x.useContext(Il);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function rI(){let t=x.useContext(Nl);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Nl=x.createContext(null);Nl.displayName="NestingContext";function Rl(t){return"children"in t?Rl(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function mv(t,e){let r=br(t),s=x.useRef([]),l=pf(),u=ff(),f=Me((R,k=Yn.Hidden)=>{let P=s.current.findIndex(({el:D})=>D===R);P!==-1&&(er(k,{[Yn.Unmount](){s.current.splice(P,1)},[Yn.Hidden](){s.current[P].state="hidden"}}),u.microTask(()=>{var D;!Rl(s)&&l.current&&((D=r.current)==null||D.call(r))}))}),h=Me(R=>{let k=s.current.find(({el:P})=>P===R);return k?k.state!=="visible"&&(k.state="visible"):s.current.push({el:R,state:"visible"}),()=>f(R,Yn.Unmount)}),p=x.useRef([]),g=x.useRef(Promise.resolve()),y=x.useRef({enter:[],leave:[]}),v=Me((R,k,P)=>{p.current.splice(0),e&&(e.chains.current[k]=e.chains.current[k].filter(([D])=>D!==R)),e==null||e.chains.current[k].push([R,new Promise(D=>{p.current.push(D)})]),e==null||e.chains.current[k].push([R,new Promise(D=>{Promise.all(y.current[k].map(([$,G])=>G)).then(()=>D())})]),k==="enter"?g.current=g.current.then(()=>e==null?void 0:e.wait.current).then(()=>P(k)):P(k)}),S=Me((R,k,P)=>{Promise.all(y.current[k].splice(0).map(([D,$])=>$)).then(()=>{var D;(D=p.current.shift())==null||D()}).then(()=>P(k))});return x.useMemo(()=>({children:s,register:h,unregister:f,onStart:v,onStop:S,wait:g,chains:y}),[h,f,s,v,S,y,g])}let gv=x.Fragment,yv=fl.RenderStrategy;function iI(t,e){var r,s;let{transition:l=!0,beforeEnter:u,afterEnter:f,beforeLeave:h,afterLeave:p,enter:g,enterFrom:y,enterTo:v,entered:S,leave:R,leaveFrom:k,leaveTo:P,...D}=t,[$,G]=x.useState(null),B=x.useRef(null),J=pv(t),L=dn(...J?[B,e,G]:e===null?[]:[e]),ie=(r=D.unmount)==null||r?Yn.Unmount:Yn.Hidden,{show:ye,appear:Qe,initial:It}=nI(),[Fe,dt]=x.useState(ye?"visible":"hidden"),it=rI(),{register:je,unregister:qe}=it;gt(()=>je(B),[je,B]),gt(()=>{if(ie===Yn.Hidden&&B.current){if(ye&&Fe!=="visible"){dt("visible");return}return er(Fe,{hidden:()=>qe(B),visible:()=>je(B)})}},[Fe,B,je,qe,ye,ie]);let st=Os();gt(()=>{if(J&&st&&Fe==="visible"&&B.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[B,Fe,st,J]);let ze=It&&!Qe,Te=Qe&&ye&&It,U=x.useRef(!1),K=mv(()=>{U.current||(dt("hidden"),qe(B))},it),z=Me(ve=>{U.current=!0;let de=ve?"enter":"leave";K.onStart(B,de,_e=>{_e==="enter"?u==null||u():_e==="leave"&&(h==null||h())})}),C=Me(ve=>{let de=ve?"enter":"leave";U.current=!1,K.onStop(B,de,_e=>{_e==="enter"?f==null||f():_e==="leave"&&(p==null||p())}),de==="leave"&&!Rl(K)&&(dt("hidden"),qe(B))});x.useEffect(()=>{J&&l||(z(ye),C(ye))},[ye,J,l]);let A=!(!l||!J||!st||ze),[,Z]=Ix(A,$,ye,{start:z,end:C}),se=_r({ref:L,className:((s=xc(D.className,Te&&g,Te&&y,Z.enter&&g,Z.enter&&Z.closed&&y,Z.enter&&!Z.closed&&v,Z.leave&&R,Z.leave&&!Z.closed&&k,Z.leave&&Z.closed&&P,!Z.transition&&ye&&S))==null?void 0:s.trim())||void 0,...xx(Z)}),oe=0;Fe==="visible"&&(oe|=Zt.Open),Fe==="hidden"&&(oe|=Zt.Closed),Z.enter&&(oe|=Zt.Opening),Z.leave&&(oe|=Zt.Closing);let fe=zt();return re.createElement(Nl.Provider,{value:K},re.createElement(Px,{value:oe},fe({ourProps:se,theirProps:D,defaultTag:gv,features:yv,visible:Fe==="visible",name:"Transition.Child"})))}function sI(t,e){let{show:r,appear:s=!1,unmount:l=!0,...u}=t,f=x.useRef(null),h=pv(t),p=dn(...h?[f,e]:e===null?[]:[e]);Os();let g=xl();if(r===void 0&&g!==null&&(r=(g&Zt.Open)===Zt.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[y,v]=x.useState(r?"visible":"hidden"),S=mv(()=>{r||v("hidden")}),[R,k]=x.useState(!0),P=x.useRef([r]);gt(()=>{R!==!1&&P.current[P.current.length-1]!==r&&(P.current.push(r),k(!1))},[P,r]);let D=x.useMemo(()=>({show:r,appear:s,initial:R}),[r,s,R]);gt(()=>{r?v("visible"):!Rl(S)&&f.current!==null&&v("hidden")},[r,S]);let $={unmount:l},G=Me(()=>{var L;R&&k(!1),(L=t.beforeEnter)==null||L.call(t)}),B=Me(()=>{var L;R&&k(!1),(L=t.beforeLeave)==null||L.call(t)}),J=zt();return re.createElement(Nl.Provider,{value:S},re.createElement(Il.Provider,{value:D},J({ourProps:{...$,as:x.Fragment,children:re.createElement(vv,{ref:p,...$,...u,beforeEnter:G,beforeLeave:B})},theirProps:{},defaultTag:x.Fragment,features:yv,visible:y==="visible",name:"Transition"})))}function oI(t,e){let r=x.useContext(Il)!==null,s=xl()!==null;return re.createElement(re.Fragment,null,!r&&s?re.createElement(Pc,{ref:e,...t}):re.createElement(vv,{ref:e,...t}))}let Pc=xt(sI),vv=xt(iI),mf=xt(oI),lI=Object.assign(Pc,{Child:mf,Root:Pc});var aI=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(aI||{}),uI=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(uI||{});let cI={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},gf=x.createContext(null);gf.displayName="DialogContext";function kl(t){let e=x.useContext(gf);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,kl),r}return e}function fI(t,e){return er(e.type,cI,t,e)}let Bm=xt(function(t,e){let r=x.useId(),{id:s=`headlessui-dialog-${r}`,open:l,onClose:u,initialFocus:f,role:h="dialog",autoFocus:p=!0,__demoMode:g=!1,unmount:y=!1,...v}=t,S=x.useRef(!1);h=function(){return h==="dialog"||h==="alertdialog"?h:(S.current||(S.current=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let R=xl();l===void 0&&R!==null&&(l=(R&Zt.Open)===Zt.Open);let k=x.useRef(null),P=dn(k,e),D=bs(k),$=l?0:1,[G,B]=x.useReducer(fI,{titleId:null,descriptionId:null,panelRef:x.createRef()}),J=Me(()=>u(!1)),L=Me(C=>B({type:0,id:C})),ie=Os()?$===0:!1,[ye,Qe]=Ux(),It={get current(){var C;return(C=G.panelRef.current)!=null?C:k.current}},Fe=fv(),{resolveContainers:dt}=Gx({mainTreeNode:Fe,portals:ye,defaultContainers:[It]}),it=R!==null?(R&Zt.Closing)===Zt.Closing:!1;nx(g||it?!1:ie,{allowed:Me(()=>{var C,A;return[(A=(C=k.current)==null?void 0:C.closest("[data-headlessui-portal]"))!=null?A:null]}),disallowed:Me(()=>{var C;return[(C=Fe==null?void 0:Fe.closest("body > *:not(#headlessui-portal-root)"))!=null?C:null]})}),mx(ie,dt,C=>{C.preventDefault(),J()}),zx(ie,D==null?void 0:D.defaultView,C=>{C.preventDefault(),C.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),J()}),Sx(g||it?!1:ie,D,dt),rx(ie,k,J);let[je,qe]=qT(),st=x.useMemo(()=>[{dialogState:$,close:J,setTitleId:L,unmount:y},G],[$,G,J,L,y]),ze=x.useMemo(()=>({open:$===0}),[$]),Te={ref:P,id:s,role:h,tabIndex:-1,"aria-modal":g?void 0:$===0?!0:void 0,"aria-labelledby":G.titleId,"aria-describedby":je,unmount:y},U=!Wx(),K=Er.None;ie&&!g&&(K|=Er.RestoreFocus,K|=Er.TabLock,p&&(K|=Er.AutoFocus),U&&(K|=Er.InitialFocus));let z=zt();return re.createElement(Ax,null,re.createElement(Fm,{force:!0},re.createElement($x,null,re.createElement(gf.Provider,{value:st},re.createElement(uv,{target:k},re.createElement(Fm,{force:!1},re.createElement(qe,{slot:ze},re.createElement(Qe,null,re.createElement(Kx,{initialFocus:f,initialFocusFallback:k,containers:dt,features:K},re.createElement(JT,{value:J},z({ourProps:Te,theirProps:v,slot:ze,defaultTag:dI,features:hI,visible:$===0,name:"Dialog"})))))))))))}),dI="div",hI=fl.RenderStrategy|fl.Static;function pI(t,e){let{transition:r=!1,open:s,...l}=t,u=xl(),f=t.hasOwnProperty("open")||u!==null,h=t.hasOwnProperty("onClose");if(!f&&!h)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!f)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!h)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!u&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(s!==void 0||r)&&!l.static?re.createElement(Hm,null,re.createElement(lI,{show:s,transition:r,unmount:l.unmount},re.createElement(Bm,{ref:e,...l}))):re.createElement(Hm,null,re.createElement(Bm,{ref:e,open:s,...l}))}let mI="div";function gI(t,e){let r=x.useId(),{id:s=`headlessui-dialog-panel-${r}`,transition:l=!1,...u}=t,[{dialogState:f,unmount:h},p]=kl("Dialog.Panel"),g=dn(e,p.panelRef),y=x.useMemo(()=>({open:f===0}),[f]),v=Me(D=>{D.stopPropagation()}),S={ref:g,id:s,onClick:v},R=l?mf:x.Fragment,k=l?{unmount:h}:{},P=zt();return re.createElement(R,{...k},P({ourProps:S,theirProps:u,slot:y,defaultTag:mI,name:"Dialog.Panel"}))}let yI="div";function vI(t,e){let{transition:r=!1,...s}=t,[{dialogState:l,unmount:u}]=kl("Dialog.Backdrop"),f=x.useMemo(()=>({open:l===0}),[l]),h={ref:e,"aria-hidden":!0},p=r?mf:x.Fragment,g=r?{unmount:u}:{},y=zt();return re.createElement(p,{...g},y({ourProps:h,theirProps:s,slot:f,defaultTag:yI,name:"Dialog.Backdrop"}))}let _I="h2";function EI(t,e){let r=x.useId(),{id:s=`headlessui-dialog-title-${r}`,...l}=t,[{dialogState:u,setTitleId:f}]=kl("Dialog.Title"),h=dn(e);x.useEffect(()=>(f(s),()=>f(null)),[s,f]);let p=x.useMemo(()=>({open:u===0}),[u]),g={ref:h,id:s};return zt()({ourProps:g,theirProps:l,slot:p,defaultTag:_I,name:"Dialog.Title"})}let SI=xt(pI),_v=xt(gI);xt(vI);let Ev=xt(EI),wI=Object.assign(SI,{Panel:_v,Title:Ev,Description:Xy});function CI(t){var e,r,s,l;return F.jsx(wI,{open:t.isOpen,onClose:t.onClose,className:"bg-gray-900 bg-opacity-50 fixed inset-0 z-10 flex items-center justify-center",children:F.jsxs(_v,{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[F.jsx(Ev,{className:"text-lg font-semibold text-gray-900",children:(e=t.itemM)==null?void 0:e.name}),F.jsx(Xy,{className:"mt-2 text-gray-600",children:(r=t.itemM)==null?void 0:r.desc}),F.jsxs("p",{className:"mt-4 text-sm text-gray-700",children:[F.jsx(Ht,{id:"app.label.priceperH"}),": ",F.jsx(cf,{value:(s=t.itemM)!=null&&s.price?t.itemM.price:0,style:"currency",currency:"EUR"})]}),F.jsxs("p",{className:"mt-4 text-sm text-gray-700",children:[F.jsx(Ht,{id:"app.label.totalquantity"}),": ",(l=t.itemM)==null?void 0:l.quantity]}),F.jsx("div",{className:"mt-6 flex justify-end",children:F.jsx("button",{onClick:t.onClose,className:"px-4 py-2 bg-blue-600 text-white rounded-md shadow hover:bg-blue-700",children:F.jsx(Ht,{id:"app.label.close"})})})]})})}const TI={"app.label.language":"Idioma","app.label.title":"Comida Rápida Online","app.label.menu":"Menú","app.label.dispo":"Disponibilidad","app.label.orderFood":"Pedir Comida","app.label.date":"Fecha","app.label.details":"Ver detalle","app.label.chose":"Elige desde nuestro menú","app.label.order":"Pedir","app.label.priceperH":"Precio por cada una","app.label.totalquantity":"Quedan en total","app.label.close":"Cerrar","app.label.noMoreH":"¡No nos quedan de esas hamburguesas!"},Sv={"app.label.language":"Language","app.label.title":"Fast Food Online","app.label.menu":"Menu","app.label.dispo":"Availability","app.label.orderFood":"Order Food","app.label.date":"Date","app.label.details":"Details","app.label.chose":"Chose from our Menu","app.label.order":"Order","app.label.priceperH":"Price for each one","app.label.totalquantity":"Total quantity","app.label.close":"Close","app.label.noMoreH":"¡We don't have more Burguers!"},xI={en:Sv,es:TI},yf=x.createContext({locale:"en",messages:Sv,changeLanguage:()=>{}}),II=({children:t})=>{const e=navigator.language.startsWith("es")?"es":"en",[r,s]=x.useState(e),l=u=>{s(u)};return F.jsx(yf.Provider,{value:{locale:r,messages:xI[r],changeLanguage:l},children:t})},wv=re.createContext([]);function NI(){const[t,e]=x.useState(!1),[r,s]=x.useState(!1),[l,u]=x.useState(),{locale:f,changeLanguage:h}=x.useContext(yf),[p]=x.useState([{id:1,name:"Hamburguesa de Pollo",quantity:40,desc:"Hamburguesa de pollo frito con lechuga, tomate y mayonesa",price:24,image:"Hamburg.jpg"},{id:2,name:"Hamburguesa de Vacuno",quantity:50,desc:"Hamburguesa de Vacuno frito con tomate y mayonesa",price:26,image:"Hamburg.jpg"},{id:3,name:"Hamburguesa de Cerdo",quantity:60,desc:"Hamburguesa de Cerdo frito con tocino y mayonesa",price:26,image:"Hamburg.jpg"},{id:4,name:"Hamburguesa de Hormiga",quantity:70,desc:"Hamburguesa de Hormiga frita con tierra, tomate y mayonesa",price:26,image:"Hamburg.jpg"}]);return F.jsxs(wv.Provider,{value:p,children:[F.jsxs("div",{className:"App",children:[F.jsx("button",{className:"toggleButton",onClick:()=>{e(!t),s(!1)},children:t?F.jsx(Ht,{id:"app.label.dispo"}):F.jsx(Ht,{id:"app.label.orderFood"})}),F.jsx("h3",{className:"title",children:F.jsx(Ht,{id:"app.label.title"})}),!t&&F.jsxs(F.Fragment,{children:[F.jsx("h4",{className:"subTitle",children:F.jsx(Ht,{id:"app.label.menu"})}),F.jsx("ul",{className:"ulApp",children:p.map(g=>F.jsx(re.Fragment,{children:F.jsxs("li",{className:"liApp",children:[F.jsx("p",{children:g.name}),F.jsxs("p",{children:["#",F.jsx(cf,{value:g.quantity,style:"decimal"})]}),F.jsx("button",{onClick:()=>{s(!0),u(g)},className:"border rounded-2xl bg-cyan-700 text-white shadow-sm p-1 px-2 m-2",children:F.jsx(Ht,{id:"app.label.details"})})]})},g.id))})]}),t&&F.jsx(DT,{foodItems:p})]}),F.jsx("div",{children:F.jsx(CI,{isOpen:r,onClose:()=>{s(!1)},itemM:l})}),F.jsxs("select",{id:"language-select",onChange:g=>h(g.target.value),value:f,className:"mt-4 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[F.jsx("option",{value:"en",children:"English"}),F.jsx("option",{value:"es",children:"Español"})]})]})}k0.createRoot(document.getElementById("root")).render(F.jsx(x.StrictMode,{children:F.jsx(II,{children:F.jsx(yf.Consumer,{children:({locale:t,messages:e})=>F.jsx(OT,{locale:t,messages:e,children:F.jsx(NI,{})})})})}));
